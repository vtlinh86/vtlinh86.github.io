window.__require=function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var p="function"==typeof __require&&__require;if(!s&&p)return p(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({BulletStats:[function(e,t,o){"use strict";cc._RF.push(t,"406a3IY38VBUbriWMCR70aZ","BulletStats");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BulletStats=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mDamage=-1,t}return r(t,e),t.prototype.GetDamage=function(){return this.mDamage},i([c(Number)],t.prototype,"mDamage",void 0),i([s],t)}(cc.Component);o.BulletStats=p,cc._RF.pop()},{}],Bullet_01:[function(e,t,o){"use strict";cc._RF.push(t,"8ad8801h7ZFpZZHqejQu/4g","Bullet_01");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,l=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.ACTIVE=2]="ACTIVE",e[e.END=3]="END"})(a||(a={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SPEED_START=1e3,t.MAX_CONTACT_COUNT=10,t}return r(t,e),t.prototype.start=function(){this.SetState(a.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:var t=this.mRigidBody.getWorldRotation()/180*Math.PI;this.mRigidBody.linearVelocity=new cc.Vec2(Math.cos(t)*this.SPEED_START,-Math.sin(t)*this.SPEED_START),this.mContactCount=this.MAX_CONTACT_COUNT,c.MessageMgr.SendMessage(s.GAME_MESSAGE.ADD_BULLET_FLYING,1);break;case a.ACTIVE:break;case a.END:c.MessageMgr.SendMessage(s.GAME_MESSAGE.ADD_BULLET_FLYING,-1),this.node.destroy()}},t.prototype.update=function(){switch(this.mState){case a.INIT:this.SetState(a.ACTIVE);break;case a.ACTIVE:this.UpdateRotation();break;case a.END:}},t.prototype.onBeginContact=function(){},t.prototype.onEndContact=function(e,t,o){switch(o.tag){case s.COLLIDER_TAG.PLATFORM:this.mContactCount--,this.mContactCount<=0&&this.SetState(a.END)}},t.prototype.UpdateRotation=function(){var e=this.mRigidBody.linearVelocity;this.node.angle=Math.atan2(e.y,e.x)/Math.PI*180},i([l(cc.RigidBody)],t.prototype,"mRigidBody",void 0),i([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],EnemyCollider:[function(e,t,o){"use strict";cc._RF.push(t,"084aa+xWsZP+aOwuPW4SAbT","EnemyCollider");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EnemyCollider=void 0;var a=e("../GameDefine"),s=e("./BulletStats"),c=e("./Enemy"),p=cc._decorator,u=p.ccclass,l=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mIsHead=!1,t}return r(t,e),t.prototype.start=function(){},t.prototype.onBeginContact=function(e,t,o){switch(o.tag){case a.COLLIDER_TAG.BULLET:var n=o.getComponent(s.BulletStats);if(null!=n){var r=cc.v2();o.body.getWorldPosition(r),this.mEnemy.GetShot(n.GetDamage(),this.mIsHead,r,o.body.linearVelocity)}}},i([l(c.Enemy)],t.prototype,"mEnemy",void 0),i([l(Boolean)],t.prototype,"mIsHead",void 0),i([u],t)}(cc.Component);o.EnemyCollider=h,cc._RF.pop()},{"../GameDefine":"GameDefine","./BulletStats":"BulletStats","./Enemy":"Enemy"}],EnemyStats:[function(e,t,o){"use strict";cc._RF.push(t,"c575fsP2jVAF5ZgdygxzWgS","EnemyStats");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EnemyStats=void 0;var a=cc._decorator,s=a.ccclass,c=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mHealth=1,t}return r(t,e),t.prototype.start=function(){this.SetHealth(this.mHealth)},t.prototype.AddHealth=function(e){this.SetHealth(this.mHealth+e)},t.prototype.IsDead=function(){return this.mHealth<=0},t.prototype.SetHealth=function(e){this.mHealth=Math.max(e,0)},i([c(Number)],t.prototype,"mHealth",void 0),i([s],t)}(cc.Component);o.EnemyStats=p,cc._RF.pop()},{}],Enemy:[function(e,t,o){"use strict";cc._RF.push(t,"7095832x6JHT4GsGCuZEQkc","Enemy");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Enemy=void 0;var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=e("./EnemyStats"),u=e("./RagDoll"),l=cc._decorator,h=l.ccclass,f=l.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.IDLE=2]="IDLE",e[e.DEAD=3]="DEAD"})(a||(a={}));var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){this.SetState(a.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:this.node.parent.scaleX<0&&(this.node.parent.scaleX*=-1,this.node.scaleX*=-1),this.UpdateEnableSensorCollider(),c.MessageMgr.SendMessage(s.GAME_MESSAGE.ADD_ENEMY,1);break;case a.IDLE:this.mSpine.setAnimation(0,"Idle",!0);break;case a.DEAD:c.MessageMgr.SendMessage(s.GAME_MESSAGE.ADD_ENEMY,-1),this.MakeRagdoll(),this.node.destroy()}},t.prototype.update=function(){switch(this.mState){case a.INIT:this.SetState(a.IDLE);break;case a.IDLE:case a.DEAD:}},t.prototype.GetShot=function(e,t,o,n){switch(this.mState){case a.IDLE:this.mEnemyStats.AddHealth(e),this.mEnemyStats.IsDead()&&(this.mBulletPhysicPos=o,this.mBulletSpeed=n,this.SetState(a.DEAD))}},t.prototype.UpdateEnableSensorCollider=function(){this.mContainerCollider_L.active=this.node.scaleX<0,this.mContainerCollider_R.active=this.node.scaleX>=0},t.prototype.MakeRagdoll=function(){var e=this.node.scaleX<0?this.mPrefabRagdoll_L:this.mPrefabRagdoll_R,t=cc.instantiate(e);t.parent=this.node.parent,t.position=this.node.position,t.getComponent(u.RagDoll).SetForce(this.mBulletSpeed,this.mBulletPhysicPos)},i([f(sp.Skeleton)],t.prototype,"mSpine",void 0),i([f(cc.Node)],t.prototype,"mContainerCollider_L",void 0),i([f(cc.Node)],t.prototype,"mContainerCollider_R",void 0),i([f(p.EnemyStats)],t.prototype,"mEnemyStats",void 0),i([f(cc.Prefab)],t.prototype,"mPrefabRagdoll_L",void 0),i([f(cc.Prefab)],t.prototype,"mPrefabRagdoll_R",void 0),i([h],t)}(cc.Component);o.Enemy=_,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr","./EnemyStats":"EnemyStats","./RagDoll":"RagDoll"}],GameDefine:[function(e,t,o){"use strict";cc._RF.push(t,"08b35U6NHVOx4wUFRw6kkob","GameDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.COLLIDER_TAG=o.GAME_MESSAGE=o.GameDefine=void 0;var n=function(){function e(){}return e.GetCanvasGame=function(){return cc.find("CanvasGame")},e.GetGameContainer=function(){return cc.find("CanvasGame/GameContainer")},e.CanvasGameUpdateAlignment=function(){var e=this.GetCanvasGame();if(null!=e){var t=e.getComponent(cc.Widget);null!=t&&t.updateAlignment()}},e.ConsoleLogVec2=function(e){console.log(Math.round(e.x),Math.round(e.y))},e.MoveToTarget=function(e,t,o,n){return o=Math.abs(o),e<t?Math.min(e+o*n,t):e>t?Math.max(e-o*n,t):e},e}();o.GameDefine=n,function(e){e[e.STATE_MAIN_MENU=0]="STATE_MAIN_MENU",e[e.STATE_INGAME=1]="STATE_INGAME",e[e.STATE_END_GAME_WIN=2]="STATE_END_GAME_WIN",e[e.STATE_END_GAME_LOSE=3]="STATE_END_GAME_LOSE",e[e.CLEAR_LEVEL=4]="CLEAR_LEVEL",e[e.LEVEL_IS_CLEARED=5]="LEVEL_IS_CLEARED",e[e.LOAD_LEVEL=6]="LOAD_LEVEL",e[e.PLAYER_ANIMATION_IDLE=7]="PLAYER_ANIMATION_IDLE",e[e.PLAYER_ANIMATION_AIM=8]="PLAYER_ANIMATION_AIM",e[e.PLAYER_START_AIM=9]="PLAYER_START_AIM",e[e.PLAYER_END_AIM=10]="PLAYER_END_AIM",e[e.PLAYER_SHOOT=11]="PLAYER_SHOOT",e[e.PLAYER_WIN=12]="PLAYER_WIN",e[e.PLAYER_LOSE=13]="PLAYER_LOSE",e[e.AIM_POSITION=14]="AIM_POSITION",e[e.AIM_RAY_INFO=15]="AIM_RAY_INFO",e[e.ADD_BULLET_FLYING=16]="ADD_BULLET_FLYING",e[e.ADD_ENEMY=17]="ADD_ENEMY"}(o.GAME_MESSAGE||(o.GAME_MESSAGE={})),o.COLLIDER_TAG={PLATFORM:1,BULLET:11},cc._RF.pop()},{}],GameSetup:[function(e,t,o){"use strict";cc._RF.push(t,"8c7e3ctRExBHZASntnI+d/v","GameSetup");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){this.SetupPhysic()},t.prototype.SetupPhysic=function(){cc.director.getPhysicsManager().enabled=!0},i([s],t)}(cc.Component));o.default=c,cc._RF.pop()},{}],LevelMgr:[function(e,t,o){"use strict";cc._RF.push(t,"ef973JA221LNJUezXdxmVkK","LevelMgr");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelMgr=void 0;var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,l=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.CLEAR_LEVEL=2]="CLEAR_LEVEL",e[e.LEVEL_IS_CLEARED=3]="LEVEL_IS_CLEARED",e[e.LOAD_LEVEL=4]="LOAD_LEVEL"})(a||(a={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mArrPrefabLevel=[],t}return r(t,e),t.prototype.onEnable=function(){c.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){c.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.SetState(a.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:break;case a.CLEAR_LEVEL:this.mGameContainer.destroyAllChildren();break;case a.LEVEL_IS_CLEARED:c.MessageMgr.SendMessage(s.GAME_MESSAGE.LEVEL_IS_CLEARED);break;case a.LOAD_LEVEL:cc.instantiate(this.mArrPrefabLevel[this.mLevel]).parent=this.mGameContainer}},t.prototype.update=function(){switch(this.mState){case a.INIT:break;case a.CLEAR_LEVEL:this.mGameContainer.childrenCount<=0&&this.SetState(a.LEVEL_IS_CLEARED);break;case a.LEVEL_IS_CLEARED:case a.LOAD_LEVEL:}},t.prototype.OnMessage=function(e,t){switch(e){case s.GAME_MESSAGE.CLEAR_LEVEL:this.SetState(a.CLEAR_LEVEL);break;case s.GAME_MESSAGE.LOAD_LEVEL:this.mLevel=t,this.SetState(a.LOAD_LEVEL)}},i([l(cc.Node)],t.prototype,"mGameContainer",void 0),i([l([cc.Prefab])],t.prototype,"mArrPrefabLevel",void 0),i([u],t)}(cc.Component);o.LevelMgr=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],MessageMgr:[function(e,t,o){"use strict";cc._RF.push(t,"0684bqrPlhKC6ZlAIhmE8+u","MessageMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageMgr=void 0;var n=function(){function e(){}return e.AddListener=function(e,t){this.arrListener.push({callback:e,id:t})},e.RemoveListener=function(e){for(var t=this.arrListener.length,o=0;o<t;o++)if(null!=this.arrListener[o]&&this.arrListener[o].id==e){this.isRemoveNull=!0,this.arrListener[o]=null;break}},e.SendMessage=function(e,t){this.countCallingMessage++;for(var o=this.arrListener.length,n=0;n<o;n++)try{null!=this.arrListener[n]&&this.arrListener[n].callback(e,t)}catch(r){console.log(r)}this.countCallingMessage--,this.countCallingMessage<=0&&this.isRemoveNull&&(this.isRemoveNull=!1,this.arrListener=this.arrListener.filter(function(e){return null!=e}))},e.arrListener=[],e.countCallingMessage=0,e.isRemoveNull=!1,e}();o.MessageMgr=n,cc._RF.pop()},{}],PlayerAimRay_01:[function(e,t,o){"use strict";cc._RF.push(t,"3de1bQABV9MCIUOQioCaqDq","PlayerAimRay_01");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerAimRay_01=void 0;var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,l=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.SHOW=2]="SHOW",e[e.HIDE=3]="HIDE"})(a||(a={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.OFFSET_AIM_POINT=20,t.NUMBER_AIM_POINT=Math.ceil(1280*Math.sqrt(2)/t.OFFSET_AIM_POINT),t}return r(t,e),t.prototype.onEnable=function(){c.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){c.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.SetState(a.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:this.mAimPointContainer.active=!1,this.MakeAimPoints();break;case a.SHOW:this.mAimPointContainer.active=!0;break;case a.HIDE:this.mAimPointContainer.active=!1}},t.prototype.update=function(){switch(this.mState){case a.INIT:this.SetState(a.HIDE);break;case a.SHOW:case a.HIDE:}},t.prototype.OnMessage=function(e,t){switch(e){case s.GAME_MESSAGE.PLAYER_START_AIM:this.SetState(a.SHOW);break;case s.GAME_MESSAGE.PLAYER_END_AIM:this.SetState(a.HIDE);break;case s.GAME_MESSAGE.AIM_RAY_INFO:var o=this.node.parent.convertToNodeSpaceAR(t.gunBarrelPosition);this.node.x=o.x,this.node.y=o.y;var n=this.node.parent.convertToNodeSpaceAR(t.gunPosition),r=this.node.parent.convertToNodeSpaceAR(t.aimPosition),i=Math.atan2(r.y-n.y,r.x-n.x)/Math.PI*180;this.node.angle=i;break;case s.GAME_MESSAGE.PLAYER_SHOOT:var c=cc.instantiate(this.mPrefabBullet);c.parent=t.bulletContainer,o=t.bulletContainer.convertToNodeSpaceAR(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(this.node.x,this.node.y))),c.x=o.x,c.y=o.y,c.angle=this.node.angle}},t.prototype.MakeAimPoints=function(){for(var e=0;e<this.NUMBER_AIM_POINT;e++){var t=cc.instantiate(this.mPrefabAimPoint);t.parent=this.mAimPointContainer,t.x=e*this.OFFSET_AIM_POINT,t.y=0}},i([l(cc.Node)],t.prototype,"mAimPointContainer",void 0),i([l(cc.Prefab)],t.prototype,"mPrefabAimPoint",void 0),i([l(cc.Prefab)],t.prototype,"mPrefabBullet",void 0),i([u],t)}(cc.Component);o.PlayerAimRay_01=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],PlayerAimTarget:[function(e,t,o){"use strict";cc._RF.push(t,"5e162US3INAJrRxi/it/J3G","PlayerAimTarget");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerAimTarget=void 0;var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,l=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.SHOW=2]="SHOW",e[e.HIDE=3]="HIDE"})(a||(a={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onEnable=function(){c.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){c.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.SetState(a.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:this.mSprite.active=!1;break;case a.SHOW:this.mSprite.active=!0;break;case a.HIDE:this.mSprite.active=!1}},t.prototype.update=function(){switch(this.mState){case a.INIT:this.SetState(a.HIDE);break;case a.SHOW:case a.HIDE:}},t.prototype.OnMessage=function(e,t){switch(e){case s.GAME_MESSAGE.AIM_RAY_INFO:var o=this.node.parent.convertToNodeSpaceAR(t.aimPosition);this.node.x=o.x,this.node.y=o.y;break;case s.GAME_MESSAGE.PLAYER_START_AIM:this.SetState(a.SHOW);break;case s.GAME_MESSAGE.PLAYER_END_AIM:this.SetState(a.HIDE)}},i([l(cc.Node)],t.prototype,"mSprite",void 0),i([u],t)}(cc.Component);o.PlayerAimTarget=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],PlayerSpine:[function(e,t,o){"use strict";cc._RF.push(t,"6ef82Te0h1Or5V40EqlIzYB","PlayerSpine");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../GameDefine"),s=e("../MessageMgr"),c=cc._decorator,p=c.ccclass,u=c.property,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onEnable=function(){s.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){s.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.mBoneAim=this.mSpine.findBone("Aim"),this.mBoneGunBarrel=this.mSpine.findBone("Bullet_Position")},t.prototype.OnMessage=function(e,t){switch(e){case a.GAME_MESSAGE.PLAYER_ANIMATION_IDLE:this.mSpine.setAnimation(0,"Idle",!0);break;case a.GAME_MESSAGE.PLAYER_ANIMATION_AIM:this.mSpine.setAnimation(0,"Aim",!0);break;case a.GAME_MESSAGE.AIM_POSITION:this.AimPosition(t)}},t.prototype.AimPosition=function(e){this.mSpine.node.scaleX=Math.abs(this.mSpine.node.scaleX);var t=this.mSpine.node.convertToNodeSpaceAR(e);this.mSpine.node.scaleX=Math.sign(t.x)*Math.abs(this.mSpine.node.scaleX),this.mBoneAim.x=Math.abs(t.x),this.mBoneAim.y=t.y,this.mBoneAim.updateWorldTransform();var o=new cc.Vec2(this.mBoneAim.worldX-this.mBoneGunBarrel.worldX,this.mBoneAim.worldY-this.mBoneGunBarrel.worldY);if(o.len()>400){var n=o.normalize(),r=this.mBoneAim.parent.worldToLocal(new sp.spine.Vector2(this.mBoneGunBarrel.worldX+400*n.x,this.mBoneGunBarrel.worldY+400*n.y));this.mBoneAim.x=r.x,this.mBoneAim.y=r.y}s.MessageMgr.SendMessage(a.GAME_MESSAGE.AIM_RAY_INFO,{gunBarrelPosition:this.mSpine.node.convertToWorldSpaceAR(new cc.Vec2(this.mBoneGunBarrel.worldX,this.mBoneGunBarrel.worldY)),gunPosition:this.mSpine.node.convertToWorldSpaceAR(new cc.Vec2(this.mBoneGunBarrel.parent.worldX,this.mBoneGunBarrel.parent.worldY)),aimPosition:e})},i([u(sp.Skeleton)],t.prototype,"mSpine",void 0),i([p],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"582b4q/5NRNRLVIbxM0THID","Player");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Player=void 0;var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=cc._decorator,u=p.ccclass;p.property,function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.IDLE=2]="IDLE",e[e.AIM=3]="AIM",e[e.SHOOT=4]="SHOOT",e[e.WIN=5]="WIN"}(a||(a={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mAimPosition=new cc.Vec2(0,0),t}return r(t,e),t.prototype.onEnable=function(){var e=s.GameDefine.GetGameContainer();e&&(e.on(cc.Node.EventType.MOUSE_DOWN,this.OnMouseDown,this),e.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this),e.on(cc.Node.EventType.MOUSE_UP,this.OnMouseUp,this),e.on(cc.Node.EventType.TOUCH_START,this.OnMouseDown,this),e.on(cc.Node.EventType.TOUCH_MOVE,this.OnMouseMove,this),e.on(cc.Node.EventType.TOUCH_END,this.OnMouseUp,this),e.on(cc.Node.EventType.TOUCH_CANCEL,this.OnMouseUp,this)),c.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){var e=cc.find("Canvas/GameContainer");e&&(e.off(cc.Node.EventType.MOUSE_DOWN,this.OnMouseDown,this),e.off(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this),e.off(cc.Node.EventType.MOUSE_UP,this.OnMouseUp,this),e.off(cc.Node.EventType.TOUCH_START,this.OnMouseDown,this),e.off(cc.Node.EventType.TOUCH_MOVE,this.OnMouseMove,this),e.off(cc.Node.EventType.TOUCH_END,this.OnMouseUp,this),e.off(cc.Node.EventType.TOUCH_CANCEL,this.OnMouseUp,this)),c.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.SetState(a.INIT)},t.prototype.SetState=function(e){switch(this.mState){case a.AIM:c.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_END_AIM)}switch(this.mState=e,this.mState){case a.INIT:break;case a.IDLE:c.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_ANIMATION_IDLE);break;case a.AIM:c.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_ANIMATION_AIM),c.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_START_AIM);break;case a.SHOOT:this.mCountBulletFlying=0,c.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_ANIMATION_IDLE),c.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_SHOOT,{bulletContainer:this.node.parent});break;case a.WIN:}},t.prototype.update=function(){switch(this.mState){case a.INIT:this.SetState(a.IDLE);break;case a.IDLE:break;case a.AIM:this.UpdateAim();break;case a.SHOOT:this.mCountBulletFlying<=0&&this.SetState(a.IDLE);break;case a.WIN:}},t.prototype.OnMouseDown=function(e){switch(this.mState){case a.IDLE:this.mAimPosition=e.getLocation(),this.SetState(a.AIM)}},t.prototype.OnMouseMove=function(e){switch(this.mState){case a.AIM:this.mAimPosition=e.getLocation()}},t.prototype.OnMouseUp=function(){switch(this.mState){case a.AIM:this.SetState(a.SHOOT)}},t.prototype.OnMessage=function(e,t){switch(e){case s.GAME_MESSAGE.ADD_BULLET_FLYING:switch(this.mState){case a.SHOOT:this.mCountBulletFlying+=t}break;case s.GAME_MESSAGE.PLAYER_WIN:switch(this.mState){case a.IDLE:case a.AIM:case a.SHOOT:this.SetState(a.WIN)}}},t.prototype.UpdateAim=function(){c.MessageMgr.SendMessage(s.GAME_MESSAGE.AIM_POSITION,this.mAimPosition)},i([u],t)}(cc.Component);o.Player=l,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],RagDoll:[function(e,t,o){"use strict";cc._RF.push(t,"80839yAWKZOA6ChwM2S9xmW","RagDoll");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RagDoll=void 0;var a,s=cc._decorator,c=s.ccclass,p=s.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.ACTIVE=2]="ACTIVE"})(a||(a={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mForceRatio=1,t}return r(t,e),t.prototype.start=function(){this.SetState(a.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:break;case a.ACTIVE:this.node.getComponent(cc.RigidBody).applyLinearImpulse(this.mForce.multiplyScalar(this.mForceRatio),this.mForcePos,!0)}},t.prototype.update=function(){switch(this.mState){case a.INIT:this.SetState(a.ACTIVE);break;case a.ACTIVE:}},t.prototype.SetForce=function(e,t){this.mForce=e,this.mForcePos=t},i([p(Number)],t.prototype,"mForceRatio",void 0),i([c],t)}(cc.Component);o.RagDoll=u,cc._RF.pop()},{}],StateEndGameLose:[function(e,t,o){"use strict";cc._RF.push(t,"6be48w6ba9BJZcq1CXiyi5X","StateEndGameLose");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StateEndGameLose=void 0;var a,s=cc._decorator,c=s.ccclass,p=s.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.END=2]="END"})(a||(a={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){this.SetState(a.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:this.mUIEndGame.active=!0;break;case a.END:this.mUIEndGame.active=!1}},i([p(cc.Node)],t.prototype,"mUIEndGame",void 0),i([c],t)}(cc.Component);o.StateEndGameLose=u,cc._RF.pop()},{}],StateEndGameWin:[function(e,t,o){"use strict";cc._RF.push(t,"6d053Zp6BVEtL/iVAJ/BNQb","StateEndGameWin");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StateEndGameWin=void 0;var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,l=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.ACTIVE=2]="ACTIVE",e[e.NEXT_LEVEL=3]="NEXT_LEVEL",e[e.END=4]="END"})(a||(a={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onEnable=function(){c.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){c.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.SetState(a.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:this.mUIEndGame.active=!0;break;case a.ACTIVE:break;case a.NEXT_LEVEL:c.MessageMgr.SendMessage(s.GAME_MESSAGE.STATE_INGAME);break;case a.END:this.mUIEndGame.active=!1}},t.prototype.update=function(){switch(this.mState){case a.INIT:this.SetState(a.ACTIVE);break;case a.ACTIVE:break;case a.NEXT_LEVEL:this.SetState(a.END);break;case a.END:}},t.prototype.OnMessage=function(e){switch(e){case s.GAME_MESSAGE.STATE_END_GAME_WIN:this.SetState(a.INIT)}},t.prototype.OnClickButtonNext=function(){switch(this.mState){case a.ACTIVE:this.SetState(a.NEXT_LEVEL)}},i([l(cc.Node)],t.prototype,"mUIEndGame",void 0),i([u],t)}(cc.Component);o.StateEndGameWin=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],StateIngame:[function(e,t,o){"use strict";cc._RF.push(t,"3ae409jzGhD75OX4os06vWg","StateIngame");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StateIngame=void 0;var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,l=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.CLEAR_LEVEL=2]="CLEAR_LEVEL",e[e.LOAD_LEVEL=3]="LOAD_LEVEL",e[e.PLAYING=4]="PLAYING",e[e.WIN=5]="WIN",e[e.WIN_END=6]="WIN_END",e[e.END=7]="END"})(a||(a={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onEnable=function(){c.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){c.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.onLoad=function(){},t.prototype.start=function(){this.SetState(a.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:this.mUIIngame.active=!0,s.GameDefine.CanvasGameUpdateAlignment();break;case a.CLEAR_LEVEL:c.MessageMgr.SendMessage(s.GAME_MESSAGE.CLEAR_LEVEL);break;case a.LOAD_LEVEL:this.mCountEnemy=0,c.MessageMgr.SendMessage(s.GAME_MESSAGE.LOAD_LEVEL,0);break;case a.PLAYING:break;case a.WIN:this.mPercent=0,c.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_WIN);break;case a.WIN_END:c.MessageMgr.SendMessage(s.GAME_MESSAGE.STATE_END_GAME_WIN);break;case a.END:this.mUIIngame.active=!1}},t.prototype.update=function(e){switch(this.mState){case a.INIT:this.SetState(a.CLEAR_LEVEL);break;case a.CLEAR_LEVEL:break;case a.LOAD_LEVEL:this.SetState(a.PLAYING);break;case a.PLAYING:this.mCountEnemy<=0&&this.SetState(a.WIN);break;case a.WIN:this.mPercent=s.GameDefine.MoveToTarget(this.mPercent,1,.5,e),this.mPercent>=1&&this.SetState(a.WIN_END);break;case a.WIN_END:this.SetState(a.END);break;case a.END:}},t.prototype.OnMessage=function(e,t){switch(e){case s.GAME_MESSAGE.STATE_INGAME:switch(this.mState){case a.END:this.SetState(a.INIT)}break;case s.GAME_MESSAGE.LEVEL_IS_CLEARED:switch(this.mState){case a.CLEAR_LEVEL:this.SetState(a.LOAD_LEVEL)}break;case s.GAME_MESSAGE.ADD_ENEMY:switch(this.mState){case a.LOAD_LEVEL:case a.PLAYING:this.mCountEnemy+=t}}},i([l(cc.Node)],t.prototype,"mUIIngame",void 0),i([u],t)}(cc.Component);o.StateIngame=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],StateMainMenu:[function(e,t,o){"use strict";cc._RF.push(t,"5811cw45WVNF7qlOXk8dC17","StateMainMenu");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),i=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StateMainMenu=void 0;var a,s=e("../GameDefine"),c=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,l=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.NORMAL=2]="NORMAL",e[e.PLAY_GAME=3]="PLAY_GAME",e[e.END=4]="END"})(a||(a={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mState=a.NULL,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.SetState(a.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case a.INIT:this.mUIMainMenu.active=!0;break;case a.NORMAL:break;case a.PLAY_GAME:c.MessageMgr.SendMessage(s.GAME_MESSAGE.STATE_INGAME);break;case a.END:this.mUIMainMenu.active=!1}},t.prototype.update=function(){switch(this.mState){case a.INIT:this.SetState(a.NORMAL);break;case a.NORMAL:break;case a.PLAY_GAME:this.SetState(a.END);break;case a.END:}},t.prototype.OnClickButtonPlay=function(){switch(this.mState){case a.NORMAL:this.SetState(a.PLAY_GAME)}},i([l(cc.Node)],t.prototype,"mUIMainMenu",void 0),i([u],t)}(cc.Component);o.StateMainMenu=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}]},{},["GameDefine","GameSetup","BulletStats","Bullet_01","Enemy","EnemyCollider","EnemyStats","LevelMgr","Player","PlayerAimRay_01","PlayerAimTarget","PlayerSpine","RagDoll","MessageMgr","StateEndGameLose","StateEndGameWin","StateIngame","StateMainMenu"]);