window.__require=function e(t,o,n){function r(i,a){if(!o[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=o[i]={exports:{}};t[i][0].call(u.exports,function(e){return r(t[i][1][e]||e)},u,u.exports,e,t,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({GameDefine:[function(e,t,o){"use strict";cc._RF.push(t,"08b35U6NHVOx4wUFRw6kkob","GameDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.GAME_MESSAGE=o.GameDefine=void 0;o.GameDefine=function(){},function(e){e[e.STATE_INGAME=0]="STATE_INGAME",e[e.CLEAR_LEVEL=1]="CLEAR_LEVEL",e[e.LEVEL_IS_CLEARED=2]="LEVEL_IS_CLEARED",e[e.LOAD_LEVEL=3]="LOAD_LEVEL"}(o.GAME_MESSAGE||(o.GAME_MESSAGE={})),cc._RF.pop()},{}],LevelMgr:[function(e,t,o){"use strict";cc._RF.push(t,"ef973JA221LNJUezXdxmVkK","LevelMgr");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,o,i):r(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelMgr=void 0;var i,a=e("../GameDefine"),s=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,f=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.CLEAR_LEVEL=2]="CLEAR_LEVEL",e[e.LEVEL_IS_CLEARED=3]="LEVEL_IS_CLEARED",e[e.LOAD_LEVEL=4]="LOAD_LEVEL"})(i||(i={}));var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mArrPrefabLevel=[],t}return r(t,e),t.prototype.onEnable=function(){s.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){s.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.SetState(i.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case i.INIT:break;case i.CLEAR_LEVEL:this.mGameContainer.destroyAllChildren();break;case i.LEVEL_IS_CLEARED:s.MessageMgr.SendMessage(a.GAME_MESSAGE.LEVEL_IS_CLEARED);break;case i.LOAD_LEVEL:cc.instantiate(this.mArrPrefabLevel[this.mLevel]).parent=this.mGameContainer}},t.prototype.update=function(){switch(this.mState){case i.INIT:break;case i.CLEAR_LEVEL:this.mGameContainer.childrenCount<=0&&this.SetState(i.LEVEL_IS_CLEARED);break;case i.LEVEL_IS_CLEARED:case i.LOAD_LEVEL:}},t.prototype.OnMessage=function(e,t){switch(e){case a.GAME_MESSAGE.CLEAR_LEVEL:this.SetState(i.CLEAR_LEVEL);break;case a.GAME_MESSAGE.LOAD_LEVEL:this.mLevel=t,this.SetState(i.LOAD_LEVEL)}},c([f(cc.Node)],t.prototype,"mGameContainer",void 0),c([f([cc.Prefab])],t.prototype,"mArrPrefabLevel",void 0),c([u],t)}(cc.Component);o.LevelMgr=E,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],MessageMgr:[function(e,t,o){"use strict";cc._RF.push(t,"0684bqrPlhKC6ZlAIhmE8+u","MessageMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageMgr=void 0;var n=function(){function e(){}return e.AddListener=function(e,t){this.arrListener.push({callback:e,id:t})},e.RemoveListener=function(e){for(var t=this.arrListener.length,o=0;o<t;o++)if(this.arrListener[o].id==e){this.arrListener.splice(o,1);break}},e.SendMessage=function(e,t){for(var o=this.arrListener.length,n=0;n<o;n++)this.arrListener[n].callback(e,t)},e.arrListener=[],e}();o.MessageMgr=n,cc._RF.pop()},{}],StateEndGameLose:[function(e,t,o){"use strict";cc._RF.push(t,"6be48w6ba9BJZcq1CXiyi5X","StateEndGameLose");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,o,i):r(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.StateEndGameLose=void 0;var i,a=cc._decorator,s=a.ccclass,p=a.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.END=2]="END"})(i||(i={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){this.SetState(i.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case i.INIT:this.mUIEndGame.active=!0;break;case i.END:this.mUIEndGame.active=!1}},c([p(cc.Node)],t.prototype,"mUIEndGame",void 0),c([s],t)}(cc.Component);o.StateEndGameLose=u,cc._RF.pop()},{}],StateEndGameWin:[function(e,t,o){"use strict";cc._RF.push(t,"6d053Zp6BVEtL/iVAJ/BNQb","StateEndGameWin");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,o,i):r(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.StateEndGameWin=void 0;var i,a=cc._decorator,s=a.ccclass,p=a.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.END=2]="END"})(i||(i={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){this.SetState(i.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case i.INIT:this.mUIEndGame.active=!0;break;case i.END:this.mUIEndGame.active=!1}},c([p(cc.Node)],t.prototype,"mUIEndGame",void 0),c([s],t)}(cc.Component);o.StateEndGameWin=u,cc._RF.pop()},{}],StateIngame:[function(e,t,o){"use strict";cc._RF.push(t,"3ae409jzGhD75OX4os06vWg","StateIngame");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,o,i):r(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.StateIngame=void 0;var i,a=e("../GameDefine"),s=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,f=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.CLEAR_LEVEL=2]="CLEAR_LEVEL",e[e.LOAD_LEVEL=3]="LOAD_LEVEL",e[e.PLAYING=4]="PLAYING",e[e.END=5]="END"})(i||(i={}));var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onEnable=function(){s.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){s.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.onLoad=function(){},t.prototype.start=function(){this.SetState(i.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case i.INIT:this.mUIIngame.active=!0;break;case i.CLEAR_LEVEL:s.MessageMgr.SendMessage(a.GAME_MESSAGE.CLEAR_LEVEL);break;case i.LOAD_LEVEL:s.MessageMgr.SendMessage(a.GAME_MESSAGE.LOAD_LEVEL,0);break;case i.PLAYING:break;case i.END:this.mUIIngame.active=!1}},t.prototype.update=function(){switch(this.mState){case i.INIT:this.SetState(i.CLEAR_LEVEL);break;case i.CLEAR_LEVEL:case i.LOAD_LEVEL:case i.PLAYING:case i.END:}},t.prototype.OnMessage=function(e){switch(e){case a.GAME_MESSAGE.STATE_INGAME:switch(this.mState){case i.END:this.SetState(i.INIT)}break;case a.GAME_MESSAGE.LEVEL_IS_CLEARED:switch(this.mState){case i.CLEAR_LEVEL:this.SetState(i.LOAD_LEVEL)}}},c([f(cc.Node)],t.prototype,"mUIIngame",void 0),c([u],t)}(cc.Component);o.StateIngame=E,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],StateMainMenu:[function(e,t,o){"use strict";cc._RF.push(t,"5811cw45WVNF7qlOXk8dC17","StateMainMenu");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,o,i):r(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.StateMainMenu=void 0;var i,a=e("../GameDefine"),s=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,f=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.NORMAL=2]="NORMAL",e[e.PLAY_GAME=3]="PLAY_GAME",e[e.END=4]="END"})(i||(i={}));var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mState=i.NULL,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.SetState(i.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case i.INIT:this.mUIMainMenu.active=!0;break;case i.NORMAL:break;case i.PLAY_GAME:s.MessageMgr.SendMessage(a.GAME_MESSAGE.STATE_INGAME);break;case i.END:this.mUIMainMenu.active=!1}},t.prototype.update=function(){switch(this.mState){case i.INIT:this.SetState(i.NORMAL);break;case i.NORMAL:break;case i.PLAY_GAME:this.SetState(i.END);break;case i.END:}},t.prototype.OnClickButtonPlay=function(){switch(this.mState){case i.NORMAL:this.SetState(i.PLAY_GAME)}},c([f(cc.Node)],t.prototype,"mUIMainMenu",void 0),c([u],t)}(cc.Component);o.StateMainMenu=E,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],TestControlAim:[function(e,t,o){"use strict";cc._RF.push(t,"1cbd9mRg8RBeLctt0QGC0op","TestControlAim");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(t,o,i):r(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){var e=cc.find("Canvas/GameContainer");e&&e.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this),console.log(cc.view),console.log(cc.view.getScaleX()),console.log(cc.view.getScaleY()),console.log(cc.view.getCanvasSize()),console.log(cc.view.getCanvasSize().width/cc.view.getScaleX(),cc.view.getCanvasSize().height/cc.view.getScaleX()),console.log(cc.view.getFrameSize()),this.mAnimOffset=this.node.convertToNodeSpace(this.mAimNode.convertToWorldSpace(new cc.Vec2(0,0))),console.log(this.mAnimOffset),this.mSpine=this.node.getComponent(sp.Skeleton),console.log(this.mSpine),this.mAimBone=this.mSpine.findBone("Aim"),console.log(this.mAimBone)},t.prototype.update=function(){},t.prototype.OnMouseMove=function(e){var t=e.getLocation();t.x-=.5*cc.view.getCanvasSize().width/cc.view.getScaleX(),t.y-=.5*cc.view.getCanvasSize().height/cc.view.getScaleY();var o=this.node.convertToNodeSpace(t);this.mAimBone.x=o.x-this.mAnimOffset.x,this.mAimBone.y=o.y-this.mAnimOffset.y},c([s(cc.Node)],t.prototype,"mAimNode",void 0),c([a],t)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["GameDefine","LevelMgr","MessageMgr","StateEndGameLose","StateEndGameWin","StateIngame","StateMainMenu","TestControlAim"]);