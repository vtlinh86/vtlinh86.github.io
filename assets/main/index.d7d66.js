window.__require=function e(t,o,n){function i(c,s){if(!o[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var u=o[c]={exports:{}};t[c][0].call(u.exports,function(e){return i(t[c][1][e]||e)},u,u.exports,e,t,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({GameDefine:[function(e,t,o){"use strict";cc._RF.push(t,"08b35U6NHVOx4wUFRw6kkob","GameDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.GAME_MESSAGE=o.GameDefine=void 0;var n=function(){function e(){}return e.InputPositionToGamePosition=function(e){return e.x-=.5*cc.view.getCanvasSize().width/cc.view.getScaleX(),e.y-=.5*cc.view.getCanvasSize().height/cc.view.getScaleY(),e},e}();o.GameDefine=n,function(e){e[e.STATE_INGAME=0]="STATE_INGAME",e[e.CLEAR_LEVEL=1]="CLEAR_LEVEL",e[e.LEVEL_IS_CLEARED=2]="LEVEL_IS_CLEARED",e[e.LOAD_LEVEL=3]="LOAD_LEVEL",e[e.PLAYER_ANIMATION_IDLE=4]="PLAYER_ANIMATION_IDLE",e[e.PLAYER_ANIMATION_AIM=5]="PLAYER_ANIMATION_AIM",e[e.AIM_POSITION=6]="AIM_POSITION"}(o.GAME_MESSAGE||(o.GAME_MESSAGE={})),cc._RF.pop()},{}],LevelMgr:[function(e,t,o){"use strict";cc._RF.push(t,"ef973JA221LNJUezXdxmVkK","LevelMgr");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.LevelMgr=void 0;var c,s=e("../GameDefine"),a=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,f=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.CLEAR_LEVEL=2]="CLEAR_LEVEL",e[e.LEVEL_IS_CLEARED=3]="LEVEL_IS_CLEARED",e[e.LOAD_LEVEL=4]="LOAD_LEVEL"})(c||(c={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mArrPrefabLevel=[],t}return i(t,e),t.prototype.onEnable=function(){a.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){a.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.SetState(c.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case c.INIT:break;case c.CLEAR_LEVEL:this.mGameContainer.destroyAllChildren();break;case c.LEVEL_IS_CLEARED:a.MessageMgr.SendMessage(s.GAME_MESSAGE.LEVEL_IS_CLEARED);break;case c.LOAD_LEVEL:cc.instantiate(this.mArrPrefabLevel[this.mLevel]).parent=this.mGameContainer}},t.prototype.update=function(){switch(this.mState){case c.INIT:break;case c.CLEAR_LEVEL:this.mGameContainer.childrenCount<=0&&this.SetState(c.LEVEL_IS_CLEARED);break;case c.LEVEL_IS_CLEARED:case c.LOAD_LEVEL:}},t.prototype.OnMessage=function(e,t){switch(e){case s.GAME_MESSAGE.CLEAR_LEVEL:this.SetState(c.CLEAR_LEVEL);break;case s.GAME_MESSAGE.LOAD_LEVEL:this.mLevel=t,this.SetState(c.LOAD_LEVEL)}},r([f(cc.Node)],t.prototype,"mGameContainer",void 0),r([f([cc.Prefab])],t.prototype,"mArrPrefabLevel",void 0),r([u],t)}(cc.Component);o.LevelMgr=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],MessageMgr:[function(e,t,o){"use strict";cc._RF.push(t,"0684bqrPlhKC6ZlAIhmE8+u","MessageMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageMgr=void 0;var n=function(){function e(){}return e.AddListener=function(e,t){this.arrListener.push({callback:e,id:t})},e.RemoveListener=function(e){for(var t=this.arrListener.length,o=0;o<t;o++)if(this.arrListener[o].id==e){this.arrListener.splice(o,1);break}},e.SendMessage=function(e,t){for(var o=this.arrListener.length,n=0;n<o;n++)this.arrListener[n].callback(e,t)},e.arrListener=[],e}();o.MessageMgr=n,cc._RF.pop()},{}],PlayerSpine:[function(e,t,o){"use strict";cc._RF.push(t,"6ef82Te0h1Or5V40EqlIzYB","PlayerSpine");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=e("../GameDefine"),s=e("../MessageMgr"),a=cc._decorator,p=a.ccclass,u=a.property,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){s.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){s.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.start=function(){this.mBoneAim=this.mSpine.findBone("Aim"),this.mBoneGunBarrel=this.mSpine.findBone("Bullet_Position"),this.mOffsetAim=this.mSpine.node.convertToNodeSpace(this.mNodeAim.convertToWorldSpace(new cc.Vec2(0,0)))},t.prototype.OnMessage=function(e,t){switch(e){case c.GAME_MESSAGE.PLAYER_ANIMATION_IDLE:this.mSpine.setAnimation(0,"Idle",!0);break;case c.GAME_MESSAGE.PLAYER_ANIMATION_AIM:this.mSpine.setAnimation(0,"Aim",!0);break;case c.GAME_MESSAGE.AIM_POSITION:this.AimPosition(t)}},t.prototype.AimPosition=function(e){var t=new cc.Vec2(Math.abs(e.x),e.y);this.node.scaleX=Math.abs(this.node.scaleX);var o=this.mSpine.node.convertToNodeSpace(t);o.x-=this.mOffsetAim.x,o.y-=this.mOffsetAim.y,this.mBoneAim.x=o.x,this.mBoneAim.y=o.y,this.mBoneAim.updateWorldTransform();var n=new cc.Vec2(this.mBoneAim.worldX-this.mBoneGunBarrel.worldX,this.mBoneAim.worldY-this.mBoneGunBarrel.worldY);if(n.len()>200){var i=n.normalize(),r=this.mBoneGunBarrel.worldX+200*i.x,c=this.mBoneGunBarrel.worldY+200*i.y,s=this.mBoneAim.parent.worldToLocal(new sp.spine.Vector2(r,c));this.mBoneAim.x=s.x,this.mBoneAim.y=s.y}this.node.scaleX*=Math.sign(e.x)},r([u(sp.Skeleton)],t.prototype,"mSpine",void 0),r([u(cc.Node)],t.prototype,"mNodeAim",void 0),r([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"582b4q/5NRNRLVIbxM0THID","Player");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.Player=void 0;var c,s=e("../GameDefine"),a=e("../MessageMgr"),p=cc._decorator,u=p.ccclass;p.property,function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.IDLE=2]="IDLE",e[e.AIM=3]="AIM",e[e.SHOOT=4]="SHOOT"}(c||(c={}));var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){var e=cc.find("Canvas/GameContainer");e&&(e.on(cc.Node.EventType.MOUSE_DOWN,this.OnMouseDown,this),e.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this),e.on(cc.Node.EventType.MOUSE_UP,this.OnMouseUp,this),e.on(cc.Node.EventType.TOUCH_START,this.OnMouseDown,this),e.on(cc.Node.EventType.TOUCH_MOVE,this.OnMouseMove,this),e.on(cc.Node.EventType.TOUCH_END,this.OnMouseUp,this),e.on(cc.Node.EventType.TOUCH_CANCEL,this.OnMouseUp,this))},t.prototype.onDisable=function(){var e=cc.find("Canvas/GameContainer");e&&(e.off(cc.Node.EventType.MOUSE_DOWN,this.OnMouseDown,this),e.off(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this),e.off(cc.Node.EventType.MOUSE_UP,this.OnMouseUp,this),e.off(cc.Node.EventType.TOUCH_START,this.OnMouseDown,this),e.off(cc.Node.EventType.TOUCH_MOVE,this.OnMouseMove,this),e.off(cc.Node.EventType.TOUCH_END,this.OnMouseUp,this),e.off(cc.Node.EventType.TOUCH_CANCEL,this.OnMouseUp,this))},t.prototype.start=function(){this.SetState(c.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case c.INIT:break;case c.IDLE:a.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_ANIMATION_IDLE);break;case c.AIM:a.MessageMgr.SendMessage(s.GAME_MESSAGE.PLAYER_ANIMATION_AIM);break;case c.SHOOT:}},t.prototype.update=function(){switch(this.mState){case c.INIT:this.SetState(c.IDLE);break;case c.IDLE:case c.AIM:case c.SHOOT:}},t.prototype.OnMouseDown=function(){switch(this.mState){case c.IDLE:this.SetState(c.AIM)}},t.prototype.OnMouseMove=function(e){switch(this.mState){case c.AIM:var t=s.GameDefine.InputPositionToGamePosition(e.getLocation());t.x-=this.node.x,t.y-=this.node.y,a.MessageMgr.SendMessage(s.GAME_MESSAGE.AIM_POSITION,t)}},t.prototype.OnMouseUp=function(){switch(this.mState){case c.AIM:this.SetState(c.IDLE)}},r([u],t)}(cc.Component);o.Player=f,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],StateEndGameLose:[function(e,t,o){"use strict";cc._RF.push(t,"6be48w6ba9BJZcq1CXiyi5X","StateEndGameLose");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.StateEndGameLose=void 0;var c,s=cc._decorator,a=s.ccclass,p=s.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.END=2]="END"})(c||(c={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){this.SetState(c.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case c.INIT:this.mUIEndGame.active=!0;break;case c.END:this.mUIEndGame.active=!1}},r([p(cc.Node)],t.prototype,"mUIEndGame",void 0),r([a],t)}(cc.Component);o.StateEndGameLose=u,cc._RF.pop()},{}],StateEndGameWin:[function(e,t,o){"use strict";cc._RF.push(t,"6d053Zp6BVEtL/iVAJ/BNQb","StateEndGameWin");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.StateEndGameWin=void 0;var c,s=cc._decorator,a=s.ccclass,p=s.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.END=2]="END"})(c||(c={}));var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){this.SetState(c.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case c.INIT:this.mUIEndGame.active=!0;break;case c.END:this.mUIEndGame.active=!1}},r([p(cc.Node)],t.prototype,"mUIEndGame",void 0),r([a],t)}(cc.Component);o.StateEndGameWin=u,cc._RF.pop()},{}],StateIngame:[function(e,t,o){"use strict";cc._RF.push(t,"3ae409jzGhD75OX4os06vWg","StateIngame");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.StateIngame=void 0;var c,s=e("../GameDefine"),a=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,f=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.CLEAR_LEVEL=2]="CLEAR_LEVEL",e[e.LOAD_LEVEL=3]="LOAD_LEVEL",e[e.PLAYING=4]="PLAYING",e[e.END=5]="END"})(c||(c={}));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){a.MessageMgr.AddListener(this.OnMessage.bind(this),this.node.uuid)},t.prototype.onDisable=function(){a.MessageMgr.RemoveListener(this.node.uuid)},t.prototype.onLoad=function(){},t.prototype.start=function(){this.SetState(c.END)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case c.INIT:this.mUIIngame.active=!0;break;case c.CLEAR_LEVEL:a.MessageMgr.SendMessage(s.GAME_MESSAGE.CLEAR_LEVEL);break;case c.LOAD_LEVEL:a.MessageMgr.SendMessage(s.GAME_MESSAGE.LOAD_LEVEL,0);break;case c.PLAYING:break;case c.END:this.mUIIngame.active=!1}},t.prototype.update=function(){switch(this.mState){case c.INIT:this.SetState(c.CLEAR_LEVEL);break;case c.CLEAR_LEVEL:case c.LOAD_LEVEL:case c.PLAYING:case c.END:}},t.prototype.OnMessage=function(e){switch(e){case s.GAME_MESSAGE.STATE_INGAME:switch(this.mState){case c.END:this.SetState(c.INIT)}break;case s.GAME_MESSAGE.LEVEL_IS_CLEARED:switch(this.mState){case c.CLEAR_LEVEL:this.SetState(c.LOAD_LEVEL)}}},r([f(cc.Node)],t.prototype,"mUIIngame",void 0),r([u],t)}(cc.Component);o.StateIngame=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],StateMainMenu:[function(e,t,o){"use strict";cc._RF.push(t,"5811cw45WVNF7qlOXk8dC17","StateMainMenu");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.StateMainMenu=void 0;var c,s=e("../GameDefine"),a=e("../MessageMgr"),p=cc._decorator,u=p.ccclass,f=p.property;(function(e){e[e.NULL=0]="NULL",e[e.INIT=1]="INIT",e[e.NORMAL=2]="NORMAL",e[e.PLAY_GAME=3]="PLAY_GAME",e[e.END=4]="END"})(c||(c={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mState=c.NULL,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.SetState(c.INIT)},t.prototype.SetState=function(e){switch(this.mState=e,this.mState){case c.INIT:this.mUIMainMenu.active=!0;break;case c.NORMAL:break;case c.PLAY_GAME:a.MessageMgr.SendMessage(s.GAME_MESSAGE.STATE_INGAME);break;case c.END:this.mUIMainMenu.active=!1}},t.prototype.update=function(){switch(this.mState){case c.INIT:this.SetState(c.NORMAL);break;case c.NORMAL:break;case c.PLAY_GAME:this.SetState(c.END);break;case c.END:}},t.prototype.OnClickButtonPlay=function(){switch(this.mState){case c.NORMAL:this.SetState(c.PLAY_GAME)}},r([f(cc.Node)],t.prototype,"mUIMainMenu",void 0),r([u],t)}(cc.Component);o.StateMainMenu=h,cc._RF.pop()},{"../GameDefine":"GameDefine","../MessageMgr":"MessageMgr"}],TestControlAim:[function(e,t,o){"use strict";cc._RF.push(t,"1cbd9mRg8RBeLctt0QGC0op","TestControlAim");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(r<3?i(c):r>3?i(t,o,c):i(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){var e=cc.find("Canvas/GameContainer");e&&e.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this),console.log(cc.view),console.log(cc.view.getScaleX()),console.log(cc.view.getScaleY()),console.log(cc.view.getCanvasSize()),console.log(cc.view.getCanvasSize().width/cc.view.getScaleX(),cc.view.getCanvasSize().height/cc.view.getScaleX()),console.log(cc.view.getFrameSize()),this.mAnimOffset=this.node.convertToNodeSpace(this.mAimNode.convertToWorldSpace(new cc.Vec2(0,0))),console.log(this.mAnimOffset),this.mSpine=this.node.getComponent(sp.Skeleton),console.log(this.mSpine),this.mAimBone=this.mSpine.findBone("Aim"),console.log(this.mAimBone)},t.prototype.update=function(){},t.prototype.OnMouseMove=function(e){var t=e.getLocation();t.x-=.5*cc.view.getCanvasSize().width/cc.view.getScaleX(),t.y-=.5*cc.view.getCanvasSize().height/cc.view.getScaleY();var o=this.node.convertToNodeSpace(t);this.mAimBone.x=o.x-this.mAnimOffset.x,this.mAimBone.y=o.y-this.mAnimOffset.y},r([a(cc.Node)],t.prototype,"mAimNode",void 0),r([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{}]},{},["GameDefine","LevelMgr","Player","PlayerSpine","MessageMgr","StateEndGameLose","StateEndGameWin","StateIngame","StateMainMenu","TestControlAim"]);