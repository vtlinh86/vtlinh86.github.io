System.register("chunks:///_virtual/Api.ts",["cc"],(function(i){"use strict";var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"6478a4A+/ZPo5+fjQN0Ek1S","Api",void 0);var t=i("Api",(function(){}));t.DEBUG_TOKEN="0938314514",t.IS_DEV=!0,t.VERSION="0.0.1",t.DEV_HOST="https://m.dev.mservice.io/",t.PROD_HOST="https://m.mservice.io/",t.HOST=t.IS_DEV?t.DEV_HOST:t.PROD_HOST,t.GAME_CONFIG="magelife-profile/v1/global-config",t.DEEP_LINK="deeplink-universal/v1/content-dynamic",t.ERROR_REPORT="xpyxis-metrics/api/v1/failure",t.FPS_REPORT="xpyxis-metrics/api/v1/fps",t.LATENCY_REPORT="xpyxis-metrics/api/v1/latency",e._RF.pop()}}}));

System.register("chunks:///_virtual/ApiMock.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"f6032IoNbNDmaE5dpKfBrwy","ApiMock",void 0);var c=e("ApiMock",(function(){}));c.deviceInfo={instanceID:"FTWJFBDPQMYDQFAJB5VOPB",totalStorage:107209,totalRam:5584,countryCode:"084",devicePerformance:"high-end",bundleId:"vn.momo.platform.test",isEmulator:"false",BSSID:"02:00:00:00:00:00",deviceMCC:"452",firebaseToken:"ftwjFbDPQMydqfAjB5vOpb:APA91bF_DVNBUdmVH9JXcp9aGlZZMF2eVmvqj_5ksm7KRenkvSsRYGbTJRvdWjOR_I35rcQvZuuCUhdDDq0xwG3Rks_5taONd_x5vZVw9D15ceeRT87gXEMxqk3aGpeRiEc2GwqyNFpN",googlePlayServicesAvailable:!0,deviceSecureId:"230c8f27a54b97de",buildVersion:31040,deviceModelName:"Z818L",isDev:"true",deviceName:"Z818L",deviceManufacturer:"Xiaomi",AAID:"461b635f-1f94-4dea-90a0-cd04e3f6f2c9",deviceHardwareVersion:"qcom",appVersion:"3.1.4-debug",IDFA:"",deviceSoftwareVersion:"30",deviceNetworkOperatorName:"Viettel",icc:"",deviceImei:"20aef116-ae34-41be-abf3-fcb58da6c12d",countryName:"Vietnam",freeStorage:63899,deviceModelID:"xiaomi m2101k7agqcomnull"},c.APP_CONFIG={feature:{featureID:"p2p",params:{featureCode:"p2p",refId:"screen_main_menu",useCloud:!1}}},c.GAME_CONFIG={response_info:{error_message:"success",error_code:0,event_tracking:"v1_get_global_config"},result:{cdnURL:"https://cdn-test.momoapp.vn/game/tiles/v220601"}},a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameEvent.ts"],(function(o){"use strict";var t,n,e,i,r,u,s,a,c;return{setters:[function(o){t=o.inheritsLoose,n=o.asyncToGenerator,e=o.regeneratorRuntime},function(o){i=o.cclegacy,r=o._decorator,u=o.AudioSource,s=o.Component,a=o.assetManager},function(o){c=o.default}],execute:function(){var S;o("SoundEvent",void 0),i._RF.push({},"9dd765fsdpBTYPuaYbGlpDj","AudioMgr",void 0);var p,d=r.ccclass;r.property;!function(o){o.PLAY_SOUND="PLAY_SOUND",o.PLAY_MUSIC="PLAY_MUSIC",o.STOP_SOUND="STOP_SOUND",o.PLAY_SINGLE_SOUND_LOOP="PLAY_SINGLE_SOUND_LOOP",o.STOP_SINGLE_SOUND_LOOP="STOP_SINGLE_SOUND_LOOP"}(p||(p=o("SoundEvent",{})));o("AudioMgr",d("AudioMgr")(S=function(o){function i(){for(var t,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(t=o.call.apply(o,[this].concat(e))||this).audioClips=null,t.audioSourceSfx=null,t.audioSourceSfxLoop=null,t.audioSourceBg=null,t.cdnUrl="https://img.mservice.com.vn/app/img/Gamification/cocos/template2d/sounds/",t}t(i,o);var r=i.prototype;return r.onLoad=function(){this.init(),c.on(p.PLAY_SOUND,this.onPlaySingleSound,this),c.on(p.PLAY_MUSIC,this.onPlayBgMusic,this),c.on(p.STOP_SOUND,this.onStop,this),c.off(p.PLAY_SINGLE_SOUND_LOOP,this.onPlaySingleSoundLoop,this),c.off(p.STOP_SINGLE_SOUND_LOOP,this.onStopSingleSoundLoop,this)},r.init=function(){this.audioClips=new Map,this.audioSourceSfx=this.node.addComponent(u),this.audioSourceSfxLoop=this.node.addComponent(u),this.audioSourceSfxLoop.loop=!0,this.audioSourceSfxLoop.playOnAwake=!1,this.audioSourceBg=this.node.addComponent(u),this.audioSourceBg.loop=!0,this.audioSourceBg.playOnAwake=!1},r.onDestroy=function(){c.off(p.PLAY_SOUND,this.onPlaySingleSound,this),c.off(p.PLAY_MUSIC,this.onPlayBgMusic,this),c.off(p.STOP_SOUND,this.onStop,this),c.off(p.PLAY_SINGLE_SOUND_LOOP,this.onPlaySingleSoundLoop,this),c.off(p.STOP_SINGLE_SOUND_LOOP,this.onStopSingleSoundLoop,this)},r.load=function(){var o=n(e().mark((function o(t){var n=this;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise((function(o,e){a.loadRemote(n.cdnUrl+t+".mp3",(function(e,i){i&&n.audioClips.set(t,i),o(i)}))})));case 1:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}(),r.getSound=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(n=this.audioClips.get(t))){o.next=5;break}o.t0=n,o.next=8;break;case 5:return o.next=7,this.load(t);case 7:o.t0=o.sent;case 8:return o.abrupt("return",o.t0);case 9:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlayBgMusic=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceBg.stop(),this.audioSourceBg.clip=n,this.audioSourceBg.play();case 8:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlaySingleSound=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceSfx.playOneShot(n);case 6:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onPlaySingleSoundLoop=function(){var o=n(e().mark((function o(t){var n;return e().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.getSound(t);case 2:if(n=o.sent){o.next=5;break}return o.abrupt("return");case 5:this.audioSourceSfxLoop.stop(),this.audioSourceSfxLoop.clip=n,this.audioSourceSfxLoop.play();case 8:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),r.onStop=function(){this.audioSourceSfx.stop(),this.audioSourceBg.stop(),this.audioSourceSfxLoop.stop()},r.onStopSingleSoundLoop=function(){this.audioSourceSfxLoop.stop()},i}(s))||S);i._RF.pop()}}}));

System.register("chunks:///_virtual/CornerStone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./GlobalDefine.ts","./Api.ts","./NetworkMgr.ts","./CSDefine.ts"],(function(e){"use strict";var t,n,r,i,o,a,s,c,u,l,p,f,h,b,d,v,g,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,u=e._decorator,l=e.Enum,p=e.Node,f=e.Component},function(e){h=e.maxApiUtils,b=e.MaxApiName},function(e){d=e.globalDefine},function(e){v=e.Api},function(e){g=e.networkMgr},function(e){y=e.CSName,m=e.CSType}],execute:function(){var k,S,C,w,x,D,q,R,A,T,I;c._RF.push({},"5dc4fRCtGlL6oGdK2x5bqj1","CornerStone",void 0);var _=u.ccclass,H=u.property;e("CornerStone",(k=_("CornerStone"),S=H({type:l(y)}),C=H({type:l(m)}),w=H(Boolean),x=H(p),k((R=t((q=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"refID",R,i(t)),r(t,"type",A,i(t)),r(t,"autoStart",T,i(t)),r(t,"container",I,i(t)),t.appCode="spiner-mega",t.url="hermes-cornerstone-api/v1/get",t.urlTracking="hermes-cornerstone-track/v1/tracking",t.isAvailable=!1,t.clickable=!0,t}n(t,e);var c=t.prototype;return c.start=function(){this.autoStart&&this.fetch(this.refID)},c.fetch=function(){var e=o(a().mark((function e(t){var n,r,i,o,c,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=null),this.refID=t||this.refID,this.container&&(this.container.active=!1),e.next=5,this.request(this.url,"POST",{ref_id:y[this.refID]});case 5:if(n=e.sent,console.log("[ConnerStone] "+this.appCode+" "+y[this.refID]+" response: ",n),!n||!n.blocks){e.next=24;break}r=s(n.blocks);case 9:if((i=r()).done){e.next=24;break}o=i.value,c=s(o.zones);case 12:if((u=c()).done){e.next=20;break}if(-1==(l=u.value).type.indexOf(m[this.type])){e.next=18;break}return this.init(l),this.isAvailable=!0,e.abrupt("break",20);case 18:e.next=12;break;case 20:if(!this.isAvailable){e.next=22;break}return e.abrupt("break",24);case 22:e.next=9;break;case 24:this.container&&(this.container.active=!0),this.node.active=this.isAvailable;case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.getRatio=function(e){switch(e){case m.carousel_banner:return.5;case m.thin_banner:return 114/343}},c.init=function(e){},c.refresh=function(){this.isAvailable||this.fetch(this.refID)},c.sendTracking=function(e,t){var n={action:e,data:t};g.postRequest(this.urlTracking,n)},c.openURL=function(e){h.request(b.openWeb,{url:e})},c.filterUrl=function(e){return e.replace("img.mservice.io","atc-edge03.mservice.com.vn")},c.request=function(e,t,n){var r=this;return h.isBrowser?new Promise((function(i,o){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState)if(200==a.status){var e=JSON.parse(a.response);i(e)}else i(null)},a.open(t,v.HOST+e),a.setRequestHeader("Authorization","Bearer "+d.profile.userToken),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("app_version",d.buildVersion.toString()),a.setRequestHeader("app_code",r.appCode),a.setRequestHeader("device_os",d.osPlatform),a.timeout=3e3,a.send(n?JSON.stringify(n):null)})):"GET"==t?new Promise((function(t,n){h.request(b.getCloudMessage,{path:e}).then((function(e){t(e.response)}))})):"POST"==t?new Promise((function(t,r){h.request(b.sendCloudMessage,{path:e,body:n}).then((function(e){t(e.response)}))})):void 0},t}(f)).prototype,"refID",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(q.prototype,"type",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(q.prototype,"autoStart",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=t(q.prototype,"container",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=q))||D));c._RF.pop()}}}));

System.register("chunks:///_virtual/CornerStoneBanner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ImageCache.ts","./CornerStone.ts"],(function(t){"use strict";var e,n,r,i,o,s,c,a,l,h,u,d,f,p;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,c=t.ScrollView,a=t.UITransform,l=t.log,h=t.instantiate,u=t.Node,d=t.Sprite},function(t){f=t.default},function(t){p=t.CornerStone}],execute:function(){var m;o._RF.push({},"ea30cefRcdKOZ+eLiWQEv00","CornerStoneBanner",void 0);var v=s.ccclass;s.property,t("CornerStoneBanner",v("CornerStoneBanner")(m=function(t){function o(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).defaultItem=null,e.scrollView=null,e.currentItem=0,e.dataList=[],e.saveNode=[],e}e(o,t);var s=o.prototype;return s.start=function(){t.prototype.start.call(this),this.scrollView=this.getComponentInChildren(c),this.defaultItem=this.scrollView.content.getChildByName("default"),this.defaultItem.getComponent(a).width=this.scrollView.view.width,this.defaultItem.getComponent(a).height=this.scrollView.view.height,this.scrollView.content.removeAllChildren(),this.dataList=[]},s.init=function(t){var e=this;if(this.dataList=[],this.scrollView.content.children.forEach((function(t){e.saveNode.push(t)})),this.scrollView.content.removeAllChildren(),t&&t.data){for(var r,i=n(t.data);!(r=i()).done;){var o=r.value;o&&(this.dataList.push(o),this.add(o))}this.currentItem=-1,this.schedule(this.nextBanner,5)}},s.add=function(){var t=r(i().mark((function t(e){var n,r=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.saveNode.pop()||h(this.defaultItem),this.sendTracking("impression",e.tracking.impression),n.on(u.EventType.TOUCH_END,(function(){r.sendTracking("click",e.tracking.click),r.openURL(e.refId),l("[ConnerStoneBanner] click",e.refId)}),this),n.setParent(this.scrollView.content),f.bindSprite(n.getComponent(d),e.image);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.nextBanner=function(){this.currentItem=(this.currentItem+1)%this.scrollView.content.children.length;var t=this.scrollView.content.children[this.currentItem];t.active=!0;var e=t.getComponent(a).width,n=this.scrollView.getScrollOffset();n.x+=t.position.x+e/2,this.scrollView.horizontal=!0,this.scrollView.scrollToOffset(n,.5),l("[ConnerStoneBanner] nextBanner",this.currentItem,n)},s.onscroll=function(t,e){switch(e){case 9:this.scrollView.horizontal=!1}},o}(p))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/CSDefine.ts",["cc"],(function(_){"use strict";var o;return{setters:[function(_){o=_.cclegacy}],execute:function(){var e,h;_({CSName:void 0,CSType:void 0}),o._RF.push({},"7f6e0GPevdA66tTesJA8udB","CSDefine",void 0),function(_){_[_.carousel_banner=0]="carousel_banner",_[_.thin_banner=1]="thin_banner",_[_.popup=2]="popup",_[_.video=3]="video"}(e||(e=_("CSType",{}))),function(_){_[_.momo_phache_home=0]="momo_phache_home",_[_.momo_phache_Watch_video_vid=1]="momo_phache_Watch_video_vid",_[_.momo_phache_QR_W2B_vid=2]="momo_phache_QR_W2B_vid",_[_.momo_phache_OCR_W2B_vid=3]="momo_phache_OCR_W2B_vid",_[_.momo_phache_Copy_transfer_vid=4]="momo_phache_Copy_transfer_vid",_[_.momo_phache_Save_bank_account_vid=5]="momo_phache_Save_bank_account_vid",_[_.momophache_home_popup=6]="momophache_home_popup"}(h||(h=_("CSName",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/CSMockup.ts",["cc"],(function(c){"use strict";var l;return{setters:[function(c){l=c.cclegacy}],execute:function(){l._RF.push({},"a9316FPkbdL66Y5IhJFzoWu","CSMockup",void 0);var I=c("CSMockup",(function(){}));I.CSResponse={response_info:{error_code:0,error_message:"success",event_tracking:"user_get_comm_in_app",event_tracking_params:{ref_id:"global_2",service_id:"",tag:"global"}},blocks:[{layout:"VERTICAL",zones:[{type:"carousel_banner",title:"",isCapsLockTitle:!1,data:[{ad_label:"",image:"https://img.mservice.com.vn/app/img/investment/popup_referral_step2.jpeg",refId:"ins_referral",caption:"Mời bạn mua bảo hiểm sức khỏe ",body:"Nhận ngay 1 tỷ về Túi Thần Tài",cta_button:"Mời bạn ngay",params:{},tracking:{impression:"Cg9jYXJvdXNlbF9iYW5uZXIiEQoFc3RhZ2USCGdsb2JhbF8yIhMKDnBvc2l0aW9uX2Jsb2NrEgExIhIKDXBvc2l0aW9uX3pvbmUSATEiDgoKc2VydmljZV9pZBIAIjMKC2NhbXBhaWduX2lkEiRhODQ3ZWRmMS03MzY4LTQ3MjItYmUyNC1hOWY4YjBiOTgyNGQiKgoNY2FtcGFpZ25fbmFtZRIZMjIwNjIyX0NCX0dhbWVvbmVfTmhpdGVzdCIwCghhc3NldF9pZBIkM2Y4ZDU4MDktZTQ3Ni00NjNiLTk1NmUtOGIzOTY4N2VhYjhjIiwKBHR5cGUSJDNmOGQ1ODA5LWU0NzYtNDYzYi05NTZlLThiMzk2ODdlYWI4YyIWCgxmb3JtYXRfZ3JvdXASBkJBTk5FUiIWCghlbmRfdGltZRIKMTY1NjAwMzYwMCIKCgVsZXZlbBIBNiIeCg1zZXJ2aWNlX2dyb3VwEg1lbnRlcnRhaW5tZW50IhAKDHNlcnZpY2VfdHlwZRIAIhcKDmlzX2V4dGVybmFsX2FkEgVmYWxzZSIfChZpc19mb3J3YXJkZWRfcHJvbW90aW9uEgVmYWxzZSIRCg1wcm9tb3Rpb25fa2V5EgAiGgoLYWRfcHJvdmlkZXISC2Nvcm5lcnN0b25lIkAKCnJlcXVlc3RfaWQSMjE2NTU5ODI3NDU2MDUtOTc3YjQyOTUtOTVmMC00ZGQzLTkxNzAtYWFhNzE4NzcyZGM2IgkKBHNsb3QSATAqFAoLYXBwX3ZlcnNpb24SBTMxMDQwKhcKCGFwcF9jb2RlEgtzcGluZXItbWVnYSoUCglkZXZpY2Vfb3MSB2Jyb3dzZXIqFQoIYWdlbnRfaWQSCTk3MzY2ODE1MCoUCgZ1c2VySUQSCjA5NzM2NjgxNTA=",click:"Cg9jYXJvdXNlbF9iYW5uZXIiEQoFc3RhZ2USCGdsb2JhbF8yIhMKDnBvc2l0aW9uX2Jsb2NrEgExIhIKDXBvc2l0aW9uX3pvbmUSATEiDgoKc2VydmljZV9pZBIAIjMKC2NhbXBhaWduX2lkEiRhODQ3ZWRmMS03MzY4LTQ3MjItYmUyNC1hOWY4YjBiOTgyNGQiKgoNY2FtcGFpZ25fbmFtZRIZMjIwNjIyX0NCX0dhbWVvbmVfTmhpdGVzdCIwCghhc3NldF9pZBIkM2Y4ZDU4MDktZTQ3Ni00NjNiLTk1NmUtOGIzOTY4N2VhYjhjIiwKBHR5cGUSJDNmOGQ1ODA5LWU0NzYtNDYzYi05NTZlLThiMzk2ODdlYWI4YyIWCgxmb3JtYXRfZ3JvdXASBkJBTk5FUiIWCghlbmRfdGltZRIKMTY1NjAwMzYwMCIKCgVsZXZlbBIBNiIeCg1zZXJ2aWNlX2dyb3VwEg1lbnRlcnRhaW5tZW50IhAKDHNlcnZpY2VfdHlwZRIAIhcKDmlzX2V4dGVybmFsX2FkEgVmYWxzZSIfChZpc19mb3J3YXJkZWRfcHJvbW90aW9uEgVmYWxzZSIRCg1wcm9tb3Rpb25fa2V5EgAiGgoLYWRfcHJvdmlkZXISC2Nvcm5lcnN0b25lIkAKCnJlcXVlc3RfaWQSMjE2NTU5ODI3NDU2MDUtOTc3YjQyOTUtOTVmMC00ZGQzLTkxNzAtYWFhNzE4NzcyZGM2IgkKBHNsb3QSATAqFAoLYXBwX3ZlcnNpb24SBTMxMDQwKhcKCGFwcF9jb2RlEgtzcGluZXItbWVnYSoUCglkZXZpY2Vfb3MSB2Jyb3dzZXIqFQoIYWdlbnRfaWQSCTk3MzY2ODE1MCoUCgZ1c2VySUQSCjA5NzM2NjgxNTA=",utm:"Cg9jYXJvdXNlbF9iYW5uZXIiHgoNc2VydmljZV9ncm91cBINZW50ZXJ0YWlubWVudCIQCgxzZXJ2aWNlX3R5cGUSADIUCgp1dG1fc291cmNlEgZIZXJtZXMyFAoKdXRtX21lZGl1bRIGYmFubmVyMikKDHV0bV9jYW1wYWlnbhIZMjIwNjIyX0NCX0dhbWVvbmVfTmhpdGVzdDIgCgh1dG1fdGVybRIUR2FtZV9HQU1FT05FX0xpc3RpbmcyJwoLdXRtX2NvbnRlbnQSGDIyMDUxMl9jYXJvdXNlbF9tYXhza19tcA=="},third_party_tracking:{impression:"",click:""}}]}]},{layout:"VERTICAL",zones:[]}]},I.CSZone=I.CSResponse.blocks[0].zones[0],I.CSZoneData=I.CSZone.data[0],l._RF.pop()}}}));

System.register("chunks:///_virtual/define.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){e({EventName:void 0,MaxAPIEvent:void 0,PopupEvent:void 0,PopupName:void 0,ScreenName:void 0,SoundName:void 0,UiEvent:void 0}),n._RF.push({},"d0ac71YsqJMyZhRJeN3Hvkz","define",void 0);var o,t,i,p,u,a,c,r=e("define",(function(){}));r.NUMBER_SLOT=8,r.MAX_SPEED=5,function(e){e.MainMenu="MainMenu",e.InGame="InGame"}(o||(o=e("ScreenName",{}))),function(e){e.PopupReward="PopupReward"}(t||(t=e("PopupName",{}))),function(e){e.Bgm="bgm",e.Reward="gift_show",e.Click="button_tap"}(i||(i=e("SoundName",{}))),function(e){e.Spin="game-spin",e.OnSpinStart="game-on-spin-start",e.OnSpinFinish="game-on-spin-finish",e.CaptureScreenShoot="game-capture-screen-shoot",e.fpsReport="fps-report"}(p||(p=e("EventName",{}))),function(e){e.ActiveSpinButton="active-spin-button",e.ShowPopupReward="show-popup-reward"}(u||(u=e("UiEvent",{}))),function(e){e.Load="popup-load",e.Show="popup-show",e.Hide="popup-hide",e.HideAll="popup-hide-all"}(a||(a=e("PopupEvent",{}))),function(e){e.request="maxapi-request"}(c||(c=e("MaxAPIEvent",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/FaceDetectionMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,n,s,a;return{setters:[function(t){e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator},function(t){a=t.utils}],execute:function(){var r;n._RF.push({},"6b276ZFzpJKj4KMejjbxT3N","FaceDetectionMgr",void 0);var o={width:640,height:480},c={width:360,height:270},h=s.ccclass,d=(s.property,h("FaceDetectionMgr")(r=function(){function t(){this.faceDetectionHelper=void 0,this.video=void 0,this.canvas=void 0,this.ctx=void 0,this.detector=void 0,this.addScriptFaceDetectionHelper(),this.setup()}var n=t.prototype;return n.update=function(){this.detector&&this.renderResult()},n.playVideo=function(){this.video.play()},n.addScriptFaceDetectionHelper=function(){var t=document.createElement("script");t.setAttribute("src","https://vtlinh86.github.io/tensorflow_face_detection_demo/dist/face_detection_helper.js"),document.head.appendChild(t)},n.setup=function(){var t=e(i().mark((function t(){var e=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("setup"),window.FACE_DETECTION_HELPER){t.next=4;break}return setTimeout((function(){e.setup()}),100),t.abrupt("return");case 4:return this.faceDetectionHelper=window.FACE_DETECTION_HELPER,console.log("faceDetectionHelper",this.faceDetectionHelper),this.initObjects(),t.prev=7,t.next=10,this.faceDetectionHelper.createDetector();case 10:this.detector=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),this.detector=null;case 16:console.warn("detector",this.detector),this.setupCamera();case 18:case"end":return t.stop()}}),t,this,[[7,13]])})));return function(){return t.apply(this,arguments)}}(),n.initObjects=function(){this.video=document.createElement("video"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.canvas.style.height="100%",this.canvas.style.width="100%",this.canvas.style.position="fixed",this.canvas.style.top="0%",this.canvas.style.left="0%",this.canvas.style.zIndex="-1"},n.setupCamera=function(){var t=e(i().mark((function t(){var e,n,s,r,h=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){t.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return e={audio:!1,video:{facingMode:"user",width:a.isMobile()?c.width:o.width,height:a.isMobile()?c.height:o.height,frameRate:{ideal:20}}},t.next=5,navigator.mediaDevices.getUserMedia(e);case 5:return n=t.sent,console.log("stream",n),console.log("stream",n.getVideoTracks()[0].getSettings()),this.video.srcObject=n,t.next=11,new Promise((function(t){h.video.onloadedmetadata=function(){t(null)}}));case 11:s=this.video.videoWidth,r=this.video.videoHeight,console.log("videoWidth x videoHeight",s,r),this.video.width=s,this.video.height=r,this.canvas.width=r/window.innerHeight*window.innerWidth,this.canvas.height=r,this.ctx.translate(this.canvas.width,0),this.ctx.scale(-1,1);case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.renderResult=function(){var t=e(i().mark((function t(){var e,n=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.video.readyState<2)){t.next=3;break}return t.next=3,new Promise((function(t){n.video.onloadeddata=function(){t(null)}}));case 3:if(e=null,null==this.detector){t.next=16;break}return t.prev=5,t.next=8,this.detector.estimateFaces(this.canvas,{flipHorizontal:!0});case 8:e=t.sent,t.next=16;break;case 11:t.prev=11,t.t0=t.catch(5),this.detector.dispose(),this.detector=null,alert(t.t0);case 16:this.drawCtx(),e&&e.length>0&&this.drawResults(e,!0,!0);case 18:case"end":return t.stop()}}),t,this,[[5,11]])})));return function(){return t.apply(this,arguments)}}(),n.drawCtx=function(){var t=-.5*(this.video.width-this.canvas.width);this.ctx.drawImage(this.video,t,0,this.video.width,this.video.height)},n.drawResults=function(t,e,i){this._drawResults(this.ctx,t,e,i)},n._drawResults=function(t,e,i,n){var s=this;e.forEach((function(e){var a=e.keypoints.map((function(t){return[t.x,t.y]}));if(i){t.strokeStyle="#FF2C35",t.lineWidth=1;var r=e.box;s._drawPath(t,[[r.xMin,r.yMin],[r.xMax,r.yMin],[r.xMax,r.yMax],[r.xMin,r.yMax]],!0)}if(n){t.fillStyle="#32EEDB";for(var o=0;o<6;o++){var c=a[o][0],h=a[o][1];t.beginPath(),t.arc(c,h,3,0,2*Math.PI),t.fill()}}}))},n._drawPath=function(t,e,i){var n=new Path2D;n.moveTo(e[0][0],e[0][1]);for(var s=1;s<e.length;s++){var a=e[s];n.lineTo(a[0],a[1])}i&&n.closePath(),t.stroke(n)},t}())||r);t("faceDetectionMgr",new d);n._RF.pop()}}}));

System.register("chunks:///_virtual/Fluxay.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,a,n,o,s,l,c,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.CCFloat,l=t.Material,c=t.Sprite,p=t.tween,u=t.Component}],execute:function(){var m,y,h,f,d;n._RF.push({},"819518WMadLLqdAR3Hj9//0","Fluxay",void 0);var g=o.ccclass,v=o.property;t("Fluxay",(m=g("Fluxay"),y=v(s),m((d=e((f=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"speed",d,a(e)),e.material=null,e.time=0,e}return i(e,t),e.prototype.start=function(){var t=this;this.material=new l,this.material.copy(this.getComponent(c).material),this.getComponent(c).material=this.material,p({time:0}).set({time:0}).to(5/this.speed,{time:1},{onUpdate:function(e,i){t.material.setProperty("time",e.time)},easing:"linear"}).union().repeatForever().start()},e}(u)).prototype,"speed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),h=f))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameApi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./GlobalDefine.ts","./Api.ts","./NetworkMgr.ts"],(function(e){"use strict";var t,r,n,o,i,s,a,u;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.log},function(e){i=e.maxApiUtils},function(e){s=e.globalDefine},function(e){a=e.Api},function(e){u=e.networkMgr}],execute:function(){n._RF.push({},"ba4b7JbNotHybnbVqsYJgFq","GameApi",void 0);e("gameApi",new(function(){function e(){}var n=e.prototype;return n.getGameConfig=function(){var e=t(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.getRequest(a.GAME_CONFIG));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.genDeepLink=function(){var e=t(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){u.postRequest(a.DEEP_LINK,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.error=function(e,t,r){if(!i.isBrowser){var n={gameId:s.featureID,appVersion:""+s.buildVersion,osVersion:"",deviceModel:s.deviceModelName,osPlatform:s.osPlatform,screenId:screen,errorCode:t+"#"+r,extra:"",timestamp:Date.now(),value:1};u.postRequest(a.ERROR_REPORT,n).then((function(e){o("[REPORT ERROR] result: ",e,n)}))}},n.fps=function(e,t){if(!i.isBrowser){var r={gameId:s.featureID,appVersion:""+s.buildVersion,osVersion:"",deviceModel:s.deviceModelName,osPlatform:s.osPlatform,screenId:e,errorCode:e,extra:"",timestamp:Date.now(),value:Math.round(t)};u.postRequest(a.FPS_REPORT,r).then((function(e){o("[REPORT FPS] result: ",e,r)}))}},n.latencyReport=function(e,t,r){if(!i.isBrowser){var n={gameId:s.featureID,appVersion:""+s.buildVersion,osVersion:"",deviceModel:s.deviceModelName,osPlatform:s.osPlatform,screenId:e,errorCode:t,extra:"",timestamp:Date.now(),value:r/1e3};u.postRequest(a.LATENCY_REPORT,n).then((function(e){o("[REPORT LATENCY] result: ",e,n)}))}},e}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameCatchThemAll.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FaceDetectionMgr.ts"],(function(t){"use strict";var e,c,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){c=t.cclegacy,n=t._decorator,r=t.Component},function(t){o=t.faceDetectionMgr}],execute:function(){var a;c._RF.push({},"60da5lSULFPkLFsERS5mvRr","GameCatchThemAll",void 0);var i=n.ccclass;n.property,t("GameCatchThemAll",i("GameCatchThemAll")(a=function(t){function c(){return t.apply(this,arguments)||this}e(c,t);var n=c.prototype;return n.start=function(){o.playVideo()},n.update=function(t){o.update()},c}(r))||a);c._RF.pop()}}}));

System.register("chunks:///_virtual/GameEvent.ts",["cc"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy,c=e.EventTarget}],execute:function(){t._RF.push({},"cf67fV7rxVL5IrLlgHmZ3Xi","GameEvent",void 0);e("default",new c);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./GlobalDefine.ts","./MaxApiUtils.ts","./TrimBase64.ts","./define.ts","./Wheel.ts","./GameEvent.ts","./GameApi.ts","./PopupMgr.ts","./ScreenMgr.ts"],(function(t){"use strict";var e,n,i,a,s,o,r,c,u,p,h,l,d,f,m,g,S,v,w,C,M,A,k,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.director,c=t.Director,u=t.game,p=t.view,h=t.Component},function(t){l=t.SoundEvent},function(t){d=t.globalDefine},function(t){f=t.maxApiUtils,m=t.MaxApiName},function(t){g=t.TrimBase64},function(t){S=t.EventName,v=t.SoundName,w=t.UiEvent},function(t){C=t.Wheel},function(t){M=t.default},function(t){A=t.gameApi},function(t){k=t.PopupMgr},function(t){G=t.ScreenMgr}],execute:function(){var T,b,B,I,O,y;s._RF.push({},"b7472axsNtOc6fjgxtXsqcK","GameMgr",void 0);var E,R=o.ccclass,F=o.property;!function(t){t[t.Init=0]="Init",t[t.CheckToken=1]="CheckToken",t[t.GameConfig=2]="GameConfig",t[t.Playing=3]="Playing",t[t.NetworkError=4]="NetworkError"}(E||(E={}));t("GameMgr",(T=R("GameMgr"),b=F(C),T(((y=function(t){function e(){var e;return e=t.call(this)||this,i(e,"wheel",O,a(e)),e.state=void 0,e.isCapture=!1,e.captureCallBack=null,e.time=0,e.frameCount=0,e.dt=0,e.fps=0,e.updateRate=4,e.hideError(),e}n(e,t);var s=e.prototype;return s.onLoad=function(){r.on(c.EVENT_AFTER_DRAW,this.canvasAfterDraw,this),M.on(S.Spin,this.OnSpin,this),M.on(S.OnSpinStart,this.OnSpinStart,this),M.on(S.OnSpinFinish,this.OnSpinFinish,this),M.on(S.CaptureScreenShoot,this.captureScreen,this),M.on(S.fpsReport,this.onFpsReport,this)},s.start=function(){e.instance=this,window.OnHideLoading&&(window.OnHideLoading(),f.request(m.stopTrace,window.traceScreenLoadId),f.request(m.stopTrace,window.traceScreenInterractionId)),this.SetState(E.Init),f.listen("onFocusApp",this.handleFocusMiniApp.bind(this)),f.listen("onBlurApp",this.handleBlurMiniApp.bind(this)),M.emit(l.PLAY_MUSIC,v.Bgm)},s.SetState=function(t){var e;switch(console.log("[GameMgr] state: "+E[this.state]+" => "+E[t]),this.state=t,t){case E.Init:null==(e=this.wheel)||e.Init(),k.instance.load(),G.instance.load(),this.SetState(E.CheckToken);break;case E.CheckToken:this.time=0;break;case E.GameConfig:this.SetState(E.Playing);break;case E.Playing:f.request(m.stopTrace,window.traceScreenGoldId),M.emit(w.ActiveSpinButton,!0)}},s.update=function(t){switch(this.state){case E.Init:break;case E.CheckToken:this.time+=t,d.profile.isOk&&this.SetState(E.GameConfig)}this.frameCount++,this.dt+=t,this.dt>1/this.updateRate&&(this.fps=this.frameCount/this.dt,this.frameCount=0,this.dt-=1/this.updateRate),d.fps=this.fps},s.onFpsReport=function(t){var e=this;void 0===t&&(t="Main"),setTimeout((function(){A.fps(t,e.fps)}),1e3)},s.hideError=function(){var t=document.createElement("style");document.head.appendChild(t),t.innerText="\n            .error {\n                display: none;\n                z-index: -1;\n            }\n        "},s.handleFocusMiniApp=function(){u.resume(),console.log("[GameMgr] handleFocusMiniApp")},s.handleBlurMiniApp=function(){u.pause(),console.log("[GameMgr] handleBlurMiniApp")},s.OnSpin=function(){var t;null==(t=this.wheel)||t.OnSpin()},s.OnSpinStart=function(){M.emit(w.ActiveSpinButton,!1)},s.OnSpinFinish=function(){var t=this;setTimeout((function(){M.emit(w.ActiveSpinButton,!0),t.OnReward()}),500)},s.OnReward=function(){var t;M.emit(w.ShowPopupReward,null==(t=this.wheel)?void 0:t.GetCurrentItem())},s.canvasAfterDraw=function(){if(this.isCapture){this.isCapture=!1;var t=document.getElementById("GameCanvas"),e=document.createElement("canvas"),n=e.getContext("2d"),i=p.getVisibleSize().width,a=p.getVisibleSize().height;e.width=i,e.height=a,n.drawImage(t,0,0,i,a,0,0,i,a);var s=g.trimCanvas(e).toDataURL("image/png");this.captureCallBack(s)}},s.captureScreen=function(t){this.captureCallBack=t,this.isCapture=!0},e}(h)).instance=null,O=e((I=y).prototype,"wheel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=I))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalDefine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Profile.ts","./MaxApiUtils.ts","./ApiMock.ts","./GameApi.ts"],(function(e){"use strict";var n,i,t,o,r,f,s,a,c,u;return{setters:[function(e){n=e.createClass,i=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.log},function(e){f=e.Profile},function(e){s=e.maxApiUtils,a=e.MaxApiName},function(e){c=e.ApiMock},function(e){u=e.gameApi}],execute:function(){var d;e("DevicePerformance",void 0),o._RF.push({},"bd878PhQoVBopiCOx304mmp","GlobalDefine",void 0),function(e){e.LowEnd="low-end",e.MideEnd="mid-end",e.HighEnd="high-end"}(d||(d=e("DevicePerformance",{})));e("globalDefine",new(function(){function e(){this.deviceInfo=void 0,this.appConfig=void 0,this.gameConfig=void 0,this.profile=new f,this.fps=0,this.init()}var o=e.prototype;return o.init=function(){var e=i(t().mark((function e(){var n,i=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.request(a.getDeviceInfo).then((function(e){i.deviceInfo=e||c.deviceInfo,r("[globalDefine] getDeviceInfo: ",e)})),this.getGameParams().then((function(e){i.appConfig=e||c.APP_CONFIG,console.log("[GlobeDefine] getGameParams: ",i.appConfig)})),e.next=4,this.profile.init();case 4:return e.next=6,u.getGameConfig();case 6:(n=e.sent)&&(this.gameConfig=n.result),r("[GameConfig] ",this.gameConfig),r("[globalDefine] Init done.....");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.getGameParams=function(){return new Promise((function(e,n){var i=localStorage.getItem("feature");e(JSON.parse(i))}))},n(e,[{key:"featureID",get:function(){return this.appConfig?this.appConfig.feature.featureID:"p2p"}},{key:"useCloud",get:function(){return!!this.appConfig&&this.appConfig.feature.params.useCloud}},{key:"screenRefID",get:function(){return this.appConfig?this.appConfig.feature.params.refId:"screen_main_menu"}},{key:"buildVersion",get:function(){return this.deviceInfo?this.deviceInfo.buildVersion:31040}},{key:"osPlatform",get:function(){return"apple"==this.deviceInfo.deviceManufacturer.toLocaleLowerCase()?"ios":"android"}},{key:"deviceModelName",get:function(){return this.deviceInfo?this.deviceInfo.deviceModelName:"browser"}},{key:"isIOS",get:function(){return"ios"==this.osPlatform}},{key:"env",get:function(){return this.deviceInfo.isDev?"dev":"prod"}},{key:"isLowEndDevice",get:function(){return!this.deviceInfo||this.deviceInfo.devicePerformance==d.LowEnd}},{key:"isHighEndDevice",get:function(){return!!this.deviceInfo&&this.deviceInfo.devicePerformance==d.HighEnd}}]),e}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/ImageCache.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameApi.ts"],(function(e){"use strict";var t,r,n,a,u,i,s,c;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,a=e.SpriteFrame,u=e.ImageAsset,i=e.Texture2D,s=e.assetManager},function(e){c=e.gameApi}],execute:function(){n._RF.push({},"36400DoKO9IurGOTW+nfKD5","ImageCache",void 0);var o=e("default",new(function(){var e=n.prototype;function n(){this.canvas=void 0,this.context=void 0,this.images=new Map,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d")}return e.get=function(e){return this.images.get(e)},e.request=function(){var e=t(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&""!=t){e.next=2;break}return e.abrupt("return",null);case 2:if(t=t.replace("img.mservice.io","atc-edge03.mservice.com.vn"),!(n=this.images.get(t))){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,this.getRemoteTexture(t);case 8:return n=e.sent,this.images.set(t,n),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.requestSpriteFrame=function(){var e=t(r().mark((function e(t){var n,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.request(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return(u=new a).texture=n,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.requestAvatar=function(){var e=t(r().mark((function e(t){var n,u,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://s3-ap-southeast-1.amazonaws.com/avatars.mservice.io/"+t+".png",e.next=3,this.request(n);case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return(i=new a).texture=u,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e.clear=function(){this.images.clear()},e.getRemoteTextureImage=function(){var e=t(r().mark((function e(t,n){var s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!0),e.abrupt("return",new Promise((function(e,r){var c=s.images.get(t);if(c){var o=new a;return o.texture=c,void e(o)}var p=new Image;p.crossOrigin="anonymous",p.onload=function(){var r=new u(p),c=new i;c.image=r;var o=new a;o.texture=c,n&&s.images.set(t,c),e(o)},p.onerror=function(){e(null)},p.src=t})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.getRemoteTexture=function(){var e=t(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=Date.now();s.loadRemote(t,(function(r,a){if(a){var u=new i;u.image=a,e(u),-1==t.indexOf("/avatar")&&c.latencyReport("GetRemoteImage",t,Date.now()-n)}else e(null)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.resizeImage=function(e,t){var r=this;return void 0===t&&(t=128),new Promise((function(n,a){var u=new Image;u.crossOrigin="anonymous",u.onload=function(){var e=u.height>u.width?u.height/u.width:u.width/u.height;r.canvas.width=u.height>u.width?t*e:t,r.canvas.height=u.height>u.width?t:t*e,r.context.drawImage(u,0,0,r.canvas.width,r.canvas.height),n(r.canvas.toDataURL())},u.onerror=function(){n(e)},u.src=e}))},e.bindSprite=function(){var e=t(r().mark((function e(t,n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.requestSpriteFrame(n);case 2:return a=e.sent,t.spriteFrame=a,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/InGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./define.ts","./GameEvent.ts","./GlobalDefine.ts","./ImageCache.ts","./GameApi.ts","./PopupMgr.ts","./PopupReward.ts","./Screen.ts"],(function(e){"use strict";var n,t,i,r,a,o,u,c,s,p,l,f,h,m,b,v,S,g,d,w,y,k,I,P;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,s=e.Button,p=e.Sprite,l=e.Label,f=e.Node},function(e){h=e.maxApiUtils,m=e.MaxApiName},function(e){b=e.UiEvent,v=e.EventName,S=e.PopupName},function(e){g=e.default},function(e){d=e.globalDefine},function(e){w=e.default},function(e){y=e.gameApi},function(e){k=e.PopupMgr},function(e){I=e.PopupReward},function(e){P=e.Screen}],execute:function(){var A,D,N,R,T,x,G,L,E,C,U,z,_,B;u._RF.push({},"1fc086WF7FN75GOkupyxm7x","InGame",void 0);var F=c.ccclass,M=c.property;e("InGame",(A=F("InGame"),D=M(s),N=M(s),R=M(s),T=M(p),x=M(l),A(((B=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,i(n,"btnSpin",E,r(n)),i(n,"btnShare",C,r(n)),i(n,"btnSaveImage",U,r(n)),i(n,"avatar",z,r(n)),i(n,"lbName",_,r(n)),n}t(n,e);var u=n.prototype;return u.start=function(){n.instance=this,this.btnSpin.node.on(f.EventType.TOUCH_END,this.onSpinClick,this),this.btnSaveImage.node.on(f.EventType.TOUCH_END,this.onSaveImage,this),this.btnShare.node.on(f.EventType.TOUCH_END,this.onShare,this),g.on(b.ActiveSpinButton,this.SetActiveSpinButton,this),g.on(b.ShowPopupReward,this.ShowPopupReward,this),this.SetActiveSpinButton(!1),this.updateUserInfo(),g.emit(v.fpsReport,"InGame")},u.updateUserInfo=function(){var e=a(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lbName.string=d.profile.name,e.next=3,w.requestAvatar(d.profile.userId);case 3:(n=e.sent)&&(this.avatar.spriteFrame=n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onSpinClick=function(){g.emit(v.Spin)},u.onSaveImage=function(){g.emit(v.CaptureScreenShoot,(function(e){h.saveImage(e)}))},u.onShare=function(){var e=a(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.next=3,this.genDeepLink("");case 3:(n=e.sent)&&h.request(m.shareFacebook,{link:n}).then((function(e){e&&h.request(m.showToast,null,{duration:5e3,title:"Share facebook thành công"})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.SetActiveSpinButton=function(e){this.btnSpin.interactable=e},u.ShowPopupReward=function(e){var n,t=null==(n=k.instance)?void 0:n.show(S.PopupReward,(function(){})).getComponent(I);null==t||t.SetReward(e)},u.genDeepLink=function(e){var n={title:"Test Share facebook",description:"Tham gia ngay bạn ơi!",imageLink:e,domain:"city.momoapp.vn",fallbackLink:"",fallbackLinkPc:"",originalLink:""};return y.genDeepLink(n)},n}(P)).instance=null,E=n((L=B).prototype,"btnSpin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(L.prototype,"btnShare",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(L.prototype,"btnSaveImage",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(L.prototype,"avatar",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(L.prototype,"lbName",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=L))||G));u._RF.pop()}}}));

System.register("chunks:///_virtual/item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,o,c,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Sprite,s=t.Component}],execute:function(){var u,l,p,f,y;o._RF.push({},"7900f35j5RFtrx7aJZc1T/P","item",void 0);var h=c.ccclass,m=c.property;t("Item",(u=h("Item"),l=m(a),u((y=e((f=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"icon",y,n(e)),e}return r(e,t),e.prototype.GetIcon=function(){return this.icon.spriteFrame},e}(s)).prototype,"icon",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./define.ts","./item.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,c,u,f,l,p,m,d,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.CCFloat,c=t.instantiate,u=t.Vec3,f=t.resources,l=t.Prefab,p=t.log,m=t.Component},function(t){d=t.utils},function(t){h=t.define},function(t){b=t.Item}],execute:function(){var I,g,v,y,L;o._RF.push({},"b4bbbofXi5Gv7ABfyPjfbp2","ItemMgr",void 0);var S,D=a.ccclass,M=a.property;!function(t){t[t.None=0]="None",t[t.Load=1]="Load",t[t.Init=2]="Init",t[t.Done=3]="Done"}(S||(S={}));t("ItemMgr",(I=D("ItemMgr"),g=M(s),I((L=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).itemPrefabs=[],n(e,"radius",L,r(e)),e.items=[],e.state=S.None,e}i(e,t);var o=e.prototype;return o.start=function(){this.SetState(S.Load)},o.init=function(){for(var t=0;t<h.NUMBER_SLOT;t++)this.createItem(t)},o.createItem=function(t){var e=c(this.itemPrefabs[t]);e.parent=this.node,this.items.push(e.getComponent(b));var i=360/h.NUMBER_SLOT,n=(t+1)*i-.5*i;e.setRotationFromEuler(new u(0,0,-n));var r=new u(0,this.radius,0);e.setPosition(r),d.rotationAroundNode(e,this.node.position,u.FORWARD,n)},o.GetItem=function(t){return this.items[t].GetIcon()},o.SetState=function(t){var e=this;switch(this.state=t,t){case S.None:break;case S.Load:f.loadDir("prefabs/game/items",l,(function(t,i){e.itemPrefabs=i,e.SetState(S.Init),p("[ItemMgr] Load item prefab done!")}));break;case S.Init:this.init();break;case S.Done:}},e}(m)).prototype,"radius",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),v=y))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./MaxApiUtils.ts","./bundle.mjs_cjs=&original=.js","./CSDefine.ts","./CSMockup.ts","./CornerStone.ts","./CornerStoneBanner.ts","./AudioMgr.ts","./FaceDetectionMgr.ts","./GameCatchThemAll.ts","./GameEvent.ts","./GlobalDefine.ts","./ImageCache.ts","./MyButton.ts","./Api.ts","./ApiMock.ts","./GameApi.ts","./NetworkMgr.ts","./PerformanceTracking.ts","./Popup.ts","./PopupMgr.ts","./PopupReward.ts","./RemoteImage.ts","./SpineRemote.ts","./TrimBase64.ts","./Utils.ts","./Fluxay.ts","./GameMgr.ts","./ItemMgr.ts","./Profile.ts","./Wheel.ts","./define.ts","./item.ts","./InGame.ts","./MainMenu.ts","./Screen.ts","./ScreenMgr.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./define.ts","./Screen.ts","./ScreenMgr.ts"],(function(n){"use strict";var t,e,o,i,r,a,c,l,u,s,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Node,l=n.Button},function(n){u=n.ScreenName},function(n){s=n.Screen},function(n){p=n.ScreenMgr}],execute:function(){var y,f,h,M,d;r._RF.push({},"10a87h1txJBLLlN/sBKEhoM","MainMenu",void 0);var v=a.ccclass,g=a.property;n("MainMenu",(y=v("MainMenu"),f=g(c),y((d=t((M=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,o(t,"buttonPlay",d,i(t)),t}e(t,n);var r=t.prototype;return r.onLoad=function(){var t;null==(t=n.prototype.onLoad)||t.call(this),this.buttonPlay.on(l.EventType.CLICK,this.onClickButtonPlay,this)},r.onClickButtonPlay=function(){console.log("onClickButtonPlay"),p.instance.hide(u.MainMenu),p.instance.show(u.InGame)},t}(s)).prototype,"buttonPlay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=M))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/MaxApiUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,o;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e.log}],execute:function(){var a;e("MaxApiName",void 0),i._RF.push({},"28774sywudKJaUfJ3kzaJm/","MaxApiUtils",void 0),function(e){e.getProfile="getProfile",e.getDeviceInfo="getDeviceInfo",e.shareFacebook="shareFacebook",e.showToast="showToast",e.sendCloudMessage="sendCloudMessage",e.getCloudMessage="getCloudMessage",e.startFeatureCode="startFeatureCode",e.getBase64FromUrl="getBase64FromUrl",e.triggerEventVibration="triggerEventVibration",e.startTraceScreenLoad="startTraceScreenLoad",e.startTraceScreenInteraction="startTraceScreenInteraction",e.stopTrace="stopTrace",e.trackActionEvent="trackActionEvent",e.trackStageEvent="trackStageEvent",e.openWeb="openWeb",e.copyToClipBoard="copyToClipBoard",e.navigateTab="navigateTab"}(a||(a=e("MaxApiName",{})));e("maxApiUtils",new(function(){function e(){this.observer={},o("[MaxApiutils] isBrowser: ",this.isBrowser)}var i=e.prototype;return i.request=function(){var e=n(r().mark((function e(t){var n,i,a,s=this,u=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=u.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=u[a];return o("[MaxApiUtils]","Call function: ",t),e.abrupt("return",new Promise((function(e,n){s.isBrowser&&e&&e(null);var r=window.MaxApi[t];i&&i.length>0?r.apply(void 0,i.concat([function(t){e&&e(t)}])):r((function(t){e&&e(t)}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.saveImage=function(e){var t=this;return new Promise((function(n,r){t.isBrowser&&n&&n(null),window.MaxApi.requestPermission("storage",(function(t){"granted"===t?window.MaxApi.saveImage(e,(function(e){e?(window.MaxApi.showToast({duration:5e3,title:"Lưu hình ảnh thành công"}),n&&n(!0)):(window.MaxApi.showToast({duration:5e3,title:"Lưu hình ảnh không thành công"}),n&&n(!1))})):(window.MaxApi.showToast({duration:5e3,title:"Lưu hình ảnh không thành công"}),n&&n(!1))}))}))},i.registerShaking=function(e,t){if(!this.isBrowser){var n=window.MaxApi.listen({event:"onShaker",updateInterval:100},(function(t){e(t)}));this.observer.shake=n}},i.unRegisterShaking=function(e){var t;this.isBrowser||null==(t=this.observer.shake)||null==t.remove||t.remove()},i.registerMagnetometer=function(e,t){if(!this.isBrowser){var n=window.MaxApi.listen({event:"onShaker",type:"magnetometer",updateInterval:50},(function(t){e(t)}));this.observer.magnetometer=n}},i.unRegisterMagnetometer=function(e){var t;this.isBrowser||null==(t=this.observer.magnetometer)||null==t.remove||t.remove()},i.listen=function(e,t){this.isBrowser||window.MaxApi.listen(e,t)},t(e,[{key:"isBrowser",get:function(){return null==window.ReactNativeWebView}}]),e}()));i._RF.pop()}}}));

System.register("chunks:///_virtual/MyButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,c,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,c=t.Vec3,r=t.tween,s=t.Component}],execute:function(){var u;n._RF.push({},"d753fKngEdFRoVogvjt/8Gz","MyButton",void 0);var i=o.ccclass;o.property,t("MyButton",i("MyButton")(u=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.start=function(){var t=this;this.node.on("click",(function(){var e=t.node.getScale();t.node.setScale(new c(.5,.5,.5)),r(t.node).to(.5,{scale:e},{easing:"elasticOut"}).start()}))},n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./GlobalDefine.ts","./Api.ts"],(function(e){"use strict";var t,n,r,s,o,u,a;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){s=e.maxApiUtils,o=e.MaxApiName},function(e){u=e.globalDefine},function(e){a=e.Api}],execute:function(){r._RF.push({},"b72b0V4dQJJTLMgBo4CZ95K","NetworkMgr",void 0);e("networkMgr",new(function(){function e(){}var r=e.prototype;return r.getRequest=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isBrowser){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",a.HOST+t,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization","Bearer "+u.profile.userToken),r.responseType="json",r.timeout=3e3,r.onreadystatechange=function(){4==r.readyState&&(r.status>=200&&r.status<400?e&&e(r.response):e&&e(null))},r.send()})));case 4:return e.abrupt("return",new Promise((function(e,n){s.request(o.getCloudMessage,{path:t}).then((function(t){e&&e(t?t.response:null)}))})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.postRequest=function(){var e=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isBrowser){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){var s=new XMLHttpRequest;s.open("POST",a.HOST+t,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization","Bearer "+u.profile.userToken),s.responseType="json",s.timeout=3e3,s.onreadystatechange=function(){4==s.readyState&&(s.status>=200&&s.status<400?e&&e(s.response):e&&e(null))},s.send(JSON.stringify(r))})));case 4:return e.abrupt("return",new Promise((function(e,n){s.request(o.sendCloudMessage,{path:t,body:r}).then((function(t){e&&e(t?t.response:null)}))})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.requestHeader=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new XMLHttpRequest;r.open("HEAD",t,!0),r.onload=function(){var t=r.getResponseHeader("Content-Type");e(t)},r.onerror=function(t){e("image/png")},r.timeout=3e3,r.send()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/PerformanceTracking.ts",["cc","./GlobalDefine.ts","./Api.ts","./NetworkMgr.ts"],(function(e){"use strict";var r,o,n,t;return{setters:[function(e){r=e.cclegacy},function(e){o=e.globalDefine},function(e){n=e.Api},function(e){t=e.networkMgr}],execute:function(){r._RF.push({},"16ccfiMVyROF6MR8XwCKutx","PerformanceTracking",void 0);e("performanceTracking",new(function(){function e(){this.APPVARZ_FPS="/varz/v2/fps",this.APPVARZ_API_ERROR="/varz/v2/error"}var r=e.prototype;return r.appVazFps=function(e,r){var a=[{appVersion:o.deviceInfo.appVersion,osPlatform:o.osPlatform,env:o.env,flow:"home",step:e,api:"fps",serviceName:o.feature.featureID,value:r}];return console.log("[PerformanceTracking] FPS: ",a),t.postRequest(n.HOST+this.APPVARZ_FPS,a)},r.appVazError=function(e,r,a){var s=[{appVersion:o.deviceInfo.appVersion,osPlatform:o.osPlatform,env:o.env,flow:"home",step:e,api:"error",serviceName:o.feature.featureID,errorMessage:a,errorCode:r}];return console.log("[PerformanceTracking] Error: ",s),t.postRequest(n.HOST+this.APPVARZ_API_ERROR,s)},e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/Popup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,r,s,c,l,a,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Button,l=t.Node,a=t.Vec3,u=t.tween,p=t.Component}],execute:function(){var h,f,d,v,b,y,C;r._RF.push({},"8f361kJtmhHtZkJqTzh3frO","Popup",void 0);var m=s.ccclass,g=s.property;t("Popup",(h=m("Popup"),f=g(c),d=g(l),h((y=e((b=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"btnClose",y,o(e)),i(e,"container",C,o(e)),e.onClose=null,e}n(e,t);var r=e.prototype;return r.start=function(){this.btnClose.node.on("click",this.OnCloseClick.bind(this))},r.OnCloseClick=function(){var t;null==(t=this.onClose)||t.call(this),this.hide()},r.show=function(t){var e=this;void 0===t&&(t=!1),this.node.active=!0,this.container.setScale(a.ZERO),u(this.container).to(.5,{scale:new a(1,1,1)},{easing:"bounceInOut"}).start(),t&&setTimeout((function(){e.hide()}),3e3)},r.hide=function(t){void 0===t&&(t=!0),this.node.active=!1,t&&(this.node.removeFromParent(),this.node.destroy())},e}(p)).prototype,"btnClose",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"container",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./define.ts","./Popup.ts"],(function(e){"use strict";var n,o,t,r,i,a,c,u,s,p,f,l,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,c=e._decorator,u=e.Prefab,s=e.instantiate,p=e.resources,f=e.Component},function(e){l=e.PopupName},function(e){d=e.Popup}],execute:function(){var h,g,P,b,v,m;a._RF.push({},"8203bcYBqBDwZg65M1oBkCP","PopupMgr",void 0);var y=c.ccclass,C=c.property;e("PopupMgr",(h=y("PopupMgr"),g=C(u),h(((m=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,t(n,"prefabs",v,r(n)),n}o(n,e);var a=n.prototype;return a.onLoad=function(){n.instance=this},a.show=function(e,n){if(void 0===n&&(n=null),!this.node.getChildByName(e)){var o=this.getPrefab(e);if(o){var t=s(o).getComponent(d);return n&&(t.onClose=n),t.node.setParent(this.node),t.node.name=e,t.show(),t}}},a.hide=function(e){this.node.children.forEach((function(n){n.name==e&&n.getComponent(d).hide()}))},a.hideAll=function(){this.node.children.forEach((function(e){e.active&&e.getComponent(d).hide()}))},a.getPrefab=function(e){return this.prefabs.find((function(n){return n.data.name==e}))},a.load=function(){var e=this;Object.keys(l).forEach((function(n){e.getPrefab(n)||p.load("prefabs/popups/"+n,(function(o,t){t?(e.prefabs.push(t),console.log("Popup loaded: "+n)):console.error("Popup loade fail: "+n)}))}))},a.isShow=function(){for(var e,n=i(this.node.children);!(e=n()).done;){if(e.value.active)return!0}return!1},n}(f)).instance=null,v=n((b=m).prototype,"prefabs",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=b))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./define.ts","./GameEvent.ts","./Popup.ts"],(function(t){"use strict";var e,n,r,o,i,u,a,c,p,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,a=t.Sprite},function(t){c=t.SoundEvent},function(t){p=t.SoundName},function(t){s=t.default},function(t){l=t.Popup}],execute:function(){var f,d,h,w,y;i._RF.push({},"6100bSbIIxLGYaAGhznRQ18","PopupReward",void 0);var v=u.ccclass,P=u.property;t("PopupReward",(f=v("PopupReward"),d=P(a),f((y=e((w=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,r(e,"icon",y,o(e)),e}n(e,t);var i=e.prototype;return i.SetReward=function(t){this.icon.spriteFrame=t},i.show=function(){t.prototype.show.call(this,!0),s.emit(c.PLAY_SOUND,p.Reward)},e}(l)).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=w))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/Profile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts"],(function(e){"use strict";var t,i,n,r,s,o;return{setters:[function(e){t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){n=e.cclegacy,r=e.log},function(e){s=e.maxApiUtils,o=e.MaxApiName}],execute:function(){n._RF.push({},"a294f7m3ZhJL5sqSxj8VgN4","Profile",void 0);e("Profile",function(){function e(){this.devToken="0938314514",this.userId=void 0,this.userToken=void 0,this.name=void 0,this.isOk=!1}return e.prototype.init=function(){var e=t(i().mark((function e(){var t,n,u,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.request(o.getProfile);case 2:t=e.sent,u=(n=t||{}).userId,a=n.token,c=n.name,this.userId=u||this.devToken,this.userToken=a||this.devToken,this.name=c||"Dev Player",this.isOk=!0,r("[Profile] init: ",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/RemoteImage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalDefine.ts","./ImageCache.ts"],(function(e){"use strict";var t,r,n,i,o,l,a,u,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Sprite,u=e.log},function(e){c=e.globalDefine},function(e){s=e.default}],execute:function(){var p,f,g,m,d,h,b,y;o._RF.push({},"cae799u15NAhb4aNJ7KkvYX","RemoteImage",void 0);var v=l.ccclass,I=l.property,R=l.executeInEditMode;e("RemoteImage",(p=v("RemoteImage"),f=R(!0),g=I(String),m=I(String),p(d=f((b=t((h=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"url",b,i(t)),n(t,"cloudUrl",y,i(t)),t}return r(t,e),t.prototype.start=function(){var e=this.url;c.useCloud&&(e=this.cloudUrl||e),s.bindSprite(this.getComponent(a),e).then((function(e){})),u("[RemoteImage] "+this.node.name+" load "+e)},t}(a)).prototype,"url",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"cloudUrl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d)||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Screen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,c,r;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,c=e.log,r=e.Component}],execute:function(){var i;t._RF.push({},"ef121KIw5RCYp5xIXtW1PZ6","Screen",void 0);var s=o.ccclass;o.property,e("Screen",s("Screen")(i=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.show=function(){this.node.active=!0},o.hide=function(){this.node.active=!1},o.onBack=function(){c("[Screen] "+this.node.name+" onBack not implemented")},t}(r))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MaxApiUtils.ts","./define.ts","./PopupMgr.ts","./Screen.ts"],(function(n){"use strict";var e,t,i,r,s,a,o,c,u,f,l,h,p,d,v,g,b,m;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){s=n.cclegacy,a=n._decorator,o=n.Node,c=n.Prefab,u=n.input,f=n.Input,l=n.resources,h=n.instantiate,p=n.KeyCode,d=n.Component},function(n){v=n.maxApiUtils},function(n){g=n.ScreenName},function(n){b=n.PopupMgr},function(n){m=n.Screen}],execute:function(){var k,y,w,P,B,S,C,D,L,E;s._RF.push({},"5bd31koSOhMa6X+466ujhHt","ScreenMgr",void 0);var M=a.ccclass,O=a.property;n("ScreenMgr",(k=M("ScreenMgr"),y=O(o),w=O(o),P=O(c),k(((E=function(n){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=n.call.apply(n,[this].concat(s))||this,i(e,"container",C,r(e)),i(e,"screens",D,r(e)),i(e,"prefabs",L,r(e)),e.stack=[],e.isOnListeningBackKey=!1,e}t(e,n);var s=e.prototype;return s.onLoad=function(){e.instance=this,u.on(f.EventType.KEY_DOWN,this.OnKeyDown,this),window.addEventListener("message",this.onBackDevicePress.bind(this)),this.setListenDeviceBackBtn(!0)},s.start=function(){},s.isShow=function(n){var e=this.screens.find((function(e){return e.name==n}));return e&&e.active},s.isLoaded=function(n){return this.screens.find((function(e){return e.name==n}))},s.show=function(n){var e=this.GetScreen(n);return e&&!e.active&&e.getComponent(m).show(),e},s.hide=function(n){var e=this.screens.find((function(e){return e.name==n}));e&&e.getComponent(m).hide()},s.hideAll=function(){this.screens.forEach((function(n){n.active&&n.getComponent(m).hide()}))},s.isContain=function(n){var e=!1;return this.screens.forEach((function(t){t.name!=n||(e=!0)})),e},s.load=function(){for(var n=0,e=Object.keys(g);n<e.length;n++){var t=e[n];this.loadPrefab(g[t])}},s.loadPrefab=function(n){var e=this;l.load("prefabs/screens/"+n,(function(n,t){t&&e.prefabs.push(t)}))},s.getPrefab=function(n){return this.prefabs.find((function(e){return e.data.name==n}))},s.GetScreen=function(n){var e,t=this.screens.find((function(e){return e.name==n}));if(t)return t;var i=this.getPrefab(n);return i?(null==(e=(t=h(i)).getComponent(m))||e.hide(),t.name=n,t.setParent(this.container),this.screens.push(t),t):null},s.back=function(){var n;if(this.stack.length<=1)this.quitGame();else{var e=this.stack.pop().getComponent(m);null==e||e.onBack(),null==e||e.hide(),null==(n=this.stack[this.stack.length-1].getComponent(m))||n.show()}},s.setListenDeviceBackBtn=function(n){this.isOnListeningBackKey=n},s.onBackDevicePress=function(n){var e;!this.isOnListeningBackKey||"onBackPress"!=(null==n?void 0:n.data)&&"onBackPress"!=(null==n||null==(e=n.detail)?void 0:e.data)||b.instance.isShow()||this.back()},s.OnKeyDown=function(n){switch(n.keyCode){case p.ESCAPE:var e=new CustomEvent("message",{bubbles:!0,detail:{data:"onBackPress"}});window.dispatchEvent(e)}},s.quitGame=function(){v.request("quitGame")},e}(d)).instance=null,C=e((S=E).prototype,"container",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(S.prototype,"screens",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(S.prototype,"prefabs",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=S))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpineRemote.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,a,i,o,s,l,u,c,p,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,u=e._decorator,c=e.sp,p=e.assetManager,f=e.Texture2D,m=e.Component}],execute:function(){var g,h,d,k,b,y,v,x,S,w,D;l._RF.push({},"ff50e7YUK9LFa+1yRHA5AVJ","SpineRemote",void 0);var R=u.ccclass,z=u.property;e("SpineRemote",(g=R("SpineRemote"),h=z(String),d=z(String),k=z(String),b=z(String),g((x=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"images",x,a(t)),r(t,"ske",S,a(t)),r(t,"atlas",w,a(t)),r(t,"animDefault",D,a(t)),t.skeleton=void 0,t}n(t,e);var l=t.prototype;return l.start=function(){this.skeleton=this.getComponent(c.Skeleton)||this.addComponent(c.Skeleton),this.load()},l.update=function(e){},l.load=function(){var e=i(o().mark((function e(){var t,n,r,a,i,l,u=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=[],r=s(this.images);case 3:if((a=r()).done){e.next=12;break}return i=a.value,e.next=7,this.loadImg(i);case 7:l=e.sent,t.push(l),n.push(i.split("/").pop());case 10:e.next=3;break;case 12:return e.abrupt("return",new Promise((function(e,r){p.loadAny([{url:u.atlas,ext:".txt"},{url:u.ske,ext:".txt"}],(function(r,a){var i=new c.SkeletonData;i.skeletonJson=a[1],i.atlasText=a[0],i.textures=t,i.textureNames=n,u.skeleton.skeletonData=i,u.skeleton.animation=u.animDefault,e(u.skeleton)}))})));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.loadImg=function(e){return new Promise((function(t,n){p.loadRemote(e,(function(e,n){if(e)t(null);else{var r=new f;r.image=n,t(r)}}))}))},t}(m)).prototype,"images",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(v.prototype,"ske",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(v.prototype,"atlas",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(v.prototype,"animDefault",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),y=v))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/TrimBase64.ts",["cc"],(function(t){"use strict";var e,a;return{setters:[function(t){e=t.cclegacy,a=t._decorator}],execute:function(){var n;e._RF.push({},"9ec58QKtIZA8IXWjqzQ4DKQ","TrimBase64",void 0);var r=a.ccclass;a.property,t("TrimBase64",r("TrimBase64")(n=function(){function t(){}return t.trimCanvas=function(t){var e,a,n,r=t.getContext("2d"),o=document.createElement("canvas").getContext("2d"),l=r.getImageData(0,0,t.width,t.height),i=l.data.length,c={top:null,left:null,right:null,bottom:null};for(e=0;e<i;e+=4)0!==l.data[e+3]&&(a=e/4%t.width,n=~~(e/4/t.width),null===c.top&&(c.top=n),(null===c.left||a<c.left)&&(c.left=a),(null===c.right||c.right<a)&&(c.right=a),(null===c.bottom||c.bottom<n)&&(c.bottom=n));var u=c.bottom-c.top+1,s=c.right-c.left+1,g=r.getImageData(c.left,c.top,s,u);return o.canvas.width=s,o.canvas.height=u,o.putImageData(g,0,0),o.canvas},t}())||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,r,o,i,u,a,c;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,r=t.ParticleSystem,o=t.UITransform,i=t.Sprite,u=t.Quat,a=t.Vec3,c=t.math}],execute:function(){e._RF.push({},"10e5ec48SRIkIMCKunjzFih","Utils",void 0);t("utils",new(function(){function t(){this.getAngleFrom2Vec=function(t,n){var e=Math.atan2(n.y-t.y,n.x-t.x);return e<0&&(e=2*Math.PI+e),180*e/Math.PI}}var e=t.prototype;return e.PlayParticle=function(t){t.play(),t.getComponentsInChildren(r).forEach((function(t){t.play()}))},e.StopParticle=function(t){t.stop(),t.getComponentsInChildren(r).forEach((function(t){t.stop()}))},e.toLocalString=function(t){return(t=Math.round(t)).toLocaleString().replace(/","/g,".")},e.formatScore=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},e.cloneObject=function(t){for(var n=Object.keys(t),e=Object.create(null),r=0,o=n.length;r<o;r++)e[n[r]]=t[n[r]];return e},e.setSpriteFrame=function(t,n){var e=t.node.getComponent(o).contentSize;t.spriteFrame.texture=n,t.sizeMode=i.SizeMode.RAW,t.node.getComponent(o).setContentSize(e)},e.getTime=function(t){var n=function(t){return t<10?"0"+t:t};return n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())},e.getDateTimeVN=function(t){var n=function(t){return t<10?"0"+t:t};return""+[n(t.getDate()),n(t.getMonth()+1),t.getFullYear()].join("/")},e.destroyAllChild=function(t){t.children.forEach((function(t){t.destroy()})),t.removeAllChildren()},e.truncate=function(t,n){var e=t.split(" ");return e.length>n?e.splice(0,n).join(" ")+"...":t},e.rotationAroundNode=function(t,n,e,r){var o=new u,i=new a,s=new a,l=t.position,f=c.toRadian(r);return u.fromAxisAngle(o,e,f),a.subtract(i,l,n),a.transformQuat(s,i,o),t.position=a.add(s,n,s),u.rotateAround(o,t.rotation,e,f),o},e.isiOS=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},e.isAndroid=function(){return/Android/i.test(navigator.userAgent)},e.isMobile=function(){return this.isAndroid()||this.isiOS()},n(t,[{key:"uuid",get:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==n?e:3&e|8).toString(16)}))}}]),t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/Wheel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./GameEvent.ts","./define.ts","./ItemMgr.ts"],(function(t){"use strict";var e,n,a,i,r,s,o,l,c,u,g,S,h,I,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,o=t.tween,l=t.math,c=t.Vec3,u=t.Component},function(t){g=t.SoundEvent},function(t){S=t.default},function(t){h=t.define,I=t.SoundName,f=t.EventName},function(t){p=t.ItemMgr}],execute:function(){var d,m,T,N,R;r._RF.push({},"0101eS9ZFJKerPPXSgK1DDS","Wheel",void 0);var P,A=s.ccclass,D=s.property;!function(t){t[t.IDLE=0]="IDLE",t[t.START=1]="START",t[t.SPINING=2]="SPINING",t[t.STOP=3]="STOP",t[t.FINISH=4]="FINISH"}(P||(P={}));t("Wheel",(d=A("Wheel"),m=D(p),d((R=e((N=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"itemMgr",R,i(e)),e.state=P.IDLE,e.target=-1,e.angle=0,e.targetAngle=0,e.angleStep=0,e.angleSound=0,e}n(e,t);var r=e.prototype;return r.start=function(){this.SetState(P.IDLE),this.angleStep=360/h.NUMBER_SLOT},r.update=function(t){switch(this.state){case P.IDLE:case P.START:break;case P.SPINING:this.Roatate(t),this.angle-this.angleSound>=this.angleStep&&(this.angleSound=this.angle,S.emit(g.PLAY_SOUND,I.Click));break;case P.STOP:}},r.SetState=function(t){var e=this;switch(this.state=t,t){case P.IDLE:break;case P.START:this.CaculatetFinishAngle(),o({angle:this.angle}).to(l.randomRangeInt(10,20),{angle:this.targetAngle},{onUpdate:function(t,n){e.angle=t.angle},easing:"quartOut"}).call((function(){e.SetState(P.STOP)})).start(),S.emit(f.OnSpinStart),this.SetState(P.SPINING);break;case P.SPINING:break;case P.STOP:S.emit(f.OnSpinFinish);break;case P.FINISH:}},r.Init=function(){this.SetState(P.IDLE)},r.OnSpin=function(){this.CheckResult(),this.SetState(P.START)},r.CheckResult=function(){this.target=l.randomRangeInt(0,h.NUMBER_SLOT),console.log("Target index: "+this.target)},r.Roatate=function(t){this.node.setRotationFromEuler(new c(0,0,-this.angle))},r.CaculatetFinishAngle=function(){var t=this.angle/360,e=360-(this.angleStep*(this.target+1)-l.randomRange(.2,.8)*this.angleStep),n=360*(Math.floor(t)-t)+360*l.randomRangeInt(5,10);this.targetAngle=this.angle+e+n},r.GetCurrentItem=function(){return this.itemMgr.GetItem(this.target)},e}(u)).prototype,"itemMgr",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=N))||T));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});