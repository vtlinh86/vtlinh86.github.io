System.register("chunks:///_virtual/Api.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"287cfCs3f5LR5GRuZWvk73u","Api",void 0);e("api",new(function(){function e(){}var n=e.prototype;return n.postScore=function(){var e=r(t().mark((function e(r){var n,o,s,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.score,o=r.userId,s=r.maxLevel,a=r.waterDrops,fetch("https://water.mynilead.com/wp-json/game/v1/update-score/?user_id="+o+"&game_score="+(null!=n?n:0)+"&game_level="+s+"&game_water_drop="+a,{method:"POST",headers:{"Content-Type":"application/json",JWT_AUTH_SECRET_KEY:"E9@r?l-kJn5rUy~#B)Y{%uoN+a=JTQrh|+<hMyK.(TEV=&|3YCrH-KD_7nhDM3{l"}}).then((function(e){if(!e.ok)throw new Error("Network response was not ok: "+e.status+" "+e.statusText);return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.error("Error fetching data: "+e)}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),n.getAllUsersInfo=function(){var e=r(t().mark((function e(){var r,n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://water.mynilead.com/wp-json/game/v1/list-users",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if((r=e.sent).ok){e.next=7;break}return console.error("Network response was not ok: "+r.status+" "+r.statusText),e.abrupt("return",null);case 7:return e.next=9,r.json();case 9:return n=e.sent,e.abrupt("return",null!=n?n:[]);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error fetching data: "+e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),n.getLeaderboard=function(){var e=r(t().mark((function e(r){var n,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://water.mynilead.com/wp-json/game/v1/list-users?game_score="+r,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if((n=e.sent).ok){e.next=7;break}return console.error("Network response was not ok: "+n.status+" "+n.statusText),e.abrupt("return",null);case 7:return e.next=9,n.json();case 9:return o=e.sent,e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error fetching data: "+e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r){return e.apply(this,arguments)}}(),e}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/ApiMock.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"3cdcee5JLFMzZudAtdgVngt","ApiMock",void 0);e("apiMock",{getLeaderboard:[{user_id:8,name:"test-user-5",game_score:"56",game_last_updated:"2024-03-26 02:45:29",game_level:"3",game_water_drop:"25"},{user_id:2,name:"Lien Ha",game_score:"5",game_last_updated:"2024-03-28 00:37:14",game_level:"",game_water_drop:""},{user_id:5,name:"test-user-3",game_score:"43",game_last_updated:"2024-03-07 08:57:18",game_level:"",game_water_drop:""},{user_id:1,name:"nilead_dev",game_score:"2134",game_last_updated:"2024-03-05 04:46:58",game_level:"",game_water_drop:""},{user_id:3,name:"test-user",game_score:"2",game_last_updated:"2024-02-29 14:34:25",game_level:"",game_water_drop:""},{user_id:4,name:"test-user-2",game_score:"104",game_last_updated:"2024-03-07 08:56:54",game_level:"",game_water_drop:""}]});a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,i,u,t,s,n,r,a;return{setters:[function(o){e=o.createClass},function(o){i=o.cclegacy,u=o._decorator,t=o.AudioClip,s=o.resources,n=o.Node,r=o.director,a=o.AudioSource}],execute:function(){i._RF.push({},"e26872y7ypKPpXQXu0mfb2z","AudioMgr",void 0);u.ccclass,u.property,o("AudioDefine",{menuBGM:"sfx/Menu_BGM_1",mazeCollectWaterDrop:"sfx/Maze_CollectWaterDrop",mazeCollectKnowledgePiece:"sfx/Maze_CollectKnowledgePiece_1",mazeHitMonster:"sfx/Maze_HitMonster",mazeBGM:"sfx/Maze_BGM_1",losePopupSfx:"sfx/lose_popup_sfx",winTheGame:"sfx/WinTheGame",tapButton:"sfx/TapButton",tapBack:"sfx/TapBack",quizBGM:"sfx/Quiz_BGM_2",quizStart:"sfx/Quiz_StartGame",quizSkim:"sfx/Quiz_UsingBooster_50-50",quizSkip:"sfx/Quiz_UsingBooster_Change",quizShield:"sfx/Quiz_UsingBooster_50-50",quizEnemyHit:"sfx/Monster_Hit",quizMCHit:"sfx/User_Hit",quizCorrectAns:"sfx/CorrectAnswer_2",quizWrongAns:"sfx/WrongAnswer_1"});o("AudioMgr",function(){function o(){this._audioSource=void 0;var o=new n;o.name="__audioMgr__",r.getScene().addChild(o),r.addPersistRootNode(o),this._audioSource=o.addComponent(a)}var i=o.prototype;return i.playOneShot=function(o,e){var i=this;void 0===e&&(e=1),o instanceof t?this._audioSource.playOneShot(o,e):s.load(o,(function(o,u){o?console.log(o):i._audioSource.playOneShot(u,e)}))},i.play=function(o,e){var i=this;void 0===e&&(e=.5),o instanceof t?(this._audioSource.clip=o,this._audioSource.play(),this.audioSource.volume=e,this.audioSource.loop=!0):s.load(o,(function(o,u){o?console.log(o):(i._audioSource.clip=u,i._audioSource.play(),i.audioSource.volume=e,i.audioSource.loop=!0)}))},i.stop=function(){this._audioSource.stop(),this._audioSource.clip=null},i.pause=function(){this._audioSource.pause()},i.resume=function(){this._audioSource.play()},e(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define2.ts","./LevelDefine.ts"],(function(t){var e,n,o,i,s,c,r,a,u,p,l;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,i=t._decorator,s=t.Collider2D,c=t.Vec2,r=t.Component},function(t){a=t.ObjectLayer,u=t.MapSize,p=t.CellSize},function(t){l=t.ObjectType}],execute:function(){var h;o._RF.push({},"bc9f7Ex2W1E/oQl+8n8c9X3","BaseObject",void 0);var f=i.ccclass;i.property,t("BaseObject",f("BaseObject")(h=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).objectType=l.null,e.objectLayer=a.null,e._mapPosition=new c,e}e(o,t);var i=o.prototype;return i.start=function(){var t=this.node.getComponent(s);t&&(t.tag=this.objectType)},i.pause=function(){},i.resume=function(){},n(o,[{key:"mapPosition",get:function(){return this._mapPosition},set:function(t){this._mapPosition.x=t.x,this._mapPosition.y=t.y;var e=this.node.getPosition();e.x=(this._mapPosition.x-(u.width-1)/2)*p,e.y=-(this._mapPosition.y-(u.height-1)/2)*p,this.node.setPosition(e)}}]),o}(r))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonAnswer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,i,o,s,a,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Node,c=t.Label,l=t.Button,u=t.Component}],execute:function(){var p,f,h,b,g,v,y,w,d;o._RF.push({},"36ba1NWDM9KEq6kDGrZOYtx","ButtonAnswer",void 0);var A=s.ccclass,C=s.property;t("ButtonAnswer",(p=A("ButtonAnswer"),f=C(a),h=C(a),b=C(c),p((y=e((v=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"spriteCorrect",y,i(e)),n(e,"spriteWrong",w,i(e)),n(e,"labelAns",d,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.resetButton=function(t){this.node.off(l.EventType.CLICK),this.spriteCorrect.active=!1,this.spriteWrong.active=!1,this.labelAns.string=t,this.node.active=!0},o.showCorrect=function(){this.spriteCorrect.active=!0},o.showWrong=function(){this.spriteWrong.active=!0},e}(u)).prototype,"spriteCorrect",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"spriteWrong",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(v.prototype,"labelAns",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonBooster.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,i,l,a,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Label,u=t.Button,s=t.Component}],execute:function(){var c,p,b,f,B,h,y,g,d;i._RF.push({},"d26090zwZhOpb7FpguKlKn/","ButtonBooster",void 0);var v=l.ccclass,z=l.property;t("ButtonBooster",(c=v("ButtonBooster"),p=z(a),b=z(a),f=z(u),c((y=e((h=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,o(e,"labelCost",y,r(e)),o(e,"labelUses",g,r(e)),o(e,"button",d,r(e)),e}n(e,t);var i=e.prototype;return i.onLoad=function(){},i.start=function(){},i.update=function(t){},i.setButtonCost=function(t){this.labelCost.string=t},i.updateButton=function(t,e){this.labelUses.string=t,this.button.interactable=e},e}(s)).prototype,"labelCost",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(h.prototype,"labelUses",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(h.prototype,"button",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=h))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonHint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){var t,n,i,o,a,r,c,u,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Node,u=e.Component},function(e){l=e.eventManager,s=e.EventName}],execute:function(){var p,h,f,v,b,m,g,y,z,B,d,H,P;a._RF.push({},"7e3fegPRB9MHKcw5kOyaZBl","ButtonHint",void 0);var w=r.ccclass,M=r.property,k=e("ButtonHintState",function(e){return e[e.None=0]="None",e[e.Story=1]="Story",e[e.MazeGame=2]="MazeGame",e[e.MazeGameKnowledgePiecePopup=3]="MazeGameKnowledgePiecePopup",e[e.QuizGame=4]="QuizGame",e}({}));e("ButtonHint",(p=w("ButtonHint"),h=M(c),f=M(c),v=M(c),b=M(c),m=M(c),p((z=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"container",z,o(t)),i(t,"nextDialogue",B,o(t)),i(t,"move",d,o(t)),i(t,"click",H,o(t)),i(t,"closePopup",P,o(t)),t}n(t,e);var a=t.prototype;return a.onEnable=function(){l.on(s.onButtonHint,this.onButtonHint,this),this.onButtonHint(k.None)},a.onDisable=function(){l.off(s.onButtonHint,this.onButtonHint,this)},a.onButtonHint=function(e){switch(e){case k.None:this.container.active=!1;break;case k.Story:this.container.active=!0,this.container.children.forEach((function(e){return e.active=!1})),this.nextDialogue.active=!0;break;case k.MazeGame:this.container.active=!0,this.container.children.forEach((function(e){return e.active=!1})),this.move.active=!0;break;case k.MazeGameKnowledgePiecePopup:this.container.active=!0,this.container.children.forEach((function(e){return e.active=!1})),this.closePopup.active=!0;break;case k.QuizGame:this.container.active=!0,this.container.children.forEach((function(e){return e.active=!1})),this.click.active=!0}},t}(u)).prototype,"container",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(y.prototype,"nextDialogue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(y.prototype,"move",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(y.prototype,"click",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(y.prototype,"closePopup",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/CategoryButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Api.ts","./EventManager.ts"],(function(e){var t,r,i,n,o,a,s,c,u,p,h,l,d,f,y,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.CCInteger,p=e.Sprite,h=e.SpriteFrame,l=e.Button,d=e.Component},function(e){f=e.api},function(e){y=e.eventManager,g=e.EventName}],execute:function(){var b,m,v,C,L,F,w,B,S;s._RF.push({},"abe8cNglDBFDYLwiDRi2eyB","CategoryButton",void 0);var k=c.ccclass,D=c.property,R=(e("CategoryButton",(b=k("CategoryButton"),m=D(u),v=D(p),C=D({type:[h]}),b((w=t((F=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"score",w,n(t)),i(t,"sprite",B,n(t)),i(t,"spriteFrames",S,n(t)),t.isReady=!0,t.isHighlighted=!1,t}r(t,e);var s=t.prototype;return s.onEnable=function(){this.node.on(l.EventType.CLICK,this.onClick,this),y.on(g.onLeaderboardScore,this.onLeaderboardScore,this)},s.onDisable=function(){this.node.off(l.EventType.CLICK,this.onClick,this),y.off(g.onLeaderboardScore,this.onLeaderboardScore,this)},s.onClick=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isReady&&!this.isHighlighted){e.next=2;break}return e.abrupt("return");case 2:return this.isReady=!1,e.next=5,R(this.score);case 5:this.isReady=!0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onLeaderboardScore=function(e){e===this.score?(this.isHighlighted=!0,this.sprite.spriteFrame=this.spriteFrames[0]):(this.isHighlighted=!1,this.sprite.spriteFrame=this.spriteFrames[1])},t}(d)).prototype,"score",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(F.prototype,"sprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(F.prototype,"spriteFrames",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=F))||L)),e("onClickCategoryButton",function(){var e=o(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.emit(g.onLeaderboardScore,t),e.next=3,f.getLeaderboard(t);case 3:r=e.sent,y.emit(g.onLeaderboardData,{score:t,data:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));s._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(t){var i,e,r,a,n,o,s,l,p,u,c,h,g,d,b,f,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.Sprite,l=t.Label,p=t.Vec3,u=t.tween,c=t.Color,h=t.resources,g=t.SpriteFrame,d=t.UITransform,b=t.Component},function(t){f=t.AudioMgr,m=t.AudioDefine}],execute:function(){var C,y,k,H,S,v,z,A,D,w,P,F,M,_,I;n._RF.push({},"7219b4qSrVF5Ixs0WlixDs7","Character",void 0);var x=o.ccclass,q=o.property;t("Character",(C=x("Character"),y=q(s),k=q(l),H=q(l),S=q(l),v=q(s),z=q(l),C((w=i((D=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,r(i,"spriteChar",w,a(i)),r(i,"labelCharName",P,a(i)),i.originalHp=0,i.hp=0,r(i,"labelHp",F,a(i)),i.originalAtk=0,i.atk=0,r(i,"labelAtk",M,a(i)),r(i,"spriteHit",_,a(i)),r(i,"labelHitDmg",I,a(i)),i.dirMultiplier=-1,i}e(i,t);var n=i.prototype;return n.start=function(){},n.update=function(t){},n.updateDisplay=function(){this.labelHp.string=this.hp.toString(),this.labelAtk.string=this.atk.toString()},n.animateAttack=function(t,i,e){var r=this;this.node.setSiblingIndex(1);var a=this.node.getPosition(),n=this.node.getPosition().add(new p(300*this.dirMultiplier,0,0));u(this.node).to(.6,{position:n},{easing:"backIn"}).call((function(){r.playHitAudio(),t.takeDamage(r.atk)})).to(.8,{position:a}).delay(1.6).call((function(){e.apply(i)})).start()},n.takeDamage=function(t){this.hp-=t,this.updateDisplay(),this.spriteHit.node.position=this.node.getPosition(),this.labelHitDmg.string="-"+t.toString();var i=this.node.getPosition(),e=this.node.getPosition().add(new p(20*-this.dirMultiplier,0,0));u(this.node).to(.2,{position:e},{easing:"backOut"}).to(.2,{position:i}).start();var r=this.spriteHit,a=new c(255,255,255,255);r.color=a,u(a).delay(.5).to(1,{r:255,g:255,b:255,a:0},{onUpdate:function(t){r.color=t}}).start()},n.playHitAudio=function(){f.inst.playOneShot(m.quizEnemyHit)},n.resetStats=function(){this.hp=this.originalHp,this.atk=this.originalAtk,this.updateDisplay()},n.setCharSprite=function(t){var i=this,e="sprites/quizGame/Card_Boss_lv"+t.toString()+"/spriteFrame";h.load(e,g,(function(e,r){switch(t){case 0:i.spriteChar.getComponent(d).setContentSize(843/2.9,1002/2.9);break;case 1:i.spriteChar.node.position=i.spriteChar.node.getPosition().add3f(7,0,0),i.spriteChar.getComponent(d).setContentSize(881/2.9,1003/2.9);break;case 2:i.spriteChar.getComponent(d).setContentSize(843/2.9,1002/2.9)}i.spriteChar.spriteFrame=r}))},n.setUpChar=function(t,i,e){this.labelCharName.string=t,this.originalHp=i,this.originalAtk=e},i}(b)).prototype,"spriteChar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(D.prototype,"labelCharName",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(D.prototype,"labelHp",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(D.prototype,"labelAtk",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(D.prototype,"spriteHit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(D.prototype,"labelHitDmg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=D))||A));n._RF.pop()}}}));

System.register("chunks:///_virtual/CheatController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./mazeGame.ts","./QuizManager.ts","./UserProfile.ts"],(function(e){var t,n,i,o,a,r,s,u,l,h,c,p,C,b,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.CCString,u=e.Node,l=e.Button,h=e.input,c=e.Input,p=e.KeyCode,C=e.Component},function(e){b=e.mazeGame},function(e){f=e.QuizManager},function(e){y=e.userProfile}],execute:function(){var g,z,L,m,v,d,I,D,K,w,E,T,M,q,B,P,S,W,k,_,x,G,X;a._RF.push({},"d9c5cQ+rjVHKL/XPdpFp6f9","CheatController",void 0);var A=r.ccclass,F=r.property;e("CheatController",(g=A("CheatController"),z=F(s),L=F(s),m=F(b),v=F(f),d=F(u),I=F(l),D=F(l),K=F(l),w=F(l),E=F(l),g((q=t((M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"cheatCode",q,o(t)),i(t,"inputString",B,o(t)),i(t,"maze",P,o(t)),i(t,"quizManager",S,o(t)),i(t,"cheatPanel",W,o(t)),i(t,"buttonClose",k,o(t)),i(t,"buttonWin",_,o(t)),i(t,"buttonLose",x,o(t)),i(t,"buttonDrops",G,o(t)),i(t,"buttonBoosters",X,o(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){h.on(c.EventType.KEY_DOWN,this.onKeyDown,this)},a.onEnable=function(){this.buttonClose.node.on(l.EventType.CLICK,this.onClose,this),this.buttonWin.node.on(l.EventType.CLICK,this.onCheatWin,this),this.buttonLose.node.on(l.EventType.CLICK,this.onCheatLose,this),this.buttonDrops.node.on(l.EventType.CLICK,this.onCheatDrops,this),this.buttonBoosters.node.on(l.EventType.CLICK,this.onCheatBoosters,this)},a.onDisable=function(){this.buttonClose.node.off(l.EventType.CLICK,this.onClose,this),this.buttonWin.node.off(l.EventType.CLICK,this.onCheatWin,this),this.buttonLose.node.off(l.EventType.CLICK,this.onCheatLose,this),this.buttonDrops.node.off(l.EventType.CLICK,this.onCheatDrops,this),this.buttonBoosters.node.off(l.EventType.CLICK,this.onCheatBoosters,this)},a.start=function(){this.resetCheatInput()},a.update=function(e){},a.resetCheatInput=function(){this.inputString=""},a.onKeyDown=function(e){switch(e.keyCode){case p.KEY_X:this.inputString+=String.fromCharCode(e.keyCode);break;case p.BACKSPACE:this.resetCheatInput();break;case p.DIGIT_1:this.setLevel(1);break;case p.DIGIT_2:this.setLevel(2);break;case p.DIGIT_3:this.setLevel(3)}this.inputString==this.cheatCode&&(this.cheatPanel.active=!0)},a.onClose=function(){this.cheatPanel.active=!1},a.onCheatWin=function(){this.maze&&this.maze.cheatWin(),this.quizManager&&this.quizManager.endGameWin()},a.onCheatLose=function(){this.maze&&this.maze.cheatLose(),this.quizManager&&this.quizManager.showPopupLose()},a.onCheatDrops=function(){this.quizManager&&this.quizManager.cheatDrops(100)},a.onCheatBoosters=function(){this.quizManager&&(this.quizManager.resetBoostersUses(),this.quizManager.updateDropsDisplay())},a.setLevel=function(e){switch(e){case 1:if(e<y.maxLevel)return;y.maxLevel=0;break;case 2:if(e<y.maxLevel)return;y.maxLevel=2,y.storyCompleteStatus.scene5=!0;break;case 3:if(e<y.maxLevel)return;y.maxLevel=4,y.storyCompleteStatus.scene8=!0}},t}(C)).prototype,"cheatCode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"X2024X"}}),B=t(M.prototype,"inputString",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=t(M.prototype,"maze",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(M.prototype,"quizManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(M.prototype,"cheatPanel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(M.prototype,"buttonClose",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(M.prototype,"buttonWin",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(M.prototype,"buttonLose",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(M.prototype,"buttonDrops",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(M.prototype,"buttonBoosters",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=M))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"4365egJ4KZCgYXupu7emtpj","Define",void 0);e("SceneName",{Start:"start",Home:"home"});t._RF.pop()}}}));

System.register("chunks:///_virtual/Define2.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"b2c5cmvK61FxYM97QaI6Yms","Define",void 0);e("CellSize",32),e("Direction",function(e){return e.Null="null",e.Up="up",e.Down="down",e.Left="left",e.Right="right",e}({})),e("PlayerSpeed",5),e("MapSize",{width:29,height:21}),e("ObjectLayer",function(e){return e[e.null=0]="null",e[e.waterDrop=1]="waterDrop",e[e.knowledgePiece=1]="knowledgePiece",e[e.enemy=2]="enemy",e[e.player=2]="player",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./LevelDefine.ts","./Define2.ts"],(function(t){var e,i,s,a,n,o,r,c,h,u,p,l,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,r=t.Animation,c=t.Tween,h=t.Vec2,u=t.tween,p=t.clamp},function(t){l=t.BaseObject},function(t){f=t.ObjectType},function(t){m=t.ObjectLayer}],execute:function(){var v,g,d,y,S;n._RF.push({},"83d59kCmXpPdbXAUvz2ttBo","Enemy",void 0);var b=o.ccclass,P=o.property,M=function(t){return t[t.Null=0]="Null",t[t.Inactive=1]="Inactive",t[t.Start=2]="Start",t[t.Moving=3]="Moving",t[t.Pausing=4]="Pausing",t}(M||{});t("Enemy",(v=b("Enemy"),g=P(r),v((S=e((y=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,s(e,"animation",S,a(e)),e.objectType=f.enemy,e.objectLayer=m.enemy,e.path=[],e.speed=1,e.pathIndex=0,e.state=M.Inactive,e.resumeState=M.Inactive,e}i(e,t);var n=e.prototype;return n.start=function(){t.prototype.start.call(this)},n.setState=function(t){var e,i=this;switch(this.state){case M.Moving:c.stopAllByTarget(this.mapPosition)}switch(this.state=t,this.state){case M.Start:break;case M.Moving:if((null==(e=this.path)?void 0:e.length)<=0)break;var s=this.path[this.pathIndex%this.path.length];if(h.equals(this.mapPosition,s)){this.pathIndex++,this.setState(M.Moving);break}var a=h.distance(this.mapPosition,s)/this.speed;u(this.mapPosition).to(a,s,{onUpdate:function(t){switch(i.state){case M.Moving:i.mapPosition=t}},onComplete:function(){switch(i.state){case M.Moving:i.pathIndex++,i.setState(M.Moving)}}}).start()}},n.update=function(t){switch(this.state){case M.Start:this.setState(M.Moving)}},n.pause=function(){switch(this.state!==M.Pausing&&(this.resumeState=this.state),this.state){case M.Moving:c.stopAllByTarget(this.mapPosition),this.state=M.Pausing;break;default:this.state=M.Pausing}},n.resume=function(){switch(this.resumeState){case M.Moving:this.setState(this.resumeState);break;default:this.state=this.resumeState}},n.setupInfo=function(t,e,i){this.animation.defaultClip=this.animation.clips[p(t,0,this.animation.clips.length-1)],this.speed=null!=e?e:1,this.path=i,this.pathIndex=0,null!=i&&i[0]&&(this.mapPosition=i[0])},n.setStateStart=function(){this.setState(M.Start)},e}(l)).prototype,"animation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(e){var n,o;return{setters:[function(e){n=e.cclegacy,o=e.EventTarget}],execute:function(){n._RF.push({},"3d9bfiEvQtLYIWOdyact5bC","EventManager",void 0);e("eventManager",new o),e("EventName",function(e){return e[e.onWaterDropChange=0]="onWaterDropChange",e[e.onPlayerMaxHealthChange=1]="onPlayerMaxHealthChange",e[e.onPlayerCurrentHealthChange=2]="onPlayerCurrentHealthChange",e[e.onKnowledgePieceMaxChange=3]="onKnowledgePieceMaxChange",e[e.onKnowledgePieceChange=4]="onKnowledgePieceChange",e[e.onMazeGameLose=5]="onMazeGameLose",e[e.onShowHandOnLevel=6]="onShowHandOnLevel",e[e.onShowKnowledgePopup=7]="onShowKnowledgePopup",e[e.onHideKnowledgePopup=8]="onHideKnowledgePopup",e[e.changeKnowledgePieceIndicatorVisible=9]="changeKnowledgePieceIndicatorVisible",e[e.changeLoadingVisible=10]="changeLoadingVisible",e[e.onClickButtonOnExitConfirmPopup=11]="onClickButtonOnExitConfirmPopup",e[e.onClickButtonOnPausePopup=12]="onClickButtonOnPausePopup",e[e.onButtonHint=13]="onButtonHint",e[e.onLeaderboardScore=14]="onLeaderboardScore",e[e.onLeaderboardData=15]="onLeaderboardData",e}({})),e("EventParam",function(e){return e[e.okButton=0]="okButton",e[e.cancleButton=1]="cancleButton",e[e.continueButton=2]="continueButton",e[e.replayButton=3]="replayButton",e[e.menuButton=4]="menuButton",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/ExitConfirmPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){var n,o,i,e,r,c,u,l,a,p,s,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,u=t.Node,l=t.Button,a=t.Component},function(t){p=t.eventManager,s=t.EventName,f=t.EventParam}],execute:function(){var C,h,k,B,v,E,m;r._RF.push({},"89629zFMUBNO7ZbBH3ExqV3","ExitConfirmPopup",void 0);var y=c.ccclass,b=c.property;t("ExitConfirmPopup",(C=y("ExitConfirmPopup"),h=b(u),k=b(u),C((E=n((v=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,i(n,"okButton",E,e(n)),i(n,"cancleButton",m,e(n)),n}o(n,t);var r=n.prototype;return r.onEnable=function(){this.okButton.on(l.EventType.CLICK,this.onClickOk,this),this.cancleButton.on(l.EventType.CLICK,this.onClickCancle,this)},r.onDisable=function(){this.okButton.off(l.EventType.CLICK,this.onClickOk,this),this.cancleButton.off(l.EventType.CLICK,this.onClickCancle,this)},r.onClickOk=function(){p.emit(s.onClickButtonOnExitConfirmPopup,f.okButton)},r.onClickCancle=function(){p.emit(s.onClickButtonOnExitConfirmPopup,f.cancleButton)},n}(a)).prototype,"okButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(v.prototype,"cancleButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=v))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./Story.ts","./AudioMgr.ts"],(function(t){var e,s,o,r,n,a,c,i,u,y,l,S,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.director,i=t.Component},function(t){u=t.userProfile},function(t){y=t.Story,l=t.State},function(t){S=t.AudioMgr,p=t.AudioDefine}],execute:function(){var h,f,m,v,d;n._RF.push({},"1c7c2Up1MFIiYxpW0poHpCv","home",void 0);var _=a.ccclass,b=a.property;t("home",(h=_("home"),f=b(y),h((d=e((v=function(t){function e(){for(var e,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"story",d,r(e)),e}s(e,t);var n=e.prototype;return n.onLoad=function(){c.preloadScene("mazeGame"),c.preloadScene("quizGame")},n.onEnable=function(){S.inst.play(p.menuBGM)},n.onDisable=function(){S.inst.stop()},n.start=function(){this.checkToShowStory()},n.update=function(t){},n.checkToShowStory=function(){switch(u.maxLevel){case 0:u.storyCompleteStatus.scene1?this.story.setStateInactive():this.story.startScene1();break;case 1:u.storyCompleteStatus.scene3?this.story.setStateInactive():this.story.startScene3();break;case 2:u.storyCompleteStatus.scene5?this.story.setStateInactive():this.story.startScene(l.Scene_5_14A);break;case 3:u.storyCompleteStatus.scene6?this.story.setStateInactive():this.story.startScene(l.Scene_6_15A);break;case 4:u.storyCompleteStatus.scene8?this.story.setStateInactive():this.story.startScene(l.Scene_8_17A);break;case 5:u.storyCompleteStatus.scene9?this.story.setStateInactive():this.story.startScene(l.Scene_9_18A);break;case 6:u.storyCompleteStatus.scene11?this.story.setStateInactive():this.story.startScene(l.Scene_11_20A);break;default:this.story.setStateInactive()}},e}(i)).prototype,"story",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/KnowledgePiece.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./LevelDefine.ts","./EventManager.ts","./UserProfile.ts","./Define2.ts"],(function(e){var i,t,n,c,o,r,a,s,l,u,d,f,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Node},function(e){s=e.BaseObject},function(e){l=e.ObjectType},function(e){u=e.eventManager,d=e.EventName},function(e){f=e.userProfile},function(e){g=e.ObjectLayer}],execute:function(){var p,h,b,v,y;o._RF.push({},"a627bjv4Z1Fd4JDY15Q3it5","KnowledgePiece",void 0);var P=r.ccclass,w=r.property;e("KnowledgePiece",(p=P("KnowledgePiece"),h=w(a),p((y=i((v=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,n(i,"indicator",y,c(i)),i.objectType=l.knowledgePiece,i.objectLayer=g.knowledgePiece,i.content="",i}t(i,e);var o=i.prototype;return o.onEnable=function(){f.mazeGameSection.knowledgePiecesMax++,this.indicator.active=!1,u.on(d.changeKnowledgePieceIndicatorVisible,this.changeIndicatorVisible,this)},o.onDisable=function(){u.off(d.changeKnowledgePieceIndicatorVisible,this.changeIndicatorVisible,this)},o.start=function(){e.prototype.start.call(this)},o.changeIndicatorVisible=function(e){this.indicator.active=!!e},i}(s)).prototype,"indicator",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/KnowledgePiecePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./ButtonHint.ts"],(function(t){var e,n,o,i,c,a,u,s,r,l,p,h,f,d,v,y,B,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){c=t.cclegacy,a=t._decorator,u=t.Node,s=t.Button,r=t.input,l=t.Input,p=t.tween,h=t.Vec3,f=t.Tween,d=t.KeyCode,v=t.Component},function(t){y=t.eventManager,B=t.EventName},function(t){C=t.ButtonHintState}],execute:function(){var g,K,m,w,P;c._RF.push({},"2b6beKhF4hKu668FL7Hl5UU","KnowledgePiecePopup",void 0);var E=a.ccclass,T=a.property;t("KnowledgePiecePopup",(g=E("KnowledgePiecePopup"),K=T(u),g((P=e((w=function(t){function e(){for(var e,n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return e=t.call.apply(t,[this].concat(c))||this,o(e,"ctaButton",P,i(e)),e.timeoutId=void 0,e}n(e,t);var c=e.prototype;return c.onEnable=function(){var t=this;this.ctaButton.on(s.EventType.CLICK,this.onClickCta,this),r.on(l.EventType.KEY_DOWN,this.onKeyDown,this),y.emit(B.onButtonHint,C.None),this.ctaButton.active=!1,this.timeoutId=setTimeout((function(){y.emit(B.onButtonHint,C.MazeGameKnowledgePiecePopup),t.ctaButton.active=!0,t.ctaButton.scale.set(0,0,0),p(t.ctaButton).to(.5,{scale:new h(1,1,1)},{easing:"backOut"}).start()}),2e3)},c.onDisable=function(){this.ctaButton.off(s.EventType.CLICK,this.onClickCta,this),r.off(l.EventType.KEY_DOWN,this.onKeyDown,this),y.emit(B.onButtonHint,C.MazeGame),clearTimeout(this.timeoutId),f.stopAllByTarget(this.ctaButton)},c.onClickCta=function(){console.log("on click cta"),y.emit(B.onHideKnowledgePopup)},c.onKeyDown=function(t){if(this.ctaButton.active)switch(t.keyCode){case d.SPACE:case d.ENTER:case d.ESCAPE:this.onClickCta()}},e}(v)).prototype,"ctaButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/Leaderboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CategoryButton.ts","./EventManager.ts","./UserItem.ts","./AudioMgr.ts","./UserProfile.ts"],(function(e){var t,r,n,o,i,a,s,c,u,d,l,f,h,b,m,p,v,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Node,c=e.Prefab,u=e.director,d=e.instantiate,l=e.Component},function(e){f=e.onClickCategoryButton},function(e){h=e.eventManager,b=e.EventName},function(e){m=e.UserItem},function(e){p=e.AudioMgr,v=e.AudioDefine},function(e){I=e.userProfile}],execute:function(){var g,L,y,C,U,S,D,E,B;i._RF.push({},"815d8G3t6BL84XxIZsZh7Nv","Leaderboard",void 0);var _=a.ccclass,z=a.property;e("Leaderboard",(g=_("Leaderboard"),L=z(m),y=z(s),C=z(c),g((D=t((S=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"currentUserItem",D,o(t)),n(t,"userItemsContainer",E,o(t)),n(t,"prefabUserItem",B,o(t)),t.currentScore=0,t}r(t,e);var i=t.prototype;return i.onEnable=function(){h.on(b.onLeaderboardScore,this.onLeaderboardScore,this),h.on(b.onLeaderboardData,this.onLeaderboardData,this)},i.onDisable=function(){h.off(b.onLeaderboardScore,this.onLeaderboardScore,this),h.off(b.onLeaderboardData,this.onLeaderboardData,this)},i.start=function(){f(5)},i.update=function(e){},i.onClickExitButton=function(){p.inst.playOneShot(v.tapButton),u.loadScene("start"),h.emit(b.changeLoadingVisible,!0)},i.onLeaderboardScore=function(e){this.currentScore=e,this.currentUserItem.node.active=!1,this.userItemsContainer.children.forEach((function(e){return e.active=!1}))},i.onLeaderboardData=function(e){var t=this,r=e.score,n=e.data;if(this.currentScore===r)try{var o,i=n.find((function(e){return e.user_id===I.userId}));if(i)this.currentUserItem.node.active=!0,this.currentUserItem.setName(null!=(o=null==i?void 0:i.name)?o:"");else this.currentUserItem.node.active=!1;for(n=n.filter((function(e){return e.user_id!==I.userId}));this.userItemsContainer.children.length<n.length;){var a=d(this.prefabUserItem);this.userItemsContainer.addChild(a)}this.userItemsContainer.children.forEach((function(e){return e.active=!1})),n.forEach((function(e,r){var n=t.userItemsContainer.children[r].getComponent(m);n.node.active=!0,n&&n.setName(e.name)}))}catch(e){}},t}(l)).prototype,"currentUserItem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(S.prototype,"userItemsContainer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(S.prototype,"prefabUserItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=S))||U));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./EventManager.ts","./AudioMgr.ts"],(function(e){var t,i,n,o,l,a,r,s,c,u,h,v,b,p,f,d,m,L,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.CCInteger,s=e.CCBoolean,c=e.Button,u=e.Label,h=e.Node,v=e.Sprite,b=e.Color,p=e.director,f=e.Component},function(e){d=e.userProfile},function(e){m=e.eventManager,L=e.EventName},function(e){g=e.AudioMgr,y=e.AudioDefine}],execute:function(){var w,C,z,H,B,I,k,x,M,S,A,E,P,D,_,O,Q,T,F,G,K;l._RF.push({},"3181f4A1VlPiYxEo1dg+WJA","LevelButton",void 0);var N=a.ccclass,R=a.property;e("LevelButton",(w=N("LevelButton"),C=R(r),z=R(s),H=R(c),B=R(u),I=R(h),k=R(v),x=R(h),M=R(h),S=R(h),w((P=t((E=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"level",P,o(t)),n(t,"isHaveBoss",D,o(t)),n(t,"button",_,o(t)),n(t,"labelLevel",O,o(t)),n(t,"completeIcon",Q,o(t)),n(t,"bossIcon",T,o(t)),n(t,"bossQuetionMark",F,o(t)),n(t,"hand",G,o(t)),n(t,"indicator",K,o(t)),t.showHandCallback=void 0,t}i(t,e);var l=t.prototype;return l.onEnable=function(){m.on(L.onShowHandOnLevel,this.showHand,this),this.button.node.on(c.EventType.CLICK,this.onClick,this)},l.onDisable=function(){m.off(L.onShowHandOnLevel,this.showHand,this),this.button.node.off(c.EventType.CLICK,this.onClick,this)},l.start=function(){this.labelLevel.string=""+(this.level+1),this.completeIcon.active=this.level<d.maxLevel,this.button.interactable=this.level<=d.maxLevel,this.bossIcon.node.active=this.isHaveBoss&&this.level>=d.maxLevel,this.bossIcon.color=this.level<=d.maxLevel?new b(255,255,255,255):new b(0,0,0,255),this.bossQuetionMark.active=!(this.level<=d.maxLevel),this.hand.active=this.indicator.active=!1},l.update=function(e){},l.showHand=function(e){this.hand.active=this.indicator.active=this.level===d.maxLevel,this.hand.active&&(this.showHandCallback=e)},l.onClick=function(){if(this.level===d.maxLevel){var e;if(m.emit(L.changeLoadingVisible,!0),g.inst.playOneShot(y.tapButton),this.hand.active)null==(e=this.showHandCallback)||e.call(this);var t=this.level;console.log("onPlayLevel",t),d.currentLevel=t,t%2==0?p.loadScene("mazeGame"):p.loadScene("quizGame")}},t}(f)).prototype,"level",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(E.prototype,"isHaveBoss",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=t(E.prototype,"button",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(E.prototype,"labelLevel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(E.prototype,"completeIcon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(E.prototype,"bossIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(E.prototype,"bossQuetionMark",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(E.prototype,"hand",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(E.prototype,"indicator",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=E))||A));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelButtonV2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UserProfile.ts","./AudioMgr.ts"],(function(e){var t,n,i,o,r,l,a,c,s,u,p,h,v,b,m,f,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.CCInteger,c=e.Button,s=e.Sprite,u=e.Node,p=e.SpriteFrame,h=e.director,v=e.Component},function(e){b=e.eventManager,m=e.EventName},function(e){f=e.userProfile},function(e){d=e.AudioMgr,y=e.AudioDefine}],execute:function(){var L,g,S,w,C,F,I,z,H,B,k,x,M,A,D,E,P;r._RF.push({},"16ce7tdbRtL+KMlB+KetMAh","LevelButtonV2",void 0);var V=l.ccclass,K=l.property;e("LevelButtonV2",(L=V("LevelButtonV2"),g=K(a),S=K(c),w=K(s),C=K(s),F=K(u),I=K({type:[p]}),z=K({type:[p]}),L((k=t((B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"level",k,o(t)),i(t,"button",x,o(t)),i(t,"buttonSprite",M,o(t)),i(t,"completeIcon",A,o(t)),i(t,"hand",D,o(t)),i(t,"buttonSprireFrames",E,o(t)),i(t,"completeIconSpriteFrames",P,o(t)),t.showHandCallback=void 0,t}n(t,e);var r=t.prototype;return r.onEnable=function(){b.on(m.onShowHandOnLevel,this.showHand,this),this.button.node.on(c.EventType.CLICK,this.onClick,this)},r.onDisable=function(){b.off(m.onShowHandOnLevel,this.showHand,this),this.button.node.off(c.EventType.CLICK,this.onClick,this)},r.start=function(){this.completeIcon.node.active=this.level<=f.maxLevel,this.completeIcon.spriteFrame=this.level<f.maxLevel?this.completeIconSpriteFrames[0]:this.completeIconSpriteFrames[1],this.buttonSprite.spriteFrame=this.level<=f.maxLevel?this.buttonSprireFrames[0]:this.buttonSprireFrames[1],this.button.interactable=this.level<=f.maxLevel,this.hand.active=!1},r.update=function(e){},r.showHand=function(e){this.hand.active=this.level===f.maxLevel,this.hand.active&&(this.showHandCallback=e)},r.onClick=function(){if(this.level===f.maxLevel){var e;if(b.emit(m.changeLoadingVisible,!0),d.inst.playOneShot(y.tapButton),this.hand.active)null==(e=this.showHandCallback)||e.call(this);var t=this.level;console.log("onPlayLevel",t),f.currentLevel=t,t%2==0?h.loadScene("mazeGame"):h.loadScene("quizGame")}},t}(v)).prototype,"level",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=t(B.prototype,"button",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(B.prototype,"buttonSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(B.prototype,"completeIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(B.prototype,"hand",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(B.prototype,"buttonSprireFrames",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(B.prototype,"completeIconSpriteFrames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=B))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelDefine.ts","./BaseObject.ts","./Player.ts","./Enemy.ts","./UserProfile.ts","./KnowledgePiece.ts"],(function(e){var n,t,r,o,i,l,a,c,u,f,s,p,b,v,y,m,d,h,P,g,w,j,C,L,z,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Prefab,c=e.Node,u=e.Vec2,f=e.instantiate,s=e.Component},function(e){p=e.ObjectType,b=e.levelInfo1,v=e.levelInfo2,y=e.levelInfo3,m=e.level1,d=e.level2,h=e.level3,P=e.levelEnemy1,g=e.levelEnemy2,w=e.levelEnemy3},function(e){j=e.BaseObject},function(e){C=e.Player},function(e){L=e.Enemy},function(e){z=e.userProfile},function(e){E=e.KnowledgePiece}],execute:function(){var O,k,D,I,x,H,M,S,R,T,_,B,G,A,F,K,N,U,V;i._RF.push({},"da723LRIeRIjaxa0uGMHHu+","LevelControl",void 0);var q=l.ccclass,J=l.property,Q=[m,m,d,d,h,h],W=[P,P,g,g,w,w],X=[b,b,v,v,y,y];e("LevelControl",(O=q("LevelControl"),k=J(a),D=J(a),I=J(a),x=J(a),H=J(C),M=J(c),S=J(c),R=J(c),O((B=n((_=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return n=e.call.apply(e,[this].concat(i))||this,r(n,"platformPrefab",B,o(n)),r(n,"waterDropPrefab",G,o(n)),r(n,"knowledgePiecePrefab",A,o(n)),r(n,"enemyPrefab",F,o(n)),r(n,"player",K,o(n)),r(n,"mapContainer",N,o(n)),r(n,"world",U,o(n)),r(n,"itemsContainer",V,o(n)),n.objects=[],n}t(n,e);var i=n.prototype;return i.update=function(e){this.sortObject()},i.inactiveAllObjects=function(){this.objects.forEach((function(e){e.node.active=!1}))},i.initMap=function(){var e,n,t=this,r=null!=(e=null==(n=X[z.currentLevel])?void 0:n.knowledgePieceContents)?e:[],o=0,i=Q[z.currentLevel];this.player.setCurrentMap(i),i.forEach((function(e,n){e.forEach((function(e,i){var l=new u(i,n);switch(e){case p.player:t.player.setRootPosition(l);break;case p.waterDrop:t.getObject(p.waterDrop,t.waterDropPrefab,t.objects,t.itemsContainer).mapPosition=l;break;case p.knowledgePiece:var a=t.getObject(p.knowledgePiece,t.knowledgePiecePrefab,t.objects,t.itemsContainer);a.mapPosition=l;var c,f=a.getComponent(E);if(f)f.content=null!=(c=null==r?void 0:r[o++])?c:""}}))}))},i.initEnemys=function(){var e=this;W[z.currentLevel].forEach((function(n){var t=n.objectType,r=n.path,o=n.speed,i=n.index,l=e.getObject(t,e.enemyPrefab,e.objects,e.world).getComponent(L);l&&(l.setupInfo(i,o,r),l.setStateStart())})),this.player.node.setSiblingIndex(-1)},i.initLevelInfo=function(){var e=X[z.currentLevel];z.mazeGameSection.playerMaxHealth=e.playerMaxHealth,z.mazeGameSection.playerCurrentHealth=e.playerMaxHealth},i.pause=function(){this.objects.forEach((function(e){e.pause()}))},i.resume=function(){this.objects.forEach((function(e){e.resume()}))},i.getObject=function(e,n,t,r){var o,i=t.find((function(n){return(null==n?void 0:n.objectType)===e&&!1===(null==n?void 0:n.node.active)}));return i||(i=f(n).getComponent(j),r.addChild(i.node),t.push(i)),null!=(o=i)&&o.node&&(i.node.active=!0),i},i.sortObject=function(){},n}(s)).prototype,"platformPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(_.prototype,"waterDropPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(_.prototype,"knowledgePiecePrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(_.prototype,"enemyPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(_.prototype,"player",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(_.prototype,"mapContainer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(_.prototype,"world",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(_.prototype,"itemsContainer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=_))||T));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDefine.ts",["cc"],(function(n){var e,w;return{setters:[function(n){e=n.cclegacy,w=n.Vec2}],execute:function(){e._RF.push({},"1ee61hf3GBPe72gKywcpYan","LevelDefine",void 0);var t=n("ObjectType",function(n){return n[n.null=0]="null",n[n.platform=1]="platform",n[n.waterDrop=2]="waterDrop",n[n.knowledgePiece=3]="knowledgePiece",n[n.player=9]="player",n[n.enemy=10]="enemy",n}({}));n("level1",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,0,2,1,2,1,2,1,0,0,2,1,2,1,2,1,2,1,2,1,1,0],[0,1,2,1,1,1,3,1,1,1,0,0,0,0,2,0,0,1,0,0,0,0,0,1,0,0,0,2,0],[1,2,0,0,0,1,1,1,0,2,0,0,0,0,1,0,0,2,0,0,0,0,1,1,1,0,0,1,1],[0,1,0,0,0,0,1,0,0,1,0,1,2,1,2,0,0,1,2,1,2,1,1,3,1,1,1,2,0],[0,2,1,2,1,2,1,2,1,2,0,2,0,0,1,0,0,2,0,1,0,0,1,1,1,0,0,1,0],[0,0,0,0,0,0,0,1,0,1,1,1,0,0,2,0,0,1,0,2,0,0,0,1,0,0,0,2,0],[0,0,0,0,0,0,0,2,0,0,1,0,0,0,1,0,0,2,0,1,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,0,0,1,1,1,2,0,0,0,2,1,2,1,2,1,2,1,2,1,0,0,0,2,0],[0,0,0,0,0,0,0,2,0,0,1,0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,1,1,2,1,2,0,2,0,0,1,2,1,2,1,2,1,2,1,1,2,0],[0,0,0,0,0,0,0,2,0,0,0,0,1,0,1,0,0,2,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,2,1,2,1,0,0,1,0,0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,2,0,0,2,0,0,0,2,0,1,1,1,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,1,1,3,1,1,2,1,2,0,0,0,0,2,0],[0,0,0,0,0,0,0,2,0,0,2,0,9,0,2,0,1,1,1,0,0,0,1,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,1,0,0,0,0,1,0,0,0,0,1,0],[1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0,0,2,0,0,0,0,1,2,1,2,1,2,1],[0,1,0,0,1,0,0,0,0,0,0,0,0,0,2,0,0,1,0,0,0,0,1,0,0,0,0,0,0],[0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),n("level2",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],[0,2,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,2,0],[1,1,0,0,0,1,0,0,1,0,0,1,1,1,0,0,2,0,2,1,2,0,0,2,0,0,0,1,1],[0,2,1,2,1,2,1,2,1,2,1,1,3,1,1,2,1,0,1,0,1,0,0,1,0,0,0,2,0],[0,0,0,0,0,0,0,1,0,1,0,1,1,1,0,0,2,0,2,0,2,1,2,1,2,1,2,1,0],[0,0,0,0,0,0,0,2,0,2,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,1,0,1,2,1,2,1,2,1,2,0,2,0,0,0,1,1,1,0,0,1,0],[0,0,0,0,0,0,0,2,0,0,0,0,1,0,1,0,0,0,1,2,1,2,1,3,1,2,1,2,0],[0,0,0,0,0,0,0,1,0,0,0,0,2,0,2,0,0,0,0,0,0,0,1,1,1,0,0,1,0],[0,0,0,0,0,0,0,2,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],[0,0,0,0,0,0,0,2,0,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,1,2,1,2,1,2,0,9,0,2,1,2,1,0,1,0,0,2,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,2,0,2,0,0,1,2,1,2,0],[0,0,0,0,0,0,0,0,1,1,1,0,2,1,2,1,2,0,0,1,2,1,0,0,0,0,0,1,0],[0,2,1,2,1,2,1,1,1,3,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,2,0],[1,1,0,0,0,1,0,0,1,1,1,0,0,0,0,0,2,1,2,1,2,1,2,1,2,1,2,1,1],[0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,2,0],[0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),n("level3",[[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],[0,2,0,0,0,0,0,2,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,1,0,0,2,0],[1,1,0,0,0,0,0,1,0,1,2,1,2,0,0,0,0,1,0,0,0,1,2,1,2,1,2,1,1],[0,2,1,2,1,2,1,2,0,2,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,1,0,1,2,1,2,1,2,1,2,1,0,1,2,1,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,2,0,2,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,1,0,1,0,0,0,0,2,0,0,0,0,1,0,0,0,1,1,1,0,1,0],[0,0,0,0,0,0,0,2,1,2,1,2,0,0,1,0,0,0,0,2,1,2,1,1,3,1,1,2,0],[0,0,0,0,0,0,0,0,2,0,0,1,0,0,2,0,0,0,0,1,0,0,0,1,1,1,0,1,0],[0,0,0,0,0,0,0,0,1,0,0,2,0,1,1,1,0,0,0,2,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,0,2,0,0,1,2,1,3,1,2,1,2,1,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,1,0,0,2,0,1,1,1,0,0,0,2,1,2,1,2,1,2,1,2,0],[0,0,0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,2,0,0,9,0,0,0,0,0,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,1,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,2,1,2,1,2,1,1,3,1,1,2,1,2,1,2,1,2,1,2,1,3,1,2,1,2,1,2,0],[1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,1,1,1,0,1,0,0,1,1],[0,2,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0],[0,1,2,1,2,1,2,1,2,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0]]),n("levelEnemy1",[{objectType:t.enemy,speed:2,index:0,path:[new w(7,5),new w(1,5),new w(1,2),new w(9,2),new w(9,6),new w(10,6),new w(10,10),new w(7,10)]},{objectType:t.enemy,speed:2,index:1,path:[new w(14,17),new w(14,14),new w(22,14),new w(22,19),new w(4,19),new w(4,17)]},{objectType:t.enemy,speed:2,index:2,path:[new w(19,6),new w(19,4),new w(17,4),new w(17,8),new w(14,8),new w(14,19),new w(22,19),new w(22,17),new w(27,17),new w(27,1),new w(23,1),new w(23,8),new w(19,8)]},{objectType:t.enemy,speed:2,index:3,path:[new w(7,12),new w(7,8),new w(10,8),new w(10,6),new w(9,6),new w(9,1),new w(14,1),new w(14,12),new w(10,12),new w(10,17),new w(7,17)]}]),n("levelEnemy2",[{objectType:t.enemy,speed:3,index:0,path:[new w(12,4),new w(1,4),new w(1,1),new w(23,1),new w(23,5),new w(20,5),new w(20,3),new w(18,3),new w(18,8),new w(27,8),new w(27,11),new w(14,11),new w(14,7),new w(12,7)]},{objectType:t.enemy,speed:3,index:1,path:[new w(12,16),new w(1,16),new w(1,19),new w(27,19),new w(27,17),new w(16,17),new w(16,15),new w(12,15)]},{objectType:t.enemy,speed:3,index:2,path:[new w(23,1),new w(16,1),new w(16,7),new w(12,7),new w(12,11),new w(7,11),new w(7,13),new w(12,13),new w(12,15),new w(16,15),new w(16,13),new w(19,13),new w(19,15),new w(21,15),new w(21,11),new w(27,11),new w(27,1)]},{objectType:t.enemy,speed:3,index:3,path:[new w(12,4),new w(12,1),new w(5,1),new w(5,4),new w(7,4),new w(7,11),new w(12,11),new w(12,11)]}]),n("levelEnemy3",[{objectType:t.enemy,speed:3,index:0,path:[new w(7,4),new w(7,8),new w(9,8),new w(9,3),new w(12,3),new w(12,1),new w(1,1),new w(1,4)]},{objectType:t.enemy,speed:3,index:1,path:[new w(16,17),new w(16,16),new w(1,16),new w(1,19),new w(16,19)]},{objectType:t.enemy,speed:3,index:2,path:[new w(27,11),new w(27,3),new w(21,3),new w(21,5),new w(19,5),new w(19,12),new w(21,12),new w(21,15),new w(22,15),new w(22,16),new w(24,16),new w(24,19),new w(16,19),new w(16,16),new w(16,19),new w(24,19),new w(24,16),new w(22,16),new w(22,15),new w(21,15),new w(21,12),new w(19,12),new w(19,5),new w(21,5),new w(21,3),new w(27,3)]},{objectType:t.enemy,speed:3,index:3,path:[new w(14,5),new w(14,11),new w(11,11),new w(11,13),new w(8,13),new w(8,8),new w(9,8),new w(9,3),new w(12,3),new w(12,1),new w(17,1),new w(17,5)]},{objectType:t.enemy,speed:3,index:4,path:[new w(14,5),new w(17,5),new w(17,1),new w(27,1),new w(27,8),new w(19,8),new w(19,11),new w(14,11)]}]),n("levelInfo1",{playerMaxHealth:3,knowledgePieceContents:["1 lt nc  nh hn 1 lt nc \nthng thng. Nc ng bng \n<color=#ff0000>nh hn nc 9%</color>, iu ny gii \nthch ti sao bng li ni trn mt \nnc.","Trn Th gii, mi ngy c <color=#ff0000>2 triu</color> \ntn nc thi v cc cht thi khc \n vo ngun nc, v c 9 ngi \nth c 1 ngi s dng nc ung \nt cc ngun khng hp v sinh \nv khng an ton.","Nc nng c th ng bng\nnhanh hn nc lnh trong mt\ns iu kin (thng c gi l\nhiu ng Mpemba). Hiu ng \nMpemba c t theo tn ca\nnh khoa hc ngi Tanzania, \nng quan st thy mt cht lng \n(thng l nc) c nhit  cao \nc th ng bng nhanh hn \ncht lng c nhit  thp, \ntrong cng iu kin ging nhau."]}),n("levelInfo2",{playerMaxHealth:3,knowledgePieceContents:["V sinh tay kp thi ngn nga ti \n<color=#ff0000>50%</color> cc bnh nhim trng c th \ntrnh c trong qu trnh cung \ncp dch v chm sc sc khe, \nbao gm c nhng bnh nh \nhng n lc lng lao ng \ny t. (WHO/UNICEF, 2021) ","Theo Lin Hp Quc,  mt s \nnc km pht trin <color=#ff0000>95%</color> lng \nnc thi trc tip ra mi trng \nkhng qua x l.","Nc, v sinh v v sinh khng \nan ton l nguyn nhn gy ra ci \ncht ca khong <color=#ff0000>1.000</color> tr em di \n5 tui mi ngy. (UNICEF, 2023)"]}),n("levelInfo3",{playerMaxHealth:3,knowledgePieceContents:["Hin ti, hn <color=#ff0000>80 quc gia</color> (chim \nkhong <color=#ff0000>40% dn s th gii</color>) \nang i mt vi tnh trng thiu \nnc nghim trng.","Mc nc bin ti Vit Nam trong \ngiai on 1993 - 2018 <color=#ff0000>tng trung \nbnh 4,1 mm/nm.</color>","Hin c 3 ngi th s c 1 ngi \nsng trong tnh trng thiu nc.","Dy chuyn cng ngh thuc d\nn <color=#ff0000>NEWater (Singapore)</color> c th\nlc nc  nhim thnh nc\nung trc tip."]});e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(n){var e,t,i,o,a,r,c,s,l,u;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Node,s=n.Component},function(n){l=n.eventManager,u=n.EventName}],execute:function(){var g,h,p,f,d;a._RF.push({},"22328W2+4VLM71AseUqbLR4","LoadingControl",void 0);var L=r.ccclass,b=r.property;n("LoadingControl",(g=L("LoadingControl"),h=b(c),g((d=e((f=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"content",d,o(e)),e}t(e,n);var a=e.prototype;return a.onEnable=function(){this.content.active=!1,l.on(u.changeLoadingVisible,this.changeLoadingVisible,this)},a.onDisable=function(){l.off(u.changeLoadingVisible,this.changeLoadingVisible,this)},a.changeLoadingVisible=function(n){this.content.active=!!n},e}(s)).prototype,"content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Api.ts","./ApiMock.ts","./AudioMgr.ts","./ButtonHint.ts","./CheatController.ts","./Define.ts","./EventManager.ts","./LoadingControl.ts","./PopupFadeIn.ts","./UserProfile.ts","./LevelButton.ts","./LevelButtonV2.ts","./MapBackground.ts","./home.ts","./CategoryButton.ts","./Leaderboard.ts","./UserItem.ts","./BaseObject.ts","./Define2.ts","./Enemy.ts","./ExitConfirmPopup.ts","./KnowledgePiece.ts","./KnowledgePiecePopup.ts","./LevelControl.ts","./LevelDefine.ts","./PausePopup.ts","./Platform.ts","./Player.ts","./StatsBoard.ts","./TileMapControl.ts","./WaterDrop.ts","./mazeGame.ts","./ButtonAnswer.ts","./ButtonBooster.ts","./Character.ts","./MainCharacter.ts","./Popup.ts","./QuizDefine.ts","./QuizManager.ts","./ShieldEffect.ts","./start.ts","./QuizStory.ts","./Story.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainCharacter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./AudioMgr.ts"],(function(t){var e,i,r,a,o,n,l,c,s,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,l=t.Node},function(t){c=t.Character},function(t){s=t.AudioMgr,h=t.AudioDefine}],execute:function(){var u,p,d,f,g;o._RF.push({},"575731Wne1K7pFhx7SlLcjo","MainCharacter",void 0);var y=n.ccclass,S=n.property;t("MainCharacter",(u=y("MainCharacter"),p=S(l),u((g=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).dirMultiplier=1,r(e,"shieldNode",g,a(e)),e.hasShield=void 0,e}i(e,t);var o=e.prototype;return o.toggleShield=function(t){this.hasShield=t,this.shieldNode.active=t},o.takeDamage=function(e){this.hasShield?this.toggleShield(!1):t.prototype.takeDamage.call(this,e)},o.playHitAudio=function(){s.inst.playOneShot(h.quizMCHit)},o.resetStats=function(){t.prototype.resetStats.call(this),this.toggleShield(!1)},e}(c)).prototype,"shieldNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/MapBackground.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts"],(function(e){var r,t,i,n,a,s,o,p,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Sprite,p=e.SpriteFrame,c=e.Component},function(e){u=e.userProfile}],execute:function(){var l,f,m,h,y,d,g;a._RF.push({},"91cdejuvs5Iz4HZFmiDhUZi","MapBackground",void 0);var F=s.ccclass,v=s.property;e("MapBackground",(l=F("MapBackground"),f=v(o),m=v({type:[p]}),l((d=r((y=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a))||this,i(r,"sprite",d,n(r)),i(r,"spriteFrames",g,n(r)),r}return t(r,e),r.prototype.start=function(){var e=u.maxLevel;this.sprite.spriteFrame=e<=1?this.spriteFrames[0]:e<=3?this.spriteFrames[1]:this.spriteFrames[2]},r}(c)).prototype,"sprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=r(y.prototype,"spriteFrames",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/mazeGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelControl.ts","./Player.ts","./UserProfile.ts","./EventManager.ts","./Story.ts","./AudioMgr.ts","./Define.ts","./ButtonHint.ts","./Api.ts"],(function(t){var e,n,i,o,s,a,u,l,r,p,c,h,P,f,m,S,y,w,g,v,b,d,C,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,u=t.Node,l=t.RichText,r=t.director,p=t.PhysicsSystem2D,c=t.EPhysics2DDrawFlags,h=t.Component},function(t){P=t.LevelControl},function(t){f=t.Player},function(t){m=t.userProfile},function(t){S=t.eventManager,y=t.EventName,w=t.EventParam},function(t){g=t.Story},function(t){v=t.AudioMgr,b=t.AudioDefine},function(t){d=t.SceneName},function(t){C=t.ButtonHintState},function(t){B=t.api}],execute:function(){var k,L,z,O,x,G,M,H,D,W,E,K,N,A,F,I,R,T,_,j,J;s._RF.push({},"69024ABHwpF159GAbOeWB9v","mazeGame",void 0);var U=a.ccclass,q=a.property,Q=function(t){return t[t.Null=0]="Null",t[t.Start=1]="Start",t[t.StoryScene2=2]="StoryScene2",t[t.Playing=3]="Playing",t[t.Win=4]="Win",t[t.Lose=5]="Lose",t[t.Pausing=6]="Pausing",t}(Q||{});t("mazeGame",(k=U("mazeGame"),L=q({type:P}),z=q(f),O=q(u),x=q(u),G=q(u),M=q(u),H=q(l),D=q(g),W=q(u),k((N=e((K=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"levelControl",N,o(e)),i(e,"player",A,o(e)),i(e,"exitConfirmPopup",F,o(e)),i(e,"winPopup",I,o(e)),i(e,"losePopup",R,o(e)),i(e,"knowledgePiecePopup",T,o(e)),i(e,"knowledgePieceContent",_,o(e)),i(e,"story",j,o(e)),i(e,"pausePopup",J,o(e)),e.state=Q.Null,e.resumeState=Q.Null,e}n(e,t);var s=e.prototype;return s.onEnable=function(){S.on(y.onMazeGameLose,this.onLose,this),S.on(y.onShowKnowledgePopup,this.onShowKnowledgePopup,this),S.on(y.onHideKnowledgePopup,this.onHideKnowledgePopup,this),S.on(y.onClickButtonOnExitConfirmPopup,this.onClickButtonOnExitConfirmPopup,this),S.on(y.onClickButtonOnPausePopup,this.onClickButtonOnPausePopup,this)},s.onDisable=function(){S.off(y.onMazeGameLose,this.onLose,this),S.off(y.onShowKnowledgePopup,this.onShowKnowledgePopup,this),S.off(y.onHideKnowledgePopup,this.onHideKnowledgePopup,this),S.off(y.onClickButtonOnExitConfirmPopup,this.onClickButtonOnExitConfirmPopup,this),S.off(y.onClickButtonOnPausePopup,this.onClickButtonOnPausePopup,this),v.inst.stop()},s.start=function(){this.story.setStateInactive(),this.setState(Q.Start)},s.setState=function(t){var e=this;switch(this.state){case Q.Win:this.winPopup.active=!1;break;case Q.Lose:this.losePopup.active=!1}switch(this.state=t,this.state){case Q.Start:m.mazeGameSection.reset(),this.levelControl.inactiveAllObjects(),this.levelControl.initMap(),this.levelControl.initEnemys(),this.levelControl.initLevelInfo(),this.player.setStateStart(),this.winPopup.active=!1,this.losePopup.active=!1,this.knowledgePiecePopup.active=!1,v.inst.play(b.mazeBGM);break;case Q.StoryScene2:this.story.startScene2();break;case Q.Playing:S.emit(y.onButtonHint,C.MazeGame),this.player.setStatePlaying();break;case Q.Win:m.updateWaterDrops(),m.maxLevel=Math.max(m.currentLevel+1,m.maxLevel),B.postScore({score:m.currentLevel,userId:m.userId,maxLevel:m.maxLevel,waterDrops:m.waterDrops}),this.winPopup.active=!0,this.levelControl.pause(),this.player.pause(),v.inst.stop(),v.inst.playOneShot(b.winTheGame),S.emit(y.onButtonHint,C.None),setTimeout((function(){e.onClickGameWinMenuButton()}),3e3);break;case Q.Lose:this.losePopup.active=!0,this.levelControl.pause(),this.player.pause(),v.inst.stop(),v.inst.playOneShot(b.losePopupSfx),S.emit(y.onButtonHint,C.None)}},s.update=function(t){switch(this.state){case Q.Start:m.storyCompleteStatus.scene2||0!==m.currentLevel?this.setState(Q.Playing):this.setState(Q.StoryScene2);break;case Q.StoryScene2:m.storyCompleteStatus.scene2&&this.setState(Q.Playing)}},s.onClickButtonExit=function(){v.inst.playOneShot(b.tapButton),this.pausePopup.active=!0,this.pause(),S.emit(y.onButtonHint,C.None)},s.onClickGameWinMenuButton=function(){switch(this.state){case Q.Win:v.inst.playOneShot(b.tapButton),r.loadScene("home")}},s.onClickGameLoseMenuButton=function(){switch(this.state){case Q.Lose:v.inst.playOneShot(b.tapButton),r.loadScene("home")}},s.onClickGameLoseReplayButton=function(){switch(this.state){case Q.Lose:v.inst.playOneShot(b.tapButton),this.setState(Q.Start)}},s.showColliderDebug=function(){p.instance.enable=!0,p.instance.debugDrawFlags=c.Aabb|c.Pair|c.CenterOfMass|c.Joint|c.Shape},s.pause=function(){this.state!==Q.Pausing&&(this.resumeState=this.state),this.levelControl.pause(),this.player.pause(),this.state=Q.Pausing},s.resume=function(){this.levelControl.resume(),this.player.resume(),this.state=this.resumeState},s.onWin=function(){switch(this.state){case Q.Playing:this.setState(Q.Win)}},s.onLose=function(){switch(this.state){case Q.Playing:this.setState(Q.Lose)}},s.onShowKnowledgePopup=function(t){this.pause(),this.knowledgePiecePopup.active=!0,this.knowledgePieceContent.string=t},s.onHideKnowledgePopup=function(){v.inst.playOneShot(b.tapButton),this.resume(),this.knowledgePiecePopup.active=!1,m.mazeGameSection.knowledgePieces>=m.mazeGameSection.knowledgePiecesMax&&this.onWin()},s.onClickButtonOnPausePopup=function(t){switch(v.inst.playOneShot(b.tapButton),t){case w.continueButton:this.pausePopup.active=!1,this.resume(),S.emit(y.onButtonHint,C.MazeGame);break;case w.replayButton:this.pausePopup.active=!1,this.setState(Q.Start);break;case w.menuButton:this.pausePopup.active=!1,this.exitConfirmPopup.active=!0}},s.onClickButtonOnExitConfirmPopup=function(t){switch(v.inst.playOneShot(b.tapButton),t){case w.okButton:r.loadScene(d.Start);break;case w.cancleButton:this.exitConfirmPopup.active=!1,this.resume(),S.emit(y.onButtonHint,C.MazeGame)}},s.cheatWin=function(){this.onWin()},s.cheatLose=function(){this.onLose()},e}(h)).prototype,"levelControl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(K.prototype,"player",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(K.prototype,"exitConfirmPopup",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(K.prototype,"winPopup",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(K.prototype,"losePopup",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(K.prototype,"knowledgePiecePopup",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(K.prototype,"knowledgePieceContent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(K.prototype,"story",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(K.prototype,"pausePopup",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=K))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/PausePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(n){var t,e,o,i,u,r,a,l,c,p,s,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){u=n.cclegacy,r=n._decorator,a=n.Node,l=n.Button,c=n.Component},function(n){p=n.eventManager,s=n.EventName,f=n.EventParam}],execute:function(){var C,h,y,B,P,v,m,k,b;u._RF.push({},"f7f4eRZDa1IDJrzJPNpBMMs","PausePopup",void 0);var E=r.ccclass,g=r.property;n("PausePopup",(C=E("PausePopup"),h=g(a),y=g(a),B=g(a),C((m=t((v=function(n){function t(){for(var t,e=arguments.length,u=new Array(e),r=0;r<e;r++)u[r]=arguments[r];return t=n.call.apply(n,[this].concat(u))||this,o(t,"continueButton",m,i(t)),o(t,"replayButton",k,i(t)),o(t,"menuButton",b,i(t)),t}e(t,n);var u=t.prototype;return u.onEnable=function(){this.continueButton.on(l.EventType.CLICK,this.onClickContinue,this),this.replayButton.on(l.EventType.CLICK,this.onClickReplay,this),this.menuButton.on(l.EventType.CLICK,this.onClickMenu,this)},u.onDisable=function(){this.continueButton.off(l.EventType.CLICK,this.onClickContinue,this),this.replayButton.off(l.EventType.CLICK,this.onClickReplay,this),this.menuButton.off(l.EventType.CLICK,this.onClickMenu,this)},u.onClickContinue=function(){p.emit(s.onClickButtonOnPausePopup,f.continueButton)},u.onClickReplay=function(){p.emit(s.onClickButtonOnPausePopup,f.replayButton)},u.onClickMenu=function(){p.emit(s.onClickButtonOnPausePopup,f.menuButton)},t}(c)).prototype,"continueButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"replayButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(v.prototype,"menuButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=v))||P));u._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./Define2.ts","./LevelDefine.ts"],(function(t){var e,n,o,r,c,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.UITransform},function(t){c=t.BaseObject},function(t){a=t.CellSize},function(t){i=t.ObjectType}],execute:function(){var s;n._RF.push({},"4e119K0k/FGYK1M5dIqDq3m","Platform",void 0);var u=o.ccclass;o.property,t("Platform",u("Platform")(s=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).objectType=i.platform,e}e(n,t);var o=n.prototype;return o.start=function(){this.node.getComponent(r).setContentSize(a,a)},o.update=function(t){},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./Define2.ts","./LevelDefine.ts","./UserProfile.ts","./EventManager.ts","./KnowledgePiece.ts","./AudioMgr.ts"],(function(t){var e,i,n,o,a,s,c,r,h,u,l,p,f,m,v,g,D,d,y,w,T,S,M,b,P,C,k,A,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,c=t._decorator,r=t.Collider2D,h=t.Animation,u=t.Node,l=t.Vec2,p=t.Contact2DType,f=t.input,m=t.Input,v=t.Tween,g=t.tween,D=t.KeyCode},function(t){d=t.BaseObject},function(t){y=t.ObjectLayer,w=t.Direction,T=t.MapSize,S=t.PlayerSpeed},function(t){M=t.ObjectType},function(t){b=t.userProfile},function(t){P=t.eventManager,C=t.EventName},function(t){k=t.KnowledgePiece},function(t){A=t.AudioMgr,E=t.AudioDefine}],execute:function(){var _,I,O,N,R,z,x,K,L;s._RF.push({},"2721eh2xclCgrLV/J4WuHqH","Player",void 0);var B=c.ccclass,H=c.property,U=function(t){return t[t.Null=0]="Null",t[t.Inactive=1]="Inactive",t[t.Start=2]="Start",t[t.Idle=3]="Idle",t[t.Moving=4]="Moving",t[t.Death=5]="Death",t[t.Pausing=6]="Pausing",t}(U||{}),W=function(t){return t.undefine="",t.idle="mcIdle",t.move="mcRun",t.death="mcDeath",t}(W||{});t("Player",(_=B("Player"),I=H(r),O=H(h),N=H(u),_((x=e((z=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"collider",x,o(e)),n(e,"animation",K,o(e)),n(e,"spriteContainer",L,o(e)),e.objectType=M.player,e.objectLayer=y.player,e.state=U.Inactive,e.resumeState=U.Inactive,e.currentMap=[],e.isTouchDown=!1,e._moveDirection=w.Null,e.nextDirection=[],e.rootPosition=new l,e.isMovingDone=!1,e.isDeathDone=!1,e.currentAnimationName=W.undefine,e.calcTarget=function(t,e,i){var n,o=new l(Math.round(e.x),Math.round(e.y));switch(i){case w.Up:o.y-=1;break;case w.Down:o.y+=1;break;case w.Left:o.x-=1;break;case w.Right:o.x+=1}switch(null==t||null==(n=t[o.y%T.height])?void 0:n[o.x%T.width]){case M.null:return null;default:return o}},e}i(e,t);var s=e.prototype;return s.start=function(){},s.onEnable=function(){this.collider.on(p.BEGIN_CONTACT,this.onBeginContact,this),f.on(m.EventType.TOUCH_START,this.onTouchStart,this),f.on(m.EventType.TOUCH_END,this.onTouchEnd,this),f.on(m.EventType.KEY_DOWN,this.onKeyDown,this)},s.onDisable=function(){this.collider.off(p.BEGIN_CONTACT,this.onBeginContact,this),f.off(m.EventType.TOUCH_START,this.onTouchStart,this),f.off(m.EventType.TOUCH_END,this.onTouchEnd,this),f.off(m.EventType.KEY_DOWN,this.onKeyDown,this)},s.setState=function(t){var e=this;switch(this.state){case U.Moving:v.stopAllByTarget(this.mapPosition)}switch(this.state=t,this.state){case U.Inactive:v.stopAllByTarget(this.mapPosition);break;case U.Start:this.isTouchDown=!1,this.currentAnimationName=W.undefine;break;case U.Idle:this.setAnimation(W.idle),this.moveDirection=w.Null;break;case U.Moving:var i;if(this.setAnimation(W.move),this.nextDirection.length>0){var n=this.nextDirection.shift();(i=this.calcTarget(this.currentMap,this.mapPosition,n))&&(this.moveDirection=n,this.nextDirection=[])}if(i||(i=this.calcTarget(this.currentMap,this.mapPosition,this.moveDirection)),!i){this.setState(U.Idle);break}this.isMovingDone=!1;var o=l.distance(this.mapPosition,i)/S;v.stopAllByTarget(this.mapPosition),g(this.mapPosition).to(o,i,{onUpdate:function(t){switch(e.state){case U.Moving:var i=t.x,n=t.y;i<-.5?i=(i+T.width)%T.width:i>T.width-.5&&(i=(i-T.width)%T.width),n<-.5?n=(n+T.height)%T.height:n>T.height-.5&&(n=(n-T.height)%T.height),e.mapPosition=new l(i,n)}},onComplete:function(){switch(e.state){case U.Moving:e.isMovingDone=!0}}}).start();break;case U.Death:this.setAnimation(W.death),b.mazeGameSection.playerCurrentHealth--,this.isDeathDone=!1,setTimeout((function(){e.isDeathDone=!0}),1e3)}},s.update=function(t){switch(this.state){case U.Moving:this.isMovingDone&&this.setState(U.Moving);break;case U.Death:this.isDeathDone&&b.mazeGameSection.playerCurrentHealth>0&&(this.mapPosition=this.rootPosition,this.setState(U.Idle))}},s.pause=function(){switch(this.state!==U.Pausing&&(this.resumeState=this.state),this.state){case U.Moving:v.stopAllByTarget(this.mapPosition),this.state=U.Pausing;break;default:this.state=U.Pausing}},s.resume=function(){switch(this.resumeState){case U.Moving:this.setState(this.resumeState);break;default:this.state=this.resumeState}},s.setRootPosition=function(t){l.copy(this.rootPosition,t),this.mapPosition=this.rootPosition},s.setStateStart=function(){this.setState(U.Start)},s.setStatePlaying=function(){this.setState(U.Idle)},s.setCurrentMap=function(t){this.currentMap=t},s.onTouchStart=function(t){this.isTouchDown=!0},s.onTouchEnd=function(t){switch(this.state){case U.Idle:case U.Moving:if(!this.isTouchDown)return;this.isTouchDown=!1;var e=l.subtract(new l,t.getLocation(),t.getStartLocation()),i=this.calcMoveDirection(e);this.checkDirectionToMove(i)}},s.onKeyDown=function(t){switch(this.state){case U.Idle:case U.Moving:var e;switch(null==t?void 0:t.keyCode){case D.ARROW_UP:case D.KEY_W:e=w.Up;break;case D.ARROW_DOWN:case D.KEY_S:e=w.Down;break;case D.ARROW_LEFT:case D.KEY_A:e=w.Left;break;case D.ARROW_RIGHT:case D.KEY_D:e=w.Right}if(!e)break;this.checkDirectionToMove(e)}},s.checkDirectionToMove=function(t){this.calcTarget(this.currentMap,this.mapPosition,t)?(this.moveDirection=t,this.nextDirection=[],this.setState(U.Moving)):this.nextDirection=[t,t,t]},s.calcMoveDirection=function(t){var e=t.x,i=t.y;return Math.abs(e)>=Math.abs(i)?e>0?w.Right:w.Left:i>0?w.Up:w.Down},s.onBeginContact=function(t,e,i){var n=this;switch(this.state){case U.Idle:case U.Moving:switch(null==e?void 0:e.tag){case M.waterDrop:setTimeout((function(){e.node.active=!1,b.mazeGameSection.waterDrops++,A.inst.playOneShot(E.mazeCollectWaterDrop)}),1);break;case M.knowledgePiece:setTimeout((function(){var t;e.node.active=!1,b.mazeGameSection.knowledgePieces++,n.setState(U.Idle),A.inst.playOneShot(E.mazeCollectKnowledgePiece),P.emit(C.onShowKnowledgePopup,null==e||null==(t=e.node)||null==(t=t.getComponent(k))?void 0:t.content)}),1);break;case M.enemy:this.setState(U.Death),A.inst.playOneShot(E.mazeHitMonster),b.mazeGameSection.playerCurrentHealth<=0&&P.emit(C.onMazeGameLose)}}},s.setAnimation=function(t){this.currentAnimationName!==t&&(this.currentAnimationName=t,this.animation.play(t))},a(e,[{key:"moveDirection",get:function(){return this._moveDirection},set:function(t){switch(this._moveDirection=t,t){case w.Left:this.spriteContainer.setScale(-1,1);break;case w.Right:this.spriteContainer.setScale(1,1)}}}]),e}(d)).prototype,"collider",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(z.prototype,"animation",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(z.prototype,"spriteContainer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=z))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/Popup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./AudioMgr.ts","./EventManager.ts"],(function(t){var n,e,i,o,a,r,u,s,p,l,h,c,f,b,d,m,v,g,P,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,u=t.Node,s=t.Button,p=t.Sprite,l=t.RichText,h=t.SpriteFrame,c=t.Label,f=t.director,b=t.Component},function(t){d=t.userProfile},function(t){m=t.AudioMgr,v=t.AudioDefine},function(t){g=t.eventManager,P=t.EventName,C=t.EventParam}],execute:function(){var k,y,w,R,S,B,E,L,O,T,x,M,z,I,K,A,D,G,F,_,X,q,H,N,U;a._RF.push({},"6d6f4KmEZxLcavSC5KU977w","Popup",void 0);var j=r.ccclass,W=r.property,Z=["Xp hng: <color=#00ff00>Tp S</color>","Xp hng: <color=#aa77ff>Siu Sao</color>","Xp hng: <color=#ffff00>Anh Hng</color>"];t("Popup",(k=j("Popup"),y=W(u),w=W(u),R=W(u),S=W(u),B=W(u),E=W(s),L=W(s),O=W(s),T=W(p),x=W(l),M=W({type:h}),k((K=n((I=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"winContainer",K,o(n)),i(n,"loseContainer",A,o(n)),i(n,"rankContainer",D,o(n)),i(n,"menuPopup",G,o(n)),i(n,"exitPopup",F,o(n)),i(n,"buttonLeft",_,o(n)),i(n,"buttonRight",X,o(n)),i(n,"buttonReturn",q,o(n)),i(n,"spriteRank",H,o(n)),i(n,"rtRank",N,o(n)),i(n,"rankSprites",U,o(n)),n.leftCb=void 0,n.rightCb=void 0,n.quizManager=void 0,n}e(n,t);var a=n.prototype;return a.start=function(){},a.onEnable=function(){var t,n,e;null==(t=this.buttonLeft)||t.node.on(s.EventType.CLICK,this.onButtonLeft,this),null==(n=this.buttonRight)||n.node.on(s.EventType.CLICK,this.onButtonRight,this),null==(e=this.buttonReturn)||e.node.on(s.EventType.CLICK,this.returnToMap,this),g.on(P.onClickButtonOnPausePopup,this.handleMenuPopupOption,this),g.on(P.onClickButtonOnExitConfirmPopup,this.handleExitPopupOption,this)},a.onDisable=function(){var t,n,e;null==(t=this.buttonLeft)||t.node.off(s.EventType.CLICK,this.onButtonLeft,this),null==(n=this.buttonRight)||n.node.off(s.EventType.CLICK,this.onButtonRight,this),null==(e=this.buttonReturn)||e.node.off(s.EventType.CLICK,this.returnToMap,this),g.off(P.onClickButtonOnPausePopup,this.handleMenuPopupOption,this),g.off(P.onClickButtonOnExitConfirmPopup,this.handleExitPopupOption,this)},a.update=function(t){},a.showPopupMenu=function(){var t=this;m.inst.playOneShot(v.tapButton),this.node.active=!0,this.node.children.forEach((function(n){n.active=n.name==t.menuPopup.name||n==t.node.children[0]}))},a.handleMenuPopupOption=function(t){switch(m.inst.playOneShot(v.tapButton),t){case C.continueButton:this.menuPopup.active=!1,this.hidePopup();break;case C.replayButton:this.menuPopup.active=!1,this.restartGame();break;case C.menuButton:this.menuPopup.active=!1,this.exitPopup.active=!0}},a.showPopupExitConfirm=function(){var t=this;this.node.active=!0,this.node.children.forEach((function(n){n.active=n.name==t.exitPopup.name||n==t.node.children[0]}))},a.handleExitPopupOption=function(t){switch(m.inst.playOneShot(v.tapButton),t){case C.okButton:this.backToMenu();break;case C.cancleButton:this.exitPopup.active=!1,this.hidePopup()}},a.showPopupLose=function(){var t=this;this.buttonLeft.getComponentInChildren(c).string="Thot",this.buttonRight.getComponentInChildren(c).string="Th li",this.leftCb=this.showPopupRank,this.rightCb=this.restartGame,this.node.active=!0,this.node.children.forEach((function(n){n.active=n.name==t.loseContainer.name||n==t.node.children[0]})),m.inst.stop(),m.inst.playOneShot(v.losePopupSfx)},a.showPopupWin=function(){var t=this;this.node.active=!0,this.node.children.forEach((function(n){n.active=n.name==t.winContainer.name||n==t.node.children[0]})),m.inst.stop(),m.inst.playOneShot(v.winTheGame),setTimeout((function(){t.showPopupRank()}),2e3)},a.showPopupRank=function(){var t=this;this.node.active=!0;var n=this.winContainer.active;switch(this.node.children.forEach((function(n){n.active=n.name==t.rankContainer.name||n==t.node.children[0]})),d.maxLevel){case 0:case 1:case 2:case 3:this.showRank(0);break;case 4:case 5:if(!n){this.showRank(0);break}this.showRank(1);break;case 6:if(!n){this.showRank(1);break}this.showRank(2)}},a.hidePopup=function(){this.node.active=!1},a.onButtonLeft=function(){var t;m.inst.playOneShot(v.tapBack),null==(t=this.leftCb)||t.apply(this)},a.onButtonRight=function(){var t;m.inst.playOneShot(v.tapButton),null==(t=this.rightCb)||t.apply(this)},a.returnToMap=function(){m.inst.playOneShot(v.tapButton),m.inst.stop(),console.log(f.getScene().name),"home"==f.getScene().name?(d.reset(),f.loadScene("start")):f.loadScene("home")},a.backToMenu=function(){m.inst.stop(),f.loadScene("start")},a.restartGame=function(){this.quizManager.restartGame(),this.hidePopup()},a.showRank=function(t){this.spriteRank.spriteFrame=this.rankSprites[t],this.rtRank.string=Z[t]},n}(b)).prototype,"winContainer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(I.prototype,"loseContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(I.prototype,"rankContainer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(I.prototype,"menuPopup",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(I.prototype,"exitPopup",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(I.prototype,"buttonLeft",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(I.prototype,"buttonRight",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(I.prototype,"buttonReturn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(I.prototype,"spriteRank",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(I.prototype,"rtRank",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(I.prototype,"rankSprites",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=I))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupFadeIn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,a,c,p,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,a=t.UIOpacity,c=t.tween,p=t.Vec3,r=t.Component}],execute:function(){var s;n._RF.push({},"e4689JA5CJCnbySKSLvO/kB","PopupFadeIn",void 0);var i=o.ccclass;o.property,t("PopupFadeIn",i("PopupFadeIn")(s=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onEnable=function(){var t;this.node.scale.set(0,0,0);var e=null!=(t=this.node.getComponent(a))?t:this.node.addComponent(a);e.opacity=0,c(this.node).to(.5,{scale:new p(1,1,1)},{easing:"backOut"}).start(),c(e).to(.3,{opacity:255}).start()},n}(r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/QuizDefine.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"3892eJBEUxImI0Ib6oIXCbi","QuizDefine",void 0);e("quizLvl",[{mcName:"Hip S PoWa",hp:16,atk:2,enemyName:"CaKi",enemyHp:20,enemyAtk:2},{mcName:"Hip S PoWa",hp:28,atk:3,enemyName:"ONi",enemyHp:30,enemyAtk:4},{mcName:"Hip S PoWa",hp:36,atk:5,enemyName:"GoBa",enemyHp:45,enemyAtk:5}]),e("questionTime",30),e("skipCost",20),e("skipUses",5),e("skimCost",20),e("skimUses",5),e("shieldCost",30),e("shieldUses",5),e("dropsKey","drops"),e("lvlKey","quizLvl");i._RF.pop()}}}));

System.register("chunks:///_virtual/QuizManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./MainCharacter.ts","./Popup.ts","./QuizDefine.ts","./ButtonAnswer.ts","./UserProfile.ts","./Story.ts","./QuizStory.ts","./AudioMgr.ts","./ButtonBooster.ts","./Api.ts","./EventManager.ts","./ButtonHint.ts"],(function(t){var e,i,s,n,o,r,a,u,h,l,c,p,f,d,m,b,y,C,S,v,g,w,k,L,A,z,I,D,B,E,N,T,q,x,G,Q,P,M,K,O,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,s=t.inheritsLoose,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t.js,a=t._decorator,u=t.CCString,h=t.CCInteger,l=t.Sprite,c=t.SpriteFrame,p=t.Label,f=t.Button,d=t.Node,m=t.resources,b=t.JsonAsset,y=t.randomRangeInt,C=t.director,S=t.Component},function(t){v=t.Character},function(t){g=t.MainCharacter},function(t){w=t.Popup},function(t){k=t.skipUses,L=t.skimUses,A=t.shieldUses,z=t.quizLvl,I=t.shieldCost,D=t.skipCost,B=t.skimCost,E=t.questionTime},function(t){N=t.ButtonAnswer},function(t){T=t.userProfile},function(t){q=t.State},function(t){x=t.QuizStory},function(t){G=t.AudioMgr,Q=t.AudioDefine},function(t){P=t.ButtonBooster},function(t){M=t.api},function(t){K=t.eventManager,O=t.EventName},function(t){U=t.ButtonHintState}],execute:function(){var _,F,R,W,Y,H,j,J,V,X,Z,$,tt,et,it,st,nt,ot,rt,at,ut,ht,lt,ct,pt,ft,dt,mt,bt,yt,Ct,St,vt,gt,wt,kt,Lt,At,zt,It,Dt,Bt,Et,Nt,Tt;o._RF.push({},"805e23xK/5Fe5IFkpKG8r32","QuizManager",void 0);r.array;var qt=a.ccclass,xt=a.property,Gt=t("GameState",function(t){return t[t.INIT=0]="INIT",t[t.RESET=1]="RESET",t[t.PLAYING=2]="PLAYING",t[t.END=3]="END",t}({})),Qt=t("QuizItem",(_=qt("QuizItem"),F=xt([u]),_((Y=e((W=function(t,e,s){void 0===t&&(t=-1),void 0===e&&(e=""),void 0===s&&(s=[]),i(this,"used",Y,this),i(this,"question",H,this),i(this,"lastAnsIdx",j,this),i(this,"answers",J,this),this.lastAnsIdx=t,this.question=e,this.answers=s}).prototype,"used",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(W.prototype,"question",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=e(W.prototype,"lastAnsIdx",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(W.prototype,"answers",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=W))||R));t("QuizManager",(V=qt("QuizManager"),X=xt(h),Z=xt(g),$=xt(v),tt=xt(l),et=xt([c]),it=xt(p),st=xt(f),nt=xt(P),ot=xt(P),rt=xt(P),at=xt(p),ut=xt(p),ht=xt([d]),lt=xt([Qt]),ct=xt(x),pt=xt(w),ft=xt(d),V((bt=e((mt=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"level",bt,n(e)),i(e,"mainChar",yt,n(e)),i(e,"enemy",Ct,n(e)),i(e,"spriteBG",St,n(e)),i(e,"bgSpriteFrames",vt,n(e)),i(e,"labelDrops",gt,n(e)),i(e,"buttonBack",wt,n(e)),i(e,"buttonSkip",kt,n(e)),i(e,"buttonSkimAns",Lt,n(e)),i(e,"buttonShield",At,n(e)),i(e,"labelTime",zt,n(e)),i(e,"labelQuestion",It,n(e)),i(e,"buttonNodes",Dt,n(e)),i(e,"questions",Bt,n(e)),i(e,"story",Et,n(e)),i(e,"popup",Nt,n(e)),i(e,"overlay",Tt,n(e)),e.shuffledIndexes=void 0,e.btnAnsCorrect=void 0,e.dict={0:"A. ",1:"B. ",2:"C. ",3:"D. "},e.usedCount=0,e.timeLeft=0,e.currentDrops=0,e.skipsLeft=k,e.skimsLeft=L,e.shieldsLeft=A,e}s(e,t);var o=e.prototype;return o.onLoad=function(){},o.onEnable=function(){this.buttonShield.node.on(f.EventType.CLICK,this.activateShield,this),this.buttonSkip.node.on(f.EventType.CLICK,this.skipQuiz,this),this.buttonSkimAns.node.on(f.EventType.CLICK,this.skimAnswers,this),this.buttonBack.node.on(f.EventType.CLICK,this.showPopupBack,this)},o.onDisable=function(){this.buttonShield.node.off(f.EventType.CLICK,this.activateShield,this),this.buttonSkip.node.off(f.EventType.CLICK,this.skipQuiz,this),this.buttonSkimAns.node.off(f.EventType.CLICK,this.skimAnswers,this),this.buttonBack.node.off(f.EventType.CLICK,this.showPopupBack,this)},o.start=function(){this.setCurState(Gt.INIT)},o.update=function(t){},o.setCurState=function(t){switch(t){case Gt.INIT:this.init();break;case Gt.RESET:this.resetGame();case Gt.PLAYING:G.inst.playOneShot(Q.quizStart),this.showNextQuestion(),1!=this.story.node.active&&K.emit(O.onButtonHint,U.QuizGame),setTimeout((function(){G.inst.play(Q.quizBGM)}),1e3);break;case Gt.END:this.mainChar.hp<=0?this.showPopupLose():this.endGameWin()}},o.init=function(){switch(this.popup.quizManager=this,this.story.quizManager=this,this.shuffledIndexes=Array.from(Array(this.buttonNodes.length).keys()),this.setBoostersCost(),T.currentLevel){case 3:this.level=1;break;case 5:this.level=2;break;default:case 1:this.level=0}this.setUpLevel()},o.setUpLevel=function(){var t=this,e=z[this.level],i=e.mcName,s=e.hp,n=e.atk,o=e.enemyName,r=e.enemyHp,a=e.enemyAtk;this.mainChar.setUpChar(i,s,n),this.enemy.setUpChar(o,r,a),this.enemy.setCharSprite(this.level),this.story.setStoryChars(i,o,this.level),this.loadBG(),m.load("JSON/questions",b,(function(e,i){for(var s=0;s<i.json.length;s++){var n=i.json[s];if(n.level==t.level){var o=new Qt(n.lastAnsIdx,n.question,[n.ans0,n.ans1,n.ans2,n.ans3]);t.questions.push(o)}}t.resetGame()}))},o.resetGame=function(){this.currentDrops=T.waterDrops,this.currentDrops||(this.currentDrops=0),this.resetBoostersUses(),this.updateDropsDisplay(),this.mainChar.resetStats(),this.enemy.resetStats(),this.usedCount=0,this.questions.forEach((function(t){t.used=!1})),this.showStory()},o.showNextQuestion=function(){var t=this,e=this.getRandomQuestion();e.used=!0,this.usedCount++,this.labelQuestion.string=e.question,this.randomizeAnsOrder(e.lastAnsIdx);var i=0;this.buttonNodes.forEach((function(s){var n=t.shuffledIndexes[i];0==n&&(t.btnAnsCorrect=s.getComponent(N),t.story.ansButton.getComponentInChildren(p).string=t.dict[i]+e.answers[n]),s.getComponent(N).resetButton(t.dict[i]+e.answers[n]),s.on(f.EventType.CLICK,(function(){t.onAnswerSelected(n,s.getComponent(N))}),t),i++})),this.mainChar.toggleShield(!1),this.buttonShield.updateButton(this.shieldsLeft,this.currentDrops>I&&this.shieldsLeft>0),this.overlay.active=!1,this.startCountdown()},o.randomizeAnsOrder=function(t){if(this.shuffledIndexes.sort((function(){return Math.random()-.5})),-1!=t)for(var e=0;e<this.shuffledIndexes.length;e++)if(this.shuffledIndexes[e]==t)return this.shuffledIndexes.splice(e,1),void this.shuffledIndexes.push(t)},o.getRandomQuestion=function(){if(!T.storyCompleteStatus.scene4&&0==this.level)return this.questions[0];var t=-1;do{t=y(0,this.questions.length)}while(1==this.questions[t].used&&this.usedCount<this.questions.length);return this.questions[t]},o.onAnswerSelected=function(t,e){void 0===e&&(e=this.btnAnsCorrect),this.timeLeft<=0?console.log("xdd blocked"):(this.overlay.active=!0,this.unscheduleAllCallbacks(),0==t?(G.inst.playOneShot(Q.quizCorrectAns),e.showCorrect(),this.mainChar.animateAttack(this.enemy,this,this.checkEndGame)):(G.inst.playOneShot(Q.quizWrongAns),e.showWrong(),this.btnAnsCorrect.showCorrect(),this.enemy.animateAttack(this.mainChar,this,this.checkEndGame)))},o.checkEndGame=function(){if(T.storyCompleteStatus.scene4||0!=this.level)return this.mainChar.hp<=0||this.enemy.hp<=0?(this.unscheduleAllCallbacks(),void this.setCurState(Gt.END)):void this.scheduleOnce(this.showNextQuestion,1)},o.restartGame=function(){this.setCurState(Gt.RESET)},o.endGameWin=function(){T.waterDrops=this.currentDrops,T.maxLevel=Math.max(T.currentLevel+1,T.maxLevel),M.postScore({score:T.currentLevel,userId:T.userId,maxLevel:T.maxLevel,waterDrops:T.waterDrops}),this.showPopupWin()},o.backToMap=function(){C.loadScene("home")},o.loadBG=function(){this.spriteBG.spriteFrame=this.bgSpriteFrames[this.level]},o.setBoostersCost=function(){this.buttonSkip.setButtonCost(D),this.buttonSkimAns.setButtonCost(B),this.buttonShield.setButtonCost(I)},o.resetBoostersUses=function(){this.skipsLeft=k,this.skimsLeft=L,this.shieldsLeft=A},o.activateShield=function(){G.inst.playOneShot(Q.quizShield),this.currentDrops<I||this.shieldsLeft<1||(this.shieldsLeft--,this.currentDrops-=I,this.updateDropsDisplay(),this.mainChar.toggleShield(!0))},o.skimAnswers=function(){if(G.inst.playOneShot(Q.quizSkim),!(this.currentDrops<B||this.skimsLeft<1)){this.skimsLeft--,this.currentDrops-=B,this.updateDropsDisplay();for(var t=0,e=0;e<this.buttonNodes.length;e++){if(t>1)return;0!=this.shuffledIndexes[e]&&(this.buttonNodes[e].active=!1,t++)}}},o.skipQuiz=function(){G.inst.playOneShot(Q.quizSkip),this.currentDrops<D||this.skipsLeft<1||(this.skipsLeft--,this.currentDrops-=D,this.updateDropsDisplay(),this.showNextQuestion())},o.updateDropsDisplay=function(){this.labelDrops.string=this.currentDrops.toString(),this.buttonSkip.updateButton(this.skipsLeft,this.currentDrops>D&&this.skipsLeft>0),this.buttonSkimAns.updateButton(this.skimsLeft,this.currentDrops>B&&this.skimsLeft>0),this.buttonShield.updateButton(this.shieldsLeft,this.currentDrops>I&&this.shieldsLeft>0)},o.startCountdown=function(){this.timeLeft=E,this.labelTime.string=this.timeLeft.toString(),T.storyCompleteStatus.scene4&&this.schedule(this.reduceTime,1,E-1)},o.reduceTime=function(){this.timeLeft-=1,this.labelTime.string=this.timeLeft.toString(),this.timeLeft<=0&&(this.overlay.active=!0,this.btnAnsCorrect.showCorrect(),this.enemy.animateAttack(this.mainChar,this,this.checkEndGame))},o.showPopupLose=function(){this.unscheduleAllCallbacks(),this.popup.showPopupLose()},o.showPopupBack=function(){this.popup.showPopupMenu()},o.showPopupWin=function(){this.unscheduleAllCallbacks(),this.popup.showPopupWin()},o.showStory=function(){switch(this.story.node.active=!0,this.level){case 0:return void(T.storyCompleteStatus.scene4?(this.story.setStateInactive(),this.setCurState(Gt.PLAYING)):this.story.showQuizStory(q.Scene_4_13A));case 1:return void(T.storyCompleteStatus.scene7?(this.story.setStateInactive(),this.setCurState(Gt.PLAYING)):this.story.showQuizStory(q.Scene_7_16));case 2:return void(T.storyCompleteStatus.scene10?(this.story.setStateInactive(),this.setCurState(Gt.PLAYING)):this.story.showQuizStory(q.Scene_10_19A))}},o.getCorrectBtnNode=function(){return this.btnAnsCorrect.node},o.cheatDrops=function(t){this.currentDrops=t,this.updateDropsDisplay()},e}(S)).prototype,"level",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yt=e(mt.prototype,"mainChar",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(mt.prototype,"enemy",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(mt.prototype,"spriteBG",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(mt.prototype,"bgSpriteFrames",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=e(mt.prototype,"labelDrops",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(mt.prototype,"buttonBack",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=e(mt.prototype,"buttonSkip",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=e(mt.prototype,"buttonSkimAns",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=e(mt.prototype,"buttonShield",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=e(mt.prototype,"labelTime",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=e(mt.prototype,"labelQuestion",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=e(mt.prototype,"buttonNodes",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bt=e(mt.prototype,"questions",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Et=e(mt.prototype,"story",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=e(mt.prototype,"popup",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=e(mt.prototype,"overlay",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=mt))||dt));o._RF.pop()}}}));

System.register("chunks:///_virtual/QuizStory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Story.ts","./QuizManager.ts","./UserProfile.ts","./EventManager.ts","./ButtonHint.ts"],(function(t){var e,i,n,a,s,o,c,r,h,u,l,p,m,S,_,y,b,C,g,v,d,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,c=t.js,r=t.Node,h=t.Vec3,u=t.Button,l=t.resources,p=t.SpriteFrame,m=t.UITransform,S=t.Sprite},function(t){_=t.State,y=t.SpriteFrameId,b=t.Story},function(t){C=t.GameState},function(t){g=t.userProfile},function(t){v=t.eventManager,d=t.EventName},function(t){B=t.ButtonHintState}],execute:function(){var f,N,k,P,z,A,M;s._RF.push({},"b6d69ZQ/4xP+odHBdyVSgp2","QuizStory",void 0);var T=o.ccclass,G=o.property,w=c.array.contains,H=[{content_3_13A:"Ngi l tn no? Sao li c th n c khu vc ny?",content_3_13AB:"Ta n y  nh bi ngi v gii cu Tri t!",content_3_13D:" nh bi CaKi, bn cn tr li ng cc cu hi m hn a ra.",content_3_13E:"Pha di l cc cu tr li kh dng, hy th no.",content_3_13F:"Vi mi cu tr li ng, bn s c c hi tn cng k ch."},{content_7_16:"Ngi bit ta l ai khng m dm xm nhp vo y. Ta l ONi - qui vt ca s  nhim nc, cnh tay phi ca ngi GoBa v s l k nh bi ngi."},{content_10_19A:"nh bi cc thuc h ca ta th ngi qu tht khng tm thng.",content_10_19B:"Ta n y l  tiu dit ngi GoBa!"}];t("QuizStory",(f=T("QuizStory"),N=G(r),k=G(r),f((A=e((z=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"uiContainer",A,a(e)),n(e,"ansButton",M,a(e)),e.quizManager=void 0,e.mcName=void 0,e.enemyName=void 0,e}i(e,t);var s=e.prototype;return s.start=function(){this.background.node.active=!1,this.earth.node.active=!1},s.update=function(t){},s.setState=function(t){var e=this;switch(this.state=t,t){case _.Inactive:this.node.active=!1,this.uiContainer.active=!0,this.quizManager.updateDropsDisplay();break;case _.Scene_4_13A:this.blockInput.enabled=!0,this.uiContainer.active=!1,this.MC.node.active=!0,this.MC.grayscale=!0,this.MC.spriteFrame=this.spriteFrames[y.McAngry],this.NPC.node.active=!0,this.NPC.grayscale=!1,this.NPCPortrait.active=!1,this.speechName.string=this.enemyName,this.speechBubble.active=!0,this.speechBubble.position=new h(0,-200,0),this.setLabelAnimation(H[0].content_3_13A,this.speechContentRichText),this.setGrayScale(!1),v.emit(d.onButtonHint,B.Story);break;case _.Scene_4_13B:this.NPC.grayscale=!0,this.showMCSpeech(y.McAngryTalk,H[0].content_3_13AB);break;case _.Scene_4_13C:this.MC.node.active=!1,this.NPC.node.active=!1,this.speechBubble.active=!1,this.uiContainer.active=!0,this.quizManager.setCurState(C.PLAYING),setTimeout((function(){e.setState(_.Scene_4_13D)}),1500);break;case _.Scene_4_13D:this.setGrayScale(!0,["Sprite-QuestionBG"]),this.showNPCPortraitSpeech(H[0].content_3_13D),this.speechBubble.position=new h(50,200,0);break;case _.Scene_4_13E:this.setGrayScale(!1),this.setLabelAnimation(H[0].content_3_13E,this.speechContentRichText),this.background.node.active=!0,this.ansButton.active=!0,this.ansButton.on(u.EventType.CLICK,this.finishTutorial,this),v.emit(d.onButtonHint,B.QuizGame);break;case _.Scene_4_13F:this.blockInput.enabled=!1,this.background.node.active=!1,this.ansButton.active=!1,this.setGrayScale(!0,["Sprite-MC","Sprite-Enemy"]),this.setLabelAnimation(H[0].content_3_13F,this.speechContentRichText),this.speechBubble.position=new h(0,-150,0),v.emit(d.onButtonHint,B.Story);break;case _.Scene_4_13G:setTimeout((function(){e.setGrayScale(!1),g.storyCompleteStatus.scene4=!0,e.hideStory(),v.emit(d.onButtonHint,B.QuizGame)}),3001);break;case _.Scene_7_16:this.blockInput.enabled=!0,this.uiContainer.active=!1,this.MC.grayscale=!0,this.speechBubble.active=!0,this.speechName.string=this.enemyName,this.setLabelAnimation(H[1].content_7_16,this.speechContentRichText),v.emit(d.onButtonHint,B.Story);break;case _.Scene_8_17A:g.storyCompleteStatus.scene7=!0,this.hideStory(),v.emit(d.onButtonHint,B.QuizGame);break;case _.Scene_10_19A:this.blockInput.enabled=!0,this.uiContainer.active=!1,this.MC.grayscale=!0,this.speechBubble.active=!0,this.speechName.string=this.enemyName,this.setLabelAnimation(H[2].content_10_19A,this.speechContentRichText),v.emit(d.onButtonHint,B.Story);break;case _.Scene_10_19B:this.MC.grayscale=!1,this.NPC.grayscale=!0,this.speechName.string=this.mcName,this.setLabelAnimation(H[2].content_10_19B,this.speechContentRichText);break;case _.Scene_11_20A:g.storyCompleteStatus.scene10=!0,this.hideStory(),v.emit(d.onButtonHint,B.QuizGame)}},s.showQuizStory=function(t){this.setState(t)},s.setStoryChars=function(t,e,i){var n=this;this.mcName=t,this.enemyName=e;var a="sprites/home/Boss_Lv"+i.toString()+"/spriteFrame";l.load(a,p,(function(t,e){switch(i){case 0:n.NPC.getComponent(m).setContentSize(430.1,550);break;case 1:n.NPC.getComponent(m).setContentSize(1248.5,550);break;case 2:n.NPC.getComponent(m).setContentSize(557.7,550)}n.NPC.node.setPosition(new h(550,-100,0)),n.NPC.spriteFrame=e}))},s.finishTutorial=function(){this.quizManager.onAnswerSelected(0),this.setState(_.Scene_4_13F)},s.hideStory=function(){this.quizManager.setCurState(C.PLAYING),this.speechBubble.active=!1,this.MC.node.active=!1,this.NPC.node.active=!1,this.uiContainer.active=!0,this.node.active=!1},s.setGrayScale=function(t,e){void 0===e&&(e=null),this.uiContainer.getComponentsInChildren(S).forEach((function(i){t?w(e,i.node.name)||"Sprite-Hit"==i.node.name?i.grayscale=!1:i.grayscale=!0:i.grayscale=!1}))},e}(b)).prototype,"uiContainer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(z.prototype,"ansButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShieldEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,i,r,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Sprite,r=e.Color,s=e.tween,c=e.Component}],execute:function(){var l;n._RF.push({},"0b397JqdE1OZLWW8G2WdsyK","ShieldEffect",void 0);var a=o.ccclass;o.property,e("ShieldEffect",a("ShieldEffect")(l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).shieldSprite=void 0,t.shieldTween=void 0,t}t(n,e);var o=n.prototype;return o.start=function(){},o.onEnable=function(){this.shieldSprite||(this.shieldSprite=this.getComponent(i));var e=this.shieldSprite,t=new r(255,255,255,255),n=s(t).to(1.5,{r:255,g:255,b:255,a:50},{onUpdate:function(t){e.color=t}}).to(1.5,{r:255,g:255,b:255,a:230},{onUpdate:function(t){e.color=t}});this.shieldTween=s(t).repeatForever(n).start()},o.onDisable=function(){this.shieldTween.stop()},o.update=function(e){},n}(c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./EventManager.ts","./UserProfile.ts"],(function(e){var t,n,a,o,r,i,u,l,s,c,p,d,g,f,h,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,u=e.Node,l=e.director,s=e.tween,c=e.Vec3,p=e.Tween,d=e.Component},function(e){g=e.AudioMgr,f=e.AudioDefine},function(e){h=e.eventManager,b=e.EventName},function(e){y=e.userProfile}],execute:function(){var m,v,B,w,I,S,z,A,M;r._RF.push({},"74dab9+9tBMCYHzimuwDzuH","start",void 0);var D=i.ccclass,L=i.property;e("start",(m=D("start"),v=L(u),B=L(u),w=L(u),m((z=t((S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,a(t,"earthImage",z,o(t)),a(t,"playButton",A,o(t)),a(t,"leaderboardButton",M,o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){console.log("ver 0.0.13"),l.preloadScene("home"),l.preloadScene("leaderboard")},r.onEnable=function(){g.inst.play(f.menuBGM),s(this.earthImage).to(3,{position:new c(0,10,0)},{easing:"quadInOut"}).to(3,{position:new c(0,-10,0)},{easing:"quadInOut"}).union().repeatForever().start(),s(this.earthImage).to(3.5,{eulerAngles:new c(0,0,1)},{easing:"sineInOut"}).to(3.5,{eulerAngles:new c(0,0,-1)},{easing:"sineInOut"}).union().repeatForever().start(),this.playButton.active=!1,this.leaderboardButton.active=!1},r.onDisable=function(){g.inst.stop(),p.stopAllByTarget(this.earthImage)},r.start=function(){},r.update=function(e){y.isReady&&(this.playButton.active=!0,this.leaderboardButton.active=!0)},r.onClickStart=function(){g.inst.playOneShot(f.tapButton),l.loadScene("home"),h.emit(b.changeLoadingVisible,!0)},r.onClickLeaderboard=function(){g.inst.playOneShot(f.tapButton),l.loadScene("leaderboard"),h.emit(b.changeLoadingVisible,!0)},t}(d)).prototype,"earthImage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(S.prototype,"playButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(S.prototype,"leaderboardButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/StatsBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./EventManager.ts"],(function(e){var t,a,n,r,o,i,l,c,s,u,h,p,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,l=e.Label,c=e.Node,s=e.Sprite,u=e.UIOpacity,h=e.Component},function(e){p=e.userProfile},function(e){d=e.eventManager,g=e.EventName}],execute:function(){var f,P,y,w,C,b,m,H,M;o._RF.push({},"27e96+kZ9ZFH4C89KySTlCu","StatsBoard",void 0);var x=i.ccclass,D=i.property;e("StatsBoard",(f=x("StatsBoard"),P=D(l),y=D(l),w=D(c),f((m=t((b=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"waterDropslabel",m,r(t)),n(t,"knowledgePieceLabel",H,r(t)),n(t,"playerHealthContainer",M,r(t)),t.knowledgePiecesMax=0,t.knowledfePieces=0,t}a(t,e);var o=t.prototype;return o.onEnable=function(){d.on(g.onWaterDropChange,this.updateWaterDrops,this),d.on(g.onPlayerMaxHealthChange,this.updatePlayerMaxHealth,this),d.on(g.onPlayerCurrentHealthChange,this.updatePlayerCurrentHealth,this),d.on(g.onKnowledgePieceMaxChange,this.updateKnowledgePieceMax,this),d.on(g.onKnowledgePieceChange,this.updateKnowledgePiece,this)},o.onDisable=function(){d.off(g.onWaterDropChange,this.updateWaterDrops,this),d.off(g.onPlayerMaxHealthChange,this.updatePlayerMaxHealth,this),d.off(g.onPlayerCurrentHealthChange,this.updatePlayerCurrentHealth,this),d.off(g.onKnowledgePieceMaxChange,this.updateKnowledgePieceMax,this),d.off(g.onKnowledgePieceChange,this.updateKnowledgePiece,this)},o.updateWaterDrops=function(){this.waterDropslabel.string=""+(p.waterDrops+p.mazeGameSection.waterDrops)},o.updatePlayerMaxHealth=function(){this.playerHealthContainer.children.forEach((function(e,t){e.active=t<p.mazeGameSection.playerMaxHealth}))},o.updatePlayerCurrentHealth=function(){this.playerHealthContainer.children.forEach((function(e,t){var a=t<p.mazeGameSection.playerCurrentHealth,n=e.getComponent(s);n&&(n.grayscale=!a);var r=e.getComponent(u);r&&(r.opacity=a?255:150)}))},o.updateKnowledgePieceMax=function(){this.updateKnowledgePiece()},o.updateKnowledgePiece=function(){this.knowledgePieceLabel.string=p.mazeGameSection.knowledgePieces+"/"+p.mazeGameSection.knowledgePiecesMax},t}(h)).prototype,"waterDropslabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(b.prototype,"knowledgePieceLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(b.prototype,"playerHealthContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/Story.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./EventManager.ts","./Popup.ts","./ButtonHint.ts"],(function(e){var t,n,i,c,a,s,h,o,r,_,l,u,S,p,b,m,g,v,C,y,d,f,k,N,T,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,h=e.SpriteFrame,o=e.BlockInputEvents,r=e.Sprite,_=e.Node,l=e.Label,u=e.RichText,S=e.Camera,p=e.Tween,b=e.resources,m=e.Input,g=e.input,v=e.KeyCode,C=e.tween,y=e.Color,d=e.Component},function(e){f=e.userProfile},function(e){k=e.eventManager,N=e.EventName},function(e){T=e.Popup},function(e){B=e.ButtonHintState}],execute:function(){var w,P,A,H,L,G,E,M,x,z,D,F,O,I,R,K,j,q,U,W,V,X,Y,$,J,Q,Z,ee,te,ne,ie,ce,ae,se,he,oe,re;a._RF.push({},"4960fuq1h9Pi7eErNV6jU3w","Story",void 0);var _e=s.ccclass,le=s.property,ue="Hip S PoWa",Se="Nina",pe="Tri t ang dn b  nhim nng? C chuyn g ang xy ra?",be="Tri t ang b mt binh on qui vt xm chim, chng c m mu tiu dit mi s sng ni y.",me="Cm u binh on qui vt l GoBa, hn cng cc tn thuc h ang \ndn <color=#ff0000>hy hoi</color> ngun nc sch ca Tri t.",ge="Xin hy gip  chng ti! <color=#ff0000>Khng c ngun nc sch, s sng trn \nTri t s b e da!</color>",ve="Xin hy ni ti bit rng lm sao  c th nh bi GoBa.",Ce=" tiu dit c GoBa v cc thuc h ca hn, bn cn phi c trang b nhng bo vt v b kp nng cp sc mnh bn thn.",ye="Nhng b kp ny c giu  khp ni trn Tri t. Thu thp chng gip gia tng sc mnh v tr tu, mi c th nh ui qui vt.",de="B kp u tin chnh l B kp S dng nc hiu qu - c giu su trong Hang ng Sui Ngun. Ni y tng l ngun cung cp nc ca c hnh tinh, nhng gi  b xm chim bi thuc h ca GoBa.",fe="Thu c b kp ny s gip Hip s s dng nc tit kim v hiu qu, gia tng st thng v kh nng chin u!",ke="Bn cn thu thp  3 mnh ca B kp, chng s gip nng cp sc mnh v h tr bn h gc GoBa v m thuc h!",Ne="Lu  hy n trnh bn lu la ca GoBa v thu thp tht nhiu git nc  nhn c h tr t ngun nc.",Te="Chng ng ca chng ta ch mi bt u. Mun nh bi GoBa chng ta phi vt qua Sa Mc Nng Chy trc mt. y l ni m tng CaKi ang nm quyn kim sot.",Be="Hn ta l 1 trong 2 tn tng lnh gh gm ca GoBa. CaKi c kh nng ht cn nc  bt c ni u, lm suy kit ngun nc trn Tri t, bin khp mi ni thnh Sa Mc. nh bi hn, con ngi mi c y  nc dng!",we="Xin Hip s hy cn thn vi cc la chn ca mnh khi giao chin vi CaKi!",Pe="Sau khi h gc CaKi, bn c th thy tnh trng cn kit nc ca Tri t  c ci thin rt nhiu. Tuy vy, mc tiu ca chng ta cn phi nh ui GoBa v b l tay sai qui c. \n\nHy tip tc hnh trnh thu thp kin thc  tiu dit qui vt v gii cu Tri t nha!",Ae="Chc mng Hip s  tiu dit c CaKi. Ngun nc trn Tri t ang dn c hi phc.",He="C v nh vic nh bi CaKi  chc tc GoBa, hn ta  ra lnh cho tng ONi tng cng u c tt c ngun nc trn Tri t cng lc khin bt c ai s dng nc u b nhim bnh v suy gim sc khe.",Le="By gi chng ta cn tm kim Bo vt My lc nc  lc sch nc, m bo cht lng cho mi ngi!",Ge="B Kp Lc Nc l cun b kp gip c th Lc sch cht bn ca nc. Tuy nhin bo vt ny ang b phong n ti Lu i Rc Thi v c canh phng v cng nghim ngt.",Ee="Hy ln vo Lu i v cng ot li cun b kp   chng ta c th lc sch nc!",Me="Cm n Hip s! Mi ngi  c nc sch  dng, t  sc khe  c ci thin hn!",xe="B Kp Lc Nc ch c th cm c tm thi vi sc mnh ca qui vt. Chng s li tng cng gy  nhim! Mun thc s gii quyt c vn  nc sch, chng ta cn phi nh bi tn qui vt ca s  nhim - ONi.",ze="Sau khi h gc ONi, bn c th thy tnh trng  nhim ca Tri t  c ci thin rt nhiu. Khi ny, GoBa  mt c hai tay sai c lc ca mnh, hn quyt nh t ra mt. Hy tip tc hnh trnh thu thp kin thc v sc mnh v GoBa l k nguy him nht.",De="Hip s i, GoBa ang tr nn in cung. Hn nh qut sch mi th. Hn h ma gi gi, tng nhit  Tri t khin bng 2 cc tan nhanh hn, gia tng thin tai khin con ngi khng th sinh sng.",Fe="Chng ta phi ln ng tiu dit hn thi, nhng ch vi sc mnh hin ti th cha . Chng ta cn n B Kp e-Pro Water! Hip s hy ln ng ti ....  tm v thu thp B Kp e-Pro Water nh!",Oe="Chc mng Hip s, vi B kp ny, gi bn  tr thnh Hip s \ne-ProWater chn chnh! Hy nh bi GoBa v gii cu cho ngun nc ca ton Tri t thi no!",Ie="Bn  nh bi GoBa cng cc thuc h ca hn, Tri t  trong xanh tr li.",Re=2,Ke=4,je=e("State",function(e){return e[e.Inactive=0]="Inactive",e[e.Scene_1_1=1]="Scene_1_1",e[e.Scene_1_2=2]="Scene_1_2",e[e.Scene_1_3=3]="Scene_1_3",e[e.Scene_1_4=4]="Scene_1_4",e[e.Scene_1_5=5]="Scene_1_5",e[e.Scene_1_6=6]="Scene_1_6",e[e.Scene_1_7_1=7]="Scene_1_7_1",e[e.Scene_1_7_2=8]="Scene_1_7_2",e[e.Scene_1_8_1=9]="Scene_1_8_1",e[e.Scene_1_8_3=10]="Scene_1_8_3",e[e.Scene_1_8_4=11]="Scene_1_8_4",e[e.Scene_2_1=12]="Scene_2_1",e[e.Scene_2_2=13]="Scene_2_2",e[e.Scene_2_3=14]="Scene_2_3",e[e.Scene_3_1=15]="Scene_3_1",e[e.Scene_3_2=16]="Scene_3_2",e[e.Scene_3_3=17]="Scene_3_3",e[e.Scene_3_4=18]="Scene_3_4",e[e.Scene_4_13A=19]="Scene_4_13A",e[e.Scene_4_13B=20]="Scene_4_13B",e[e.Scene_4_13C=21]="Scene_4_13C",e[e.Scene_4_13D=22]="Scene_4_13D",e[e.Scene_4_13E=23]="Scene_4_13E",e[e.Scene_4_13F=24]="Scene_4_13F",e[e.Scene_4_13G=25]="Scene_4_13G",e[e.Scene_5_14A=26]="Scene_5_14A",e[e.Scene_5_14B=27]="Scene_5_14B",e[e.Scene_5_14C=28]="Scene_5_14C",e[e.Scene_5_14D=29]="Scene_5_14D",e[e.Scene_5_14E=30]="Scene_5_14E",e[e.Scene_5_14F=31]="Scene_5_14F",e[e.Scene_5_14G=32]="Scene_5_14G",e[e.Scene_5_14H=33]="Scene_5_14H",e[e.Scene_6_15A=34]="Scene_6_15A",e[e.Scene_6_15B=35]="Scene_6_15B",e[e.Scene_6_15C=36]="Scene_6_15C",e[e.Scene_6_15D=37]="Scene_6_15D",e[e.Scene_7_16=38]="Scene_7_16",e[e.Scene_8_17A=39]="Scene_8_17A",e[e.Scene_8_17B=40]="Scene_8_17B",e[e.Scene_8_17C=41]="Scene_8_17C",e[e.Scene_8_17D=42]="Scene_8_17D",e[e.Scene_8_17E=43]="Scene_8_17E",e[e.Scene_8_17F=44]="Scene_8_17F",e[e.Scene_9_18A=45]="Scene_9_18A",e[e.Scene_9_18B=46]="Scene_9_18B",e[e.Scene_10_19A=47]="Scene_10_19A",e[e.Scene_10_19B=48]="Scene_10_19B",e[e.Scene_11_20A=49]="Scene_11_20A",e[e.Scene_11_20B=50]="Scene_11_20B",e[e.Scene_11_20C=51]="Scene_11_20C",e[e.Scene_11_20D=52]="Scene_11_20D",e}({})),qe=e("SpriteFrameId",function(e){return e[e.Mc=0]="Mc",e[e.McAngry=1]="McAngry",e[e.McAngryTalk=2]="McAngryTalk",e[e.McSad=3]="McSad",e[e.NpcHappy=4]="NpcHappy",e[e.NpcSad=5]="NpcSad",e[e.NpcTalk=6]="NpcTalk",e}({}));e("Story",(w=_e("Story"),P=le({type:h}),A=le(o),H=le(r),L=le(r),G=le(r),E=le(r),M=le(r),x=le(_),z=le(_),D=le(_),F=le(l),O=le(l),I=le(u),R=le(u),K=le(S),j=le(S),q=le(T),w((V=t((W=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"spriteFrames",V,c(t)),i(t,"blockInput",X,c(t)),i(t,"background",Y,c(t)),i(t,"overlay",$,c(t)),i(t,"earth",J,c(t)),i(t,"MC",Q,c(t)),i(t,"NPC",Z,c(t)),i(t,"miniNPC",ee,c(t)),i(t,"NPCPortrait",te,c(t)),i(t,"speechBubble",ne,c(t)),i(t,"speechName",ie,c(t)),i(t,"speechContent",ce,c(t)),i(t,"speechContentRichText",ae,c(t)),i(t,"narrationRichText",se,c(t)),i(t,"mazeGameCameraGame",he,c(t)),i(t,"mazeGameCameraUI",oe,c(t)),i(t,"popup",re,c(t)),t.state=0,t.labelTweenObject={length:0,isDone:!1,label:null,text:"",texts:[]},t}n(t,e);var a=t.prototype;return a.onEnable=function(){this.onListenerTouchStart()},a.onDisable=function(){p.stopAllByTarget(this.labelTweenObject),this.offListenerTouchStart(),k.emit(N.onButtonHint,B.None)},a.start=function(){b.preload("sprites/story/NPC_Happy/spriteFrame"),b.preload("sprites/story/NPC_Sad/spriteFrame"),b.preload("sprites/story/NPC_Talk/spriteFrame")},a.update=function(e){},a.setState=function(e){var t=this;switch(this.state=e,this.state){case je.Inactive:this.node.active=!1;break;case je.Scene_1_1:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),this.background.node.active=!0,this.earth.node.active=!0,setTimeout((function(){t.setState(je.Scene_1_2)}),2e3);break;case je.Scene_1_2:k.emit(N.onButtonHint,B.Story),this.MC.node.active=!0,this.MC.grayscale=!1,this.MC.spriteFrame=this.spriteFrames[qe.McSad],this.speechBubble.active=!0,this.speechName.string=ue,this.setLabelAnimation(pe,this.speechContent);break;case je.Scene_1_3:this.MC.grayscale=!0,this.NPC.node.active=!0,this.NPC.grayscale=!1,this.speechName.string=Se,this.showNPCSpeech(qe.NpcSad,be,this.speechContent);break;case je.Scene_1_4:this.speechContent.string="",this.setLabelAnimation(me,this.speechContentRichText);break;case je.Scene_1_5:this.setLabelAnimation(ge,this.speechContentRichText);break;case je.Scene_1_6:this.MC.grayscale=!1,this.MC.spriteFrame=this.spriteFrames[qe.McAngryTalk],this.NPC.grayscale=!0,this.speechName.string=ue,this.speechContentRichText.string="",this.setLabelAnimation(ve,this.speechContent);break;case je.Scene_1_7_1:this.background.node.active=!1,this.earth.node.active=!1,this.MC.node.active=!1,this.MC.grayscale=!0,this.NPC.grayscale=!1,this.speechName.string=Se,this.showNPCSpeech(qe.NpcTalk,Ce,this.speechContent);break;case je.Scene_1_7_2:this.setLabelAnimation(ye,this.speechContent);break;case je.Scene_1_8_1:this.NPC.node.active=!1,this.miniNPC.active=!0,this.setLabelAnimation(de,this.speechContent);break;case je.Scene_1_8_3:this.setLabelAnimation(fe,this.speechContent);break;case je.Scene_1_8_4:this.miniNPC.active=!1,this.speechBubble.active=!1,k.emit(N.onButtonHint,B.None),k.emit(N.onShowHandOnLevel,(function(){f.storyCompleteStatus.scene1=!0})),this.offListenerTouchStart();break;case je.Scene_2_1:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),k.emit(N.onButtonHint,B.Story),this.speechBubble.active=!0,this.speechName.string=Se,this.setLabelAnimation(ke,this.speechContent),this.miniNPC.active=!0,k.emit(N.changeKnowledgePieceIndicatorVisible,!0),this.mazeGameCameraGame&&(this.mazeGameCameraGame.visibility|=Re,this.mazeGameCameraGame.visibility^=Re),this.mazeGameCameraUI&&(this.mazeGameCameraUI.visibility|=Ke,this.mazeGameCameraUI.visibility^=Ke);break;case je.Scene_2_2:this.setLabelAnimation(Ne,this.speechContent),k.emit(N.changeKnowledgePieceIndicatorVisible,!1),this.mazeGameCameraGame&&(this.mazeGameCameraGame.visibility|=Re);break;case je.Scene_2_3:this.mazeGameCameraUI&&(this.mazeGameCameraUI.visibility|=Ke),f.storyCompleteStatus.scene2=!0,this.setStateInactive();break;case je.Scene_3_1:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),k.emit(N.onButtonHint,B.Story),this.speechBubble.active=!0,this.speechName.string=Se,this.showNPCSpeech(qe.NpcTalk,Te,this.speechContent);break;case je.Scene_3_2:this.setLabelAnimation(Be,this.speechContent);break;case je.Scene_3_3:this.setLabelAnimation(we,this.speechContent);break;case je.Scene_3_4:this.NPC.node.active=!1,this.speechBubble.active=!1,k.emit(N.onButtonHint,B.None),k.emit(N.onShowHandOnLevel,(function(){f.storyCompleteStatus.scene3=!0})),this.offListenerTouchStart();break;case je.Scene_5_14A:this.showNextEarthState();break;case je.Scene_5_14B:this.showNarration(Pe,5);break;case je.Scene_5_14C:this.overlay.node.active=!1,this.narrationRichText.node.active=!1,this.showNPCSpeech(qe.NpcHappy,Ae,this.speechContent);break;case je.Scene_5_14D:this.showNPCSpeech(qe.NpcTalk,He,this.speechContent);break;case je.Scene_5_14E:this.setLabelAnimation(Le,this.speechContent);break;case je.Scene_5_14F:this.setLabelAnimation(Ge,this.speechContent);break;case je.Scene_5_14G:this.setLabelAnimation(Ee,this.speechContent);break;case je.Scene_5_14H:this.NPC.node.active=!1,this.speechBubble.active=!1,k.emit(N.onButtonHint,B.None),k.emit(N.onShowHandOnLevel,(function(){f.storyCompleteStatus.scene5=!0})),this.offListenerTouchStart();break;case je.Scene_6_15A:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),k.emit(N.onButtonHint,B.Story),this.showNPCSpeech(qe.NpcTalk,Me,this.speechContent);break;case je.Scene_6_15B:this.setLabelAnimation(xe,this.speechContent);break;case je.Scene_6_15C:this.NPC.node.active=!1,this.speechBubble.active=!1,k.emit(N.onButtonHint,B.None),k.emit(N.onShowHandOnLevel,(function(){f.storyCompleteStatus.scene6=!0})),this.offListenerTouchStart();break;case je.Scene_8_17A:this.showNextEarthState();break;case je.Scene_8_17B:this.showNarration(ze,5);break;case je.Scene_8_17C:this.overlay.node.active=!1,this.narrationRichText.node.active=!1,this.showNPCSpeech(qe.NpcSad,De,this.speechContent);break;case je.Scene_8_17D:this.showNPCSpeech(qe.NpcTalk,Fe,this.speechContent);break;case je.Scene_8_17E:this.NPC.node.active=!1,this.speechBubble.active=!1,k.emit(N.onButtonHint,B.None),k.emit(N.onShowHandOnLevel,(function(){f.storyCompleteStatus.scene8=!0})),this.offListenerTouchStart();break;case je.Scene_9_18A:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),k.emit(N.onButtonHint,B.Story),this.showNPCSpeech(qe.NpcTalk,Oe,this.speechContent);break;case je.Scene_9_18B:this.NPC.node.active=!1,this.speechBubble.active=!1,k.emit(N.onButtonHint,B.None),k.emit(N.onShowHandOnLevel,(function(){f.storyCompleteStatus.scene9=!0})),this.offListenerTouchStart();break;case je.Scene_11_20A:this.showNextEarthState();break;case je.Scene_11_20B:this.showNarration(Ie,5);break;case je.Scene_11_20C:this.overlay.node.active=!1,this.narrationRichText.node.active=!1,this.popup.showPopupRank()}},a.setStateInactive=function(){this.setState(je.Inactive)},a.startScene1=function(){this.setState(je.Scene_1_1)},a.startScene2=function(){this.setState(je.Scene_2_1)},a.startScene3=function(){this.setState(je.Scene_3_1)},a.startScene=function(e){this.setState(e)},a.onListenerTouchStart=function(){this.node.on(m.EventType.TOUCH_START,this.onTouchStart,this),g.on(m.EventType.KEY_DOWN,this.onKeyDown,this),this.blockInput.enabled=!0},a.offListenerTouchStart=function(){this.node.off(m.EventType.TOUCH_START,this.onTouchStart,this),g.off(m.EventType.KEY_DOWN,this.onKeyDown,this),this.blockInput.enabled=!1},a.onTouchStart=function(){switch(this.state){case je.Scene_1_2:case je.Scene_1_3:case je.Scene_1_4:case je.Scene_1_5:case je.Scene_1_6:case je.Scene_1_7_1:case je.Scene_1_7_2:case je.Scene_1_8_1:case je.Scene_1_8_3:case je.Scene_4_13A:case je.Scene_4_13B:case je.Scene_4_13D:case je.Scene_4_13F:case je.Scene_5_14B:case je.Scene_5_14C:case je.Scene_5_14D:case je.Scene_5_14E:case je.Scene_5_14F:case je.Scene_5_14G:case je.Scene_6_15A:case je.Scene_6_15B:case je.Scene_7_16:case je.Scene_8_17B:case je.Scene_8_17C:case je.Scene_8_17D:case je.Scene_8_17E:case je.Scene_9_18A:case je.Scene_10_19A:case je.Scene_10_19B:case je.Scene_11_20B:case je.Scene_2_1:case je.Scene_2_2:case je.Scene_3_1:case je.Scene_3_2:case je.Scene_3_3:this.checkLabelAnimationDoneToChangeState(this.state+1)}},a.onKeyDown=function(e){switch(e.keyCode){case v.SPACE:case v.ENTER:this.onTouchStart()}},a.setLabelAnimation=function(e,t,n){var i=this;this.labelTweenObject.texts=e.split(" ");var c=this.labelTweenObject.texts.length;this.labelTweenObject.length=0,this.labelTweenObject.isDone=!1,this.labelTweenObject.label=t,this.labelTweenObject.text=e,C(this.labelTweenObject).to(c/20,{length:c},{onUpdate:function(e){var t=e.label,n=e.length,i=e.texts.slice(0,Math.floor(n)).join(" ");[{check:/<color[^<>]+>[^<>]+$/,add:"</color>"}].forEach((function(e){var t=e.check,n=e.add;i=i.replace(t,(function(e){return""+e+n}))})),t.string=i},onComplete:function(){i.labelTweenObject&&(i.labelTweenObject.isDone=!0)}}).start()},a.checkLabelAnimationDoneToChangeState=function(e){this.labelTweenObject.isDone?this.setState(e):(p.stopAllByTarget(this.labelTweenObject),this.labelTweenObject.isDone=!0,this.labelTweenObject.label.string=this.labelTweenObject.text)},a.showNextEarthState=function(){var e=this;this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),k.emit(N.onButtonHint,B.Story),this.background.node.active=!0,this.earth.node.active=!0,this.overlay.node.active=!0;var t=-1;switch(f.maxLevel){case 2:t=0;break;case 4:t=1;break;case 6:t=2}var n="sprites/start/1stScreen_Earth_"+t+"/spriteFrame",i="sprites/start/1stScreen_Earth_"+(t+1)+"/spriteFrame";b.preload(i),b.load(n,h,(function(t,n){e.earth.spriteFrame=n;var c=e.overlay,a=new y(255,255,255,0);c.color=a,C(a).delay(.5).to(1.5,{r:255,g:255,b:255,a:255},{onUpdate:function(e){c.color=e}}).call((function(){b.load(i,h,(function(t,n){e.earth.spriteFrame=n}))})).to(1.5,{r:255,g:255,b:255,a:0},{onUpdate:function(e){c.color=e}}).delay(1).call((function(){e.setState(e.state+1)})).start()}))},a.showNarration=function(e,t){void 0===t&&(t=-1),this.earth.node.active=!1,this.background.node.active=!1,this.overlay.color=new y(0,0,0,255),this.narrationRichText.node.active=!0,this.setLabelAnimation(e,this.narrationRichText,t)},a.showNPCSpeech=function(e,t,n){void 0===n&&(n=this.speechContentRichText),this.speechBubble.active=!0,this.speechName.string=Se,this.NPC.node.active=!0,this.NPC.grayscale=!1,this.NPC.spriteFrame=this.spriteFrames[e],this.setLabelAnimation(t,n)},a.showNPCPortraitSpeech=function(e,t){void 0===t&&(t=this.speechContentRichText),this.speechBubble.active=!0,this.speechName.string=Se,this.MC.node.active=!1,this.NPC.node.active=!1,this.NPCPortrait.active=!0,this.setLabelAnimation(e,t)},a.showMCSpeech=function(e,t,n){void 0===n&&(n=this.speechContentRichText),this.speechBubble.active=!0,this.speechName.string=ue,this.MC.node.active=!0,this.MC.grayscale=!1,this.MC.spriteFrame=this.spriteFrames[e],this.setLabelAnimation(t,n)},t}(d)).prototype,"spriteFrames",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(W.prototype,"blockInput",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(W.prototype,"background",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(W.prototype,"overlay",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(W.prototype,"earth",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(W.prototype,"MC",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(W.prototype,"NPC",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(W.prototype,"miniNPC",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(W.prototype,"NPCPortrait",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(W.prototype,"speechBubble",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(W.prototype,"speechName",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(W.prototype,"speechContent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(W.prototype,"speechContentRichText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(W.prototype,"narrationRichText",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(W.prototype,"mazeGameCameraGame",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=t(W.prototype,"mazeGameCameraUI",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(W.prototype,"popup",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=W))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/TileMapControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts"],(function(e){var t,r,i,n,l,o,a,s,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.TiledMap,s=e.TiledMapAsset,p=e.Component},function(e){c=e.userProfile}],execute:function(){var u,f,M,y,b,h,d;l._RF.push({},"bd8eb055nZJzqOTRqtLY9lB","TileMapControl",void 0);var T=o.ccclass,v=o.property;e("TileMapControl",(u=T("TileMapControl"),f=v(a),M=v([s]),u((h=t((b=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"tileMap",h,n(t)),i(t,"tileMapAssets",d,n(t)),t}return r(t,e),t.prototype.start=function(){this.tileMap.tmxAsset=this.tileMapAssets[c.currentLevel]},t}(p)).prototype,"tileMap",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(b.prototype,"tileMapAssets",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=b))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/UserItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,o,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Component}],execute:function(){var c,u,p,m,f;a._RF.push({},"a1a25t4eyRJW723BN/S+wGw","UserItem",void 0);var y=o.ccclass,b=o.property;e("UserItem",(c=y("UserItem"),u=b(s),c((f=t((m=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"nameLabel",f,i(t)),t}return r(t,e),t.prototype.setName=function(e){this.nameLabel.string=e},t}(l)).prototype,"nameLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/UserProfile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Api.ts","./EventManager.ts"],(function(e){var t,r,n,s,a,i,o,c;return{setters:[function(e){t=e.extends,r=e.createClass,n=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){i=e.api},function(e){o=e.eventManager,c=e.EventName}],execute:function(){a._RF.push({},"08a12TJUDVL9LtZ6ftBNf7p","UserProfile",void 0);var h={scene1:!1,scene2:!1,scene3:!1,scene4:!1,scene5:!1,scene6:!1,scene7:!1,scene8:!1,scene9:!1,scene10:!1,scene11:!1},l=function(){function e(){var e,t=this;this.isReady=void 0,this.userId=void 0,this.maxLevel=void 0,this.currentLevel=void 0,this.mazeGameSection=new u,this.storyCompleteStatus=void 0,this._waterDrops=void 0,this.isReady=!1,this.reset(!1);var r=window.location.search,a=new URLSearchParams(r);this.userId=parseInt(null!=(e=a.get("user_id"))?e:"0"),n(s().mark((function e(){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getAllUsersInfo();case 2:r=e.sent,n=r.find((function(e){return e.user_id===t.userId})),t.maxLevel=parseInt(null==n?void 0:n.game_level),t.waterDrops=parseInt(null==n?void 0:n.game_water_drop),isNaN(t.maxLevel)&&(t.maxLevel=0),isNaN(t.waterDrops)&&(t.waterDrops=0),t.maxLevel=Math.min(Math.max(t.maxLevel,0),5),t.isReady=!0,console.log(p);case 11:case"end":return e.stop()}}),e)})))()}var a=e.prototype;return a.reset=function(e){void 0===e&&(e=!0),this.maxLevel=0,this.currentLevel=0,this.mazeGameSection.reset(),this.storyCompleteStatus=t({},h),this.waterDrops=0,e&&i.postScore({score:0,userId:this.userId,maxLevel:0,waterDrops:0})},a.updateWaterDrops=function(){this.waterDrops+=this.mazeGameSection.waterDrops,this.mazeGameSection.waterDrops=0},r(e,[{key:"waterDrops",get:function(){return this._waterDrops},set:function(e){this._waterDrops=Math.max(e,0),o.emit(c.onWaterDropChange)}}]),e}(),u=function(){function e(){this._playerMaxHealth=0,this._playerCurrentHealth=0,this._knowledgePiecesMax=0,this._knowledgePieces=0,this._waterDrops=0}return e.prototype.reset=function(){this.playerMaxHealth=0,this.playerCurrentHealth=0,this.knowledgePiecesMax=0,this.knowledgePieces=0,this.waterDrops=0},r(e,[{key:"playerMaxHealth",get:function(){return this._playerMaxHealth},set:function(e){this._playerMaxHealth=Math.max(e,0),o.emit(c.onPlayerMaxHealthChange)}},{key:"playerCurrentHealth",get:function(){return this._playerCurrentHealth},set:function(e){this._playerCurrentHealth=Math.max(e,0),o.emit(c.onPlayerCurrentHealthChange)}},{key:"knowledgePiecesMax",get:function(){return this._knowledgePiecesMax},set:function(e){this._knowledgePiecesMax=Math.max(e,0),o.emit(c.onKnowledgePieceMaxChange)}},{key:"knowledgePieces",get:function(){return this._knowledgePieces},set:function(e){this._knowledgePieces=Math.max(e,0),o.emit(c.onKnowledgePieceChange)}},{key:"waterDrops",get:function(){return this._waterDrops},set:function(e){this._waterDrops=Math.max(e,0),o.emit(c.onWaterDropChange)}}]),e}(),p=e("userProfile",new l);a._RF.pop()}}}));

System.register("chunks:///_virtual/WaterDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./LevelDefine.ts","./Define2.ts"],(function(t){var e,n,i,r,o,a,c,s,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Animation},function(t){s=t.BaseObject},function(t){u=t.ObjectType},function(t){p=t.ObjectLayer}],execute:function(){var l,f,y,D,b;o._RF.push({},"c1edcZnd7VLLqN7DqExGf/K","WaterDrop",void 0);var d=a.ccclass,h=a.property;t("WaterDrop",(l=d("WaterDrop"),f=h(c),l((b=e((D=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"animation",b,r(e)),e.objectType=u.waterDrop,e.objectLayer=p.waterDrop,e}n(e,t);var o=e.prototype;return o.onEnable=function(){var t=this;setTimeout((function(){t.node.active&&t.animation.play()}),500*Math.random()),this.animation.defaultClip.duration},o.onDisable=function(){this.animation.stop()},e}(s)).prototype,"animation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=D))||y));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});