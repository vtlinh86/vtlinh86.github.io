System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,i,t,u,s,n,r,a;return{setters:[function(o){e=o.createClass},function(o){i=o.cclegacy,t=o._decorator,u=o.AudioClip,s=o.resources,n=o.Node,r=o.director,a=o.AudioSource}],execute:function(){i._RF.push({},"e26872y7ypKPpXQXu0mfb2z","AudioMgr",void 0);t.ccclass,t.property,o("AudioDefine",{menuBGM:"sfx/Menu_BGM_1",mazeCollectWaterDrop:"sfx/Maze_CollectWaterDrop",mazeCollectKnowledgePiece:"sfx/Maze_CollectKnowledgePiece_1",mazeHitMonster:"sfx/Maze_HitMonster",mazeBGM:"sfx/Maze_BGM_1",losePopupSfx:"sfx/lose_popup_sfx",winTheGame:"sfx/WinTheGame",tapButton:"sfx/TapButton",tapBack:"sfx/TapBack",quizBGM:"sfx/Quiz_BGM_2",quizStart:"sfx/Quiz_StartGame",quizSkim:"sfx/Quiz_UsingBooster_50-50",quizSkip:"sfx/Quiz_UsingBooster_Change",quizShield:"sfx/Quiz_UsingBooster_50-50",quizEnemyHit:"sfx/Monster_Hit",quizMCHit:"sfx/User_Hit",quizCorrectAns:"sfx/CorrectAnswer_2",quizWrongAns:"sfx/WrongAnswer_1"});o("AudioMgr",function(){function o(){this._audioSource=void 0;var o=new n;o.name="__audioMgr__",r.getScene().addChild(o),r.addPersistRootNode(o),this._audioSource=o.addComponent(a)}var i=o.prototype;return i.playOneShot=function(o,e){var i=this;void 0===e&&(e=1),o instanceof u?this._audioSource.playOneShot(o,e):s.load(o,(function(o,t){o?console.log(o):i._audioSource.playOneShot(t,e)}))},i.play=function(o,e){var i=this;void 0===e&&(e=.5),o instanceof u?(this._audioSource.clip=o,this._audioSource.play(),this.audioSource.volume=e):s.load(o,(function(o,t){o?console.log(o):(i._audioSource.clip=t,i._audioSource.play(),i.audioSource.volume=e)}))},i.stop=function(){this._audioSource.stop(),this._audioSource.clip=null},i.pause=function(){this._audioSource.pause()},i.resume=function(){this._audioSource.play()},e(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/BaseObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./LevelDefine.ts"],(function(t){var e,n,o,i,s,c,r,a,u,p;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy,i=t._decorator,s=t.Collider2D,c=t.Vec2,r=t.Component},function(t){a=t.MapSize,u=t.CellSize},function(t){p=t.ObjectType}],execute:function(){var l;o._RF.push({},"bc9f7Ex2W1E/oQl+8n8c9X3","BaseObject",void 0);var h=i.ccclass;i.property,t("BaseObject",h("BaseObject")(l=function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).objectType=p.null,e._mapPosition=new c,e}e(o,t);var i=o.prototype;return i.start=function(){var t=this.node.getComponent(s);t&&(t.tag=this.objectType)},i.pause=function(){},i.resume=function(){},n(o,[{key:"mapPosition",get:function(){return this._mapPosition},set:function(t){this._mapPosition.x=t.x,this._mapPosition.y=t.y;var e=this.node.getPosition();e.x=(this._mapPosition.x-(a.width-1)/2)*u,e.y=-(this._mapPosition.y-(a.height-1)/2)*u,this.node.setPosition(e)}}]),o}(r))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonAnswer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,i,o,s,a,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Node,c=t.Label,l=t.Button,u=t.Component}],execute:function(){var p,f,h,b,g,v,y,w,d;o._RF.push({},"36ba1NWDM9KEq6kDGrZOYtx","ButtonAnswer",void 0);var A=s.ccclass,C=s.property;t("ButtonAnswer",(p=A("ButtonAnswer"),f=C(a),h=C(a),b=C(c),p((y=e((v=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"spriteCorrect",y,i(e)),n(e,"spriteWrong",w,i(e)),n(e,"labelAns",d,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.resetButton=function(t){this.node.off(l.EventType.CLICK),this.spriteCorrect.active=!1,this.spriteWrong.active=!1,this.labelAns.string=t,this.node.active=!0},o.showCorrect=function(){this.spriteCorrect.active=!0},o.showWrong=function(){this.spriteWrong.active=!0},e}(u)).prototype,"spriteCorrect",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"spriteWrong",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(v.prototype,"labelAns",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Character.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(t){var i,e,r,a,n,o,s,l,p,u,c,h,g,d,b,f,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.Sprite,l=t.Label,p=t.Vec3,u=t.tween,c=t.Color,h=t.resources,g=t.SpriteFrame,d=t.UITransform,b=t.Component},function(t){f=t.AudioMgr,m=t.AudioDefine}],execute:function(){var C,y,k,H,S,v,z,A,D,w,P,F,M,_,I;n._RF.push({},"7219b4qSrVF5Ixs0WlixDs7","Character",void 0);var x=o.ccclass,q=o.property;t("Character",(C=x("Character"),y=q(s),k=q(l),H=q(l),S=q(l),v=q(s),z=q(l),C((w=i((D=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,r(i,"spriteChar",w,a(i)),r(i,"labelCharName",P,a(i)),i.originalHp=0,i.hp=0,r(i,"labelHp",F,a(i)),i.originalAtk=0,i.atk=0,r(i,"labelAtk",M,a(i)),r(i,"spriteHit",_,a(i)),r(i,"labelHitDmg",I,a(i)),i.dirMultiplier=-1,i}e(i,t);var n=i.prototype;return n.start=function(){},n.update=function(t){},n.updateDisplay=function(){this.labelHp.string=this.hp.toString(),this.labelAtk.string=this.atk.toString()},n.animateAttack=function(t,i,e){var r=this;this.node.setSiblingIndex(1);var a=this.node.getPosition(),n=this.node.getPosition().add(new p(300*this.dirMultiplier,0,0));u(this.node).to(.6,{position:n},{easing:"backIn"}).call((function(){r.playHitAudio(),t.takeDamage(r.atk)})).to(.8,{position:a}).delay(1.6).call((function(){e.apply(i)})).start()},n.takeDamage=function(t){this.hp-=t,this.updateDisplay(),this.spriteHit.node.position=this.node.getPosition(),this.labelHitDmg.string="-"+t.toString();var i=this.node.getPosition(),e=this.node.getPosition().add(new p(20*-this.dirMultiplier,0,0));u(this.node).to(.2,{position:e},{easing:"backOut"}).to(.2,{position:i}).start();var r=this.spriteHit,a=new c(255,255,255,255);r.color=a,u(a).delay(.5).to(1,{r:255,g:255,b:255,a:0},{onUpdate:function(t){r.color=t}}).start()},n.playHitAudio=function(){f.inst.playOneShot(m.quizEnemyHit)},n.resetStats=function(){this.hp=this.originalHp,this.atk=this.originalAtk,this.updateDisplay()},n.setCharSprite=function(t){var i=this,e="sprites/quizGame/Card_Boss_lv"+t.toString()+"/spriteFrame";h.load(e,g,(function(e,r){switch(t){case 0:i.spriteChar.getComponent(d).setContentSize(843/2.9,1002/2.9);break;case 1:i.spriteChar.node.position=i.spriteChar.node.getPosition().add3f(7,0,0),i.spriteChar.getComponent(d).setContentSize(881/2.9,1003/2.9);break;case 2:i.spriteChar.getComponent(d).setContentSize(843/2.9,1002/2.9)}i.spriteChar.spriteFrame=r}))},n.setUpChar=function(t,i,e){this.labelCharName.string=t,this.originalHp=i,this.originalAtk=e},i}(b)).prototype,"spriteChar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(D.prototype,"labelCharName",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(D.prototype,"labelHp",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(D.prototype,"labelAtk",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(D.prototype,"spriteHit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(D.prototype,"labelHitDmg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=D))||A));n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b2c5cmvK61FxYM97QaI6Yms","Define",void 0);e("CellSize",32),e("Direction",function(e){return e.Null="null",e.Up="up",e.Down="down",e.Left="left",e.Right="right",e}({})),e("PlayerSpeed",5),e("MapSize",{width:29,height:21});t._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./LevelDefine.ts"],(function(t){var e,i,s,a,n,r,o,c,h,p,u,l,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,o=t.SpriteFrame,c=t.Sprite,h=t.Tween,p=t.Vec2,u=t.tween,l=t.clamp},function(t){f=t.BaseObject},function(t){m=t.ObjectType}],execute:function(){var v,g,d,y,S,b,P;n._RF.push({},"83d59kCmXpPdbXAUvz2ttBo","Enemy",void 0);var w=r.ccclass,M=r.property,I=function(t){return t[t.Null=0]="Null",t[t.Inactive=1]="Inactive",t[t.Start=2]="Start",t[t.Moving=3]="Moving",t[t.Pausing=4]="Pausing",t}(I||{});t("Enemy",(v=w("Enemy"),g=M({type:[o]}),d=M(c),v((b=e((S=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,s(e,"spriteFrames",b,a(e)),s(e,"sprite",P,a(e)),e.objectType=m.enemy,e.path=[],e.speed=1,e.pathIndex=0,e.state=I.Inactive,e.resumeState=I.Inactive,e}i(e,t);var n=e.prototype;return n.start=function(){t.prototype.start.call(this)},n.setState=function(t){var e,i=this;switch(this.state){case I.Moving:h.stopAllByTarget(this.mapPosition)}switch(this.state=t,this.state){case I.Start:break;case I.Moving:if((null==(e=this.path)?void 0:e.length)<=0)break;var s=this.path[this.pathIndex%this.path.length];if(p.equals(this.mapPosition,s)){this.pathIndex++,this.setState(I.Moving);break}var a=p.distance(this.mapPosition,s)/this.speed;u(this.mapPosition).to(a,s,{onUpdate:function(t){switch(i.state){case I.Moving:i.mapPosition=t}},onComplete:function(){switch(i.state){case I.Moving:i.pathIndex++,i.setState(I.Moving)}}}).start()}},n.update=function(t){switch(this.state){case I.Start:this.setState(I.Moving)}},n.pause=function(){switch(this.state!==I.Pausing&&(this.resumeState=this.state),this.state){case I.Moving:h.stopAllByTarget(this.mapPosition),this.state=I.Pausing;break;default:this.state=I.Pausing}},n.resume=function(){switch(this.resumeState){case I.Moving:this.setState(this.resumeState);break;default:this.state=this.resumeState}},n.setupInfo=function(t,e,i){this.sprite.spriteFrame=this.spriteFrames[l(t,0,this.spriteFrames.length-1)],this.speed=null!=e?e:1,this.path=i,this.pathIndex=0,null!=i&&i[0]&&(this.mapPosition=i[0])},n.setStateStart=function(){this.setState(I.Start)},e}(f)).prototype,"spriteFrames",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(S.prototype,"sprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(e){var n,a;return{setters:[function(e){n=e.cclegacy,a=e.EventTarget}],execute:function(){n._RF.push({},"3d9bfiEvQtLYIWOdyact5bC","EventManager",void 0);e("eventManager",new a),e("EventName",function(e){return e[e.onWaterDropChange=0]="onWaterDropChange",e[e.onPlayerMaxHealthChange=1]="onPlayerMaxHealthChange",e[e.onPlayerCurrentHealthChange=2]="onPlayerCurrentHealthChange",e[e.onKnowledgePieceMaxChange=3]="onKnowledgePieceMaxChange",e[e.onKnowledgePieceChange=4]="onKnowledgePieceChange",e[e.onMazeGameLose=5]="onMazeGameLose",e[e.onShowHandOnLevel=6]="onShowHandOnLevel",e[e.onShowKnowledgePopup=7]="onShowKnowledgePopup",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/home.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./Story.ts","./AudioMgr.ts"],(function(t){var e,s,o,r,n,a,c,i,l,u,y,S,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.clamp,i=t.director,l=t.Component},function(t){u=t.userProfile},function(t){y=t.Story,S=t.State},function(t){p=t.AudioMgr,h=t.AudioDefine}],execute:function(){var f,v,m,_,d;n._RF.push({},"1c7c2Up1MFIiYxpW0poHpCv","home",void 0);var b=a.ccclass,I=a.property;t("home",(f=b("home"),v=I(y),f((d=e((_=function(t){function e(){for(var e,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"story",d,r(e)),e}s(e,t);var n=e.prototype;return n.onEnable=function(){p.inst.play(h.menuBGM)},n.onDisable=function(){p.inst.stop()},n.start=function(){this.checkToShowStory()},n.update=function(t){},n.onPlayLevel=function(t,e){var s=c(parseInt(e),0,5);console.log("onPlayLevel",s),s%2==0?(u.currentLevel=s,i.loadScene("mazeGame")):(u.currentLevel=s,i.loadScene("quizGame"))},n.checkToShowStory=function(){switch(u.maxLevel){case 0:u.storyCompleteStatus.scene1?this.story.setStateInactive():this.story.startScene1();break;case 1:u.storyCompleteStatus.scene3?this.story.setStateInactive():this.story.startScene3();break;case 2:u.storyCompleteStatus.scene5?this.story.setStateInactive():this.story.startScene(S.Scene_5_14A);break;case 3:u.storyCompleteStatus.scene6?this.story.setStateInactive():this.story.startScene(S.Scene_6_15A);break;case 4:u.storyCompleteStatus.scene8?this.story.setStateInactive():this.story.startScene(S.Scene_8_17A);break;case 5:u.storyCompleteStatus.scene9?u.storyCompleteStatus.scene10?this.story.startScene(S.Scene_11_20A):this.story.setStateInactive():this.story.startScene(S.Scene_9_18A);break;default:this.story.setStateInactive()}},e}(l)).prototype,"story",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=_))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/KnowledgePiece.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./LevelDefine.ts","./UserProfile.ts"],(function(e){var t,n,o,c,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){c=e.BaseObject},function(e){r=e.ObjectType},function(e){i=e.userProfile}],execute:function(){var s;n._RF.push({},"a627bjv4Z1Fd4JDY15Q3it5","KnowledgePiece",void 0);var a=o.ccclass;o.property,e("KnowledgePiece",a("KnowledgePiece")(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).objectType=r.knowledgePiece,t.content="",t}t(n,e);var o=n.prototype;return o.onEnable=function(){i.mazeGameSection.knowledgePiecesMax++},o.start=function(){e.prototype.start.call(this)},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./EventManager.ts","./AudioMgr.ts"],(function(e){var t,n,i,o,l,a,r,s,u,c,h,v,b,p,f,d,m,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Button,s=e.Label,u=e.Node,c=e.Sprite,h=e.Color,v=e.director,b=e.Component},function(e){p=e.userProfile},function(e){f=e.eventManager,d=e.EventName},function(e){m=e.AudioMgr,L=e.AudioDefine}],execute:function(){var y,g,w,z,C,H,B,k,I,x,M,S,A,E,P,D,_,N,O;l._RF.push({},"3181f4A1VlPiYxEo1dg+WJA","LevelButton",void 0);var Q=a.ccclass,T=a.property;e("LevelButton",(y=Q("LevelButton"),g=T(Number),w=T(Boolean),z=T(r),C=T(s),H=T(u),B=T(c),k=T(u),I=T(u),y((S=t((M=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,i(t,"level",S,o(t)),i(t,"isHaveBoss",A,o(t)),i(t,"button",E,o(t)),i(t,"labelLevel",P,o(t)),i(t,"completeIcon",D,o(t)),i(t,"bossIcon",_,o(t)),i(t,"bossQuetionMark",N,o(t)),i(t,"hand",O,o(t)),t.showHandCallback=void 0,t}n(t,e);var l=t.prototype;return l.onEnable=function(){f.on(d.onShowHandOnLevel,this.showHand,this),this.button.node.on(r.EventType.CLICK,this.onClick,this)},l.onDisable=function(){f.off(d.onShowHandOnLevel,this.showHand,this),this.button.node.off(r.EventType.CLICK,this.onClick,this)},l.start=function(){this.labelLevel.string=""+(this.level+1),this.completeIcon.active=this.level<p.maxLevel,this.button.interactable=this.level<=p.maxLevel,this.bossIcon.node.active=this.isHaveBoss,this.bossIcon.color=this.level<=p.maxLevel?new h(255,255,255,255):new h(0,0,0,255),this.bossQuetionMark.active=!(this.level<=p.maxLevel),this.hand.active=!1},l.update=function(e){},l.showHand=function(e){this.hand.active=this.level===p.maxLevel,this.hand.active&&(this.showHandCallback=e)},l.onClick=function(){if(this.level===p.maxLevel){var e;if(m.inst.playOneShot(L.tapButton),this.hand.active)null==(e=this.showHandCallback)||e.call(this);var t=this.level;console.log("onPlayLevel",t),p.currentLevel=t,t%2==0?v.loadScene("mazeGame"):v.loadScene("quizGame")}},t}(b)).prototype,"level",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(M.prototype,"isHaveBoss",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=t(M.prototype,"button",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(M.prototype,"labelLevel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(M.prototype,"completeIcon",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(M.prototype,"bossIcon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(M.prototype,"bossQuetionMark",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(M.prototype,"hand",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=M))||x));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelDefine.ts","./BaseObject.ts","./Player.ts","./Enemy.ts","./UserProfile.ts","./KnowledgePiece.ts"],(function(e){var t,n,r,o,i,l,a,c,u,f,s,p,b,v,y,d,m,h,w,P,g,j,C,L,E,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Prefab,c=e.Node,u=e.Vec2,f=e.instantiate,s=e.Component},function(e){p=e.ObjectType,b=e.levelInfo1,v=e.levelInfo2,y=e.levelInfo3,d=e.level1,m=e.level2,h=e.level3,w=e.levelEnemy1,P=e.levelEnemy2,g=e.levelEnemy3},function(e){j=e.BaseObject},function(e){C=e.Player},function(e){L=e.Enemy},function(e){E=e.userProfile},function(e){z=e.KnowledgePiece}],execute:function(){var O,k,D,x,I,H,M,R,S,T,_,B,G,A,F,K,N;i._RF.push({},"da723LRIeRIjaxa0uGMHHu+","LevelControl",void 0);var U=l.ccclass,V=l.property,q=[d,d,m,m,h,h],J=[w,w,P,P,g,g],Q=[b,b,v,v,y,y];e("LevelControl",(O=U("LevelControl"),k=V(a),D=V(a),x=V(a),I=V(a),H=V(C),M=V(c),R=V(c),O((_=t((T=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(t,"platformPrefab",_,o(t)),r(t,"waterDropPrefab",B,o(t)),r(t,"knowledgePiecePrefab",G,o(t)),r(t,"enemyPrefab",A,o(t)),r(t,"player",F,o(t)),r(t,"mapContainer",K,o(t)),r(t,"world",N,o(t)),t.objects=[],t}n(t,e);var i=t.prototype;return i.update=function(e){this.sortObject()},i.inactiveAllObjects=function(){this.objects.forEach((function(e){e.node.active=!1}))},i.initMap=function(){var e,t,n=this,r=null!=(e=null==(t=Q[E.currentLevel])?void 0:t.knowledgePieceContents)?e:[],o=0,i=q[E.currentLevel];this.player.setCurrentMap(i),i.forEach((function(e,t){e.forEach((function(e,i){var l=new u(i,t);switch(e){case p.player:n.player.setRootPosition(l);break;case p.waterDrop:n.getObject(p.waterDrop,n.waterDropPrefab,n.objects,n.world).mapPosition=l;break;case p.knowledgePiece:var a=n.getObject(p.knowledgePiece,n.knowledgePiecePrefab,n.objects,n.world);a.mapPosition=l;var c,f=a.getComponent(z);if(f)f.content=null!=(c=null==r?void 0:r[o++])?c:""}}))}))},i.initEnemys=function(){var e=this;J[E.currentLevel].forEach((function(t){var n=t.objectType,r=t.path,o=t.speed,i=t.index,l=e.getObject(n,e.enemyPrefab,e.objects,e.world).getComponent(L);l&&(l.setupInfo(i,o,r),l.setStateStart())}))},i.initLevelInfo=function(){var e=Q[E.currentLevel];E.mazeGameSection.playerMaxHealth=e.playerMaxHealth,E.mazeGameSection.playerCurrentHealth=e.playerMaxHealth},i.pause=function(){this.objects.forEach((function(e){e.pause()}))},i.resume=function(){this.objects.forEach((function(e){e.resume()}))},i.getObject=function(e,t,n,r){var o,i=n.find((function(t){return(null==t?void 0:t.objectType)===e&&!1===(null==t?void 0:t.node.active)}));return i||(i=f(t).getComponent(j),r.addChild(i.node),n.push(i)),null!=(o=i)&&o.node&&(i.node.active=!0),i},i.sortObject=function(){this.world.children.sort((function(e,t){var n=e.position,r=n.x,o=n.y,i=t.position,l=i.x,a=i.y;return o===a?r-l:a-o}))},t}(s)).prototype,"platformPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"waterDropPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"knowledgePiecePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(T.prototype,"enemyPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"player",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(T.prototype,"mapContainer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"world",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=T))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDefine.ts",["cc"],(function(n){var e,w;return{setters:[function(n){e=n.cclegacy,w=n.Vec2}],execute:function(){e._RF.push({},"1ee61hf3GBPe72gKywcpYan","LevelDefine",void 0);var t=n("ObjectType",function(n){return n[n.null=0]="null",n[n.platform=1]="platform",n[n.waterDrop=2]="waterDrop",n[n.knowledgePiece=3]="knowledgePiece",n[n.player=9]="player",n[n.enemy=10]="enemy",n}({}));n("level1",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,0,2,1,2,1,2,1,0,0,2,1,2,1,2,1,2,1,2,1,1,0],[0,1,2,1,1,1,3,1,1,1,0,0,0,0,2,0,0,1,0,0,0,0,0,1,0,0,0,2,0],[1,2,0,0,0,1,1,1,0,2,0,0,0,0,1,0,0,2,0,0,0,0,1,1,1,0,0,1,1],[0,1,0,0,0,0,1,0,0,1,0,1,2,1,2,0,0,1,2,1,2,1,1,3,1,1,1,2,0],[0,2,1,2,1,2,1,2,1,2,0,2,0,0,1,0,0,2,0,1,0,0,1,1,1,0,0,1,0],[0,0,0,0,0,0,0,1,0,1,1,1,0,0,2,0,0,1,0,2,0,0,0,1,0,0,0,2,0],[0,0,0,0,0,0,0,2,0,0,1,0,0,0,1,0,0,2,0,1,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,0,0,1,1,1,2,0,0,0,2,1,2,1,2,1,2,1,2,1,0,0,0,2,0],[0,0,0,0,0,0,0,2,0,0,1,0,0,0,1,0,0,2,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,1,1,2,1,2,0,2,0,0,1,2,1,2,1,2,1,2,1,1,2,0],[0,0,0,0,0,0,0,2,0,0,0,0,1,0,1,0,0,2,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,2,1,2,1,0,0,1,0,0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,2,0,0,2,0,0,0,2,0,1,1,1,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,1,1,3,1,1,2,1,2,0,0,0,0,2,0],[0,0,0,0,0,0,0,2,0,0,2,0,9,0,2,0,1,1,1,0,0,0,1,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,1,0,0,0,0,1,0,0,0,0,1,0],[1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0,0,2,0,0,0,0,1,2,1,2,1,2,1],[0,1,0,0,1,0,0,0,0,0,0,0,0,0,2,0,0,1,0,0,0,0,1,0,0,0,0,0,0],[0,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),n("level2",[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],[0,2,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,2,0],[1,1,0,0,0,1,0,0,1,0,0,1,1,1,0,0,2,0,2,1,2,0,0,2,0,0,0,1,1],[0,2,1,2,1,2,1,2,1,2,1,1,3,1,1,2,1,0,1,0,1,0,0,1,0,0,0,2,0],[0,0,0,0,0,0,0,1,0,1,0,1,1,1,0,0,2,0,2,0,2,1,2,1,2,1,2,1,0],[0,0,0,0,0,0,0,2,0,2,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,1,0,1,2,1,2,1,2,1,2,0,2,0,0,0,1,1,1,0,0,1,0],[0,0,0,0,0,0,0,2,0,0,0,0,1,0,1,0,0,0,1,2,1,2,1,3,1,2,1,2,0],[0,0,0,0,0,0,0,1,0,0,0,0,2,0,2,0,0,0,0,0,0,0,1,1,1,0,0,1,0],[0,0,0,0,0,0,0,2,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],[0,0,0,0,0,0,0,2,0,0,0,0,1,0,0,0,0,0,0,0,0,2,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,1,2,1,2,1,2,0,9,0,2,1,2,1,0,1,0,0,2,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,2,0,2,0,0,1,2,1,2,0],[0,0,0,0,0,0,0,0,1,1,1,0,2,1,2,1,2,0,0,1,2,1,0,0,0,0,0,1,0],[0,2,1,2,1,2,1,1,1,3,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,2,0],[1,1,0,0,0,1,0,0,1,1,1,0,0,0,0,0,2,1,2,1,2,1,2,1,2,1,2,1,1],[0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,2,0],[0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),n("level3",[[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,0],[0,2,0,0,0,0,0,2,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,1,0,0,2,0],[1,1,0,0,0,0,0,1,0,1,2,1,2,0,0,0,0,1,0,0,0,1,2,1,2,1,2,1,1],[0,2,1,2,1,2,1,2,0,2,0,0,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,1,0,1,2,1,2,1,2,1,2,1,0,1,2,1,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,2,0,2,0,0,0,0,1,0,0,0,0,2,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,1,0,1,0,0,0,0,2,0,0,0,0,1,0,0,0,1,1,1,0,1,0],[0,0,0,0,0,0,0,2,1,2,1,2,0,0,1,0,0,0,0,2,1,2,1,1,3,1,1,2,0],[0,0,0,0,0,0,0,0,2,0,0,1,0,0,2,0,0,0,0,1,0,0,0,1,1,1,0,1,0],[0,0,0,0,0,0,0,0,1,0,0,2,0,1,1,1,0,0,0,2,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,0,2,0,0,1,2,1,3,1,2,1,2,1,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,1,0,0,2,0,1,1,1,0,0,0,2,1,2,1,2,1,2,1,2,0],[0,0,0,0,0,0,0,0,2,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,2,0,0,9,0,0,0,0,0,0,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,0,1,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,2,1,2,1,2,1,1,3,1,1,2,1,2,1,2,1,2,1,2,1,3,1,2,1,2,1,2,0],[1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,1,1,1,0,1,0,0,1,1],[0,2,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0],[0,1,2,1,2,1,2,1,2,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0]]),n("levelEnemy1",[{objectType:t.enemy,speed:2,index:0,path:[new w(7,5),new w(1,5),new w(1,2),new w(9,2),new w(9,6),new w(10,6),new w(10,10),new w(7,10)]},{objectType:t.enemy,speed:2,index:1,path:[new w(14,17),new w(14,14),new w(22,14),new w(22,19),new w(4,19),new w(4,17)]},{objectType:t.enemy,speed:2,index:2,path:[new w(19,6),new w(19,4),new w(17,4),new w(17,8),new w(14,8),new w(14,19),new w(22,19),new w(22,17),new w(27,17),new w(27,1),new w(23,1),new w(23,8),new w(19,8)]}]),n("levelEnemy2",[{objectType:t.enemy,speed:3,index:0,path:[new w(12,4),new w(1,4),new w(1,1),new w(23,1),new w(23,5),new w(20,5),new w(20,3),new w(18,3),new w(18,8),new w(27,8),new w(27,11),new w(14,11),new w(14,7),new w(12,7)]},{objectType:t.enemy,speed:3,index:1,path:[new w(12,16),new w(1,16),new w(1,19),new w(27,19),new w(27,17),new w(16,17),new w(16,15),new w(12,15)]},{objectType:t.enemy,speed:3,index:2,path:[new w(23,1),new w(16,1),new w(16,7),new w(12,7),new w(12,11),new w(7,11),new w(7,13),new w(12,13),new w(12,15),new w(16,15),new w(16,13),new w(19,13),new w(19,15),new w(21,15),new w(21,11),new w(27,11),new w(27,1)]}]),n("levelEnemy3",[{objectType:t.enemy,speed:3,index:0,path:[new w(7,4),new w(7,8),new w(9,8),new w(9,3),new w(12,3),new w(12,1),new w(1,1),new w(1,4)]},{objectType:t.enemy,speed:3,index:1,path:[new w(16,17),new w(16,16),new w(1,16),new w(1,19),new w(16,19)]},{objectType:t.enemy,speed:3,index:2,path:[new w(27,11),new w(27,3),new w(21,3),new w(21,5),new w(19,5),new w(19,12),new w(21,12),new w(21,15),new w(22,15),new w(22,16),new w(24,16),new w(24,19),new w(16,19),new w(16,16),new w(16,19),new w(24,19),new w(24,16),new w(22,16),new w(22,15),new w(21,15),new w(21,12),new w(19,12),new w(19,5),new w(21,5),new w(21,3),new w(27,3)]},{objectType:t.enemy,speed:3,index:3,path:[new w(14,5),new w(14,11),new w(11,11),new w(11,13),new w(8,13),new w(8,8),new w(9,8),new w(9,3),new w(12,3),new w(12,1),new w(17,1),new w(17,5)]}]),n("levelInfo1",{playerMaxHealth:3,knowledgePieceContents:["1 lít nước đá nhẹ hơn 1 lít nước \nthông thường. Nước đóng băng \n<color=#ff0000>nhẹ hơn nước 9%</color>, điều này giải \nthích tại sao băng lại nổi trên mặt \nnước.","Trên Thế giới, mỗi ngày có <color=#ff0000>2 triệu</color> \ntấn nước thải và các chất thải khác \nđổ vào nguồn nước, và cứ 9 người \nthì có 1 người sử dụng nước uống \ntừ các nguồn không hợp vệ sinh \nvà không an toàn.","Nước nóng có thể đóng băng\nnhanh hơn nước lạnh trong một\nsố điều kiện (thường được gọi là\nhiệu ứng Mpemba). Hiệu ứng \nMpemba được đặt theo tên của\nnhà khoa học người Tanzania, \nông quan sát thấy một chất lỏng \n(thường là nước) có nhiệt độ cao \ncó thể đóng băng nhanh hơn \nchất lỏng có nhiệt độ thấp, \ntrong cùng điều kiện giống nhau."]}),n("levelInfo2",{playerMaxHealth:3,knowledgePieceContents:["Vệ sinh tay kịp thời ngăn ngừa tới \n<color=#ff0000>50%</color> các bệnh nhiễm trùng có thể \ntránh được trong quá trình cung \ncấp dịch vụ chăm sóc sức khỏe, \nbao gồm cả những bệnh ảnh \nhưởng đến lực lượng lao động \ny tế. (WHO/UNICEF, 2021) ","Theo Liên Hợp Quốc, ở một số \nnước kém phát triển <color=#ff0000>95%</color> lượng \nnước thải trực tiếp ra môi trường \nkhông qua xử lý.","Nước, vệ sinh và vệ sinh không \nan toàn là nguyên nhân gây ra cái \nchết của khoảng <color=#ff0000>1.000</color> trẻ em dưới \n5 tuổi mỗi ngày. (UNICEF, 2023)"]}),n("levelInfo3",{playerMaxHealth:3,knowledgePieceContents:["Hiện tại, hơn <color=#ff0000>80 quốc gia</color> (chiếm \nkhoảng <color=#ff0000>40% dân số thế giới</color>) \nđang đối mặt với tình trạng thiếu \nnước nghiêm trọng.","Mực nước biển tại Việt Nam trong \ngiai đoạn 1993 - 2018 <color=#ff0000>tăng trung \nbình 4,1 mm/năm.</color>","Hiện cứ 3 người thì sẽ có 1 người \nsống trong tình trạng thiếu nước.","Dây chuyền công nghệ thuộc dự án \n<color=#ff0000>NEWater (Singapore)</color> có thể lọc \nnước ô nhiễm thành nước uống \ntrực tiếp."]});e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AudioMgr.ts","./EventManager.ts","./UserProfile.ts","./LevelButton.ts","./home.ts","./BaseObject.ts","./Define.ts","./Enemy.ts","./KnowledgePiece.ts","./LevelControl.ts","./LevelDefine.ts","./Platform.ts","./Player.ts","./StatsBoard.ts","./TileMapControl.ts","./WaterDrop.ts","./mazeGame.ts","./ButtonAnswer.ts","./Character.ts","./MainCharacter.ts","./Popup.ts","./QuizDefine.ts","./QuizManager.ts","./ShieldEffect.ts","./start.ts","./QuizStory.ts","./Story.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainCharacter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./AudioMgr.ts"],(function(t){var e,i,r,a,o,n,l,c,s,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,l=t.Node},function(t){c=t.Character},function(t){s=t.AudioMgr,h=t.AudioDefine}],execute:function(){var u,p,d,f,g;o._RF.push({},"575731Wne1K7pFhx7SlLcjo","MainCharacter",void 0);var y=n.ccclass,S=n.property;t("MainCharacter",(u=y("MainCharacter"),p=S(l),u((g=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).dirMultiplier=1,r(e,"shieldNode",g,a(e)),e.hasShield=void 0,e}i(e,t);var o=e.prototype;return o.toggleShield=function(t){this.hasShield=t,this.shieldNode.active=t},o.takeDamage=function(e){this.hasShield?this.toggleShield(!1):t.prototype.takeDamage.call(this,e)},o.playHitAudio=function(){s.inst.playOneShot(h.quizMCHit)},o.resetStats=function(){t.prototype.resetStats.call(this),this.toggleShield(!1)},e}(c)).prototype,"shieldNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/mazeGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelControl.ts","./Player.ts","./UserProfile.ts","./EventManager.ts","./Story.ts","./AudioMgr.ts"],(function(e){var t,n,i,o,a,s,l,r,u,c,p,h,f,y,S,m,P,g,w,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.Node,r=e.RichText,u=e.director,c=e.PhysicsSystem2D,p=e.EPhysics2DDrawFlags,h=e.Component},function(e){f=e.LevelControl},function(e){y=e.Player},function(e){S=e.userProfile},function(e){m=e.eventManager,P=e.EventName},function(e){g=e.Story},function(e){w=e.AudioMgr,v=e.AudioDefine}],execute:function(){var b,d,C,k,L,z,G,B,M,x,O,W,D,A,E,K,N,F,R;a._RF.push({},"69024ABHwpF159GAbOeWB9v","mazeGame",void 0);var T=s.ccclass,_=s.property,H=function(e){return e[e.Null=0]="Null",e[e.Start=1]="Start",e[e.StoryScene2=2]="StoryScene2",e[e.Playing=3]="Playing",e[e.Win=4]="Win",e[e.Lose=5]="Lose",e[e.Pausing=6]="Pausing",e}(H||{});e("mazeGame",(b=T("mazeGame"),d=_({type:f}),C=_(y),k=_(l),L=_(l),z=_(l),G=_(l),B=_(r),M=_(g),b((W=t((O=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"levelControl",W,o(t)),i(t,"player",D,o(t)),i(t,"exitConfirmPopup",A,o(t)),i(t,"winPopup",E,o(t)),i(t,"losePopup",K,o(t)),i(t,"knowledgePiecePopup",N,o(t)),i(t,"knowledgePieceContent",F,o(t)),i(t,"story",R,o(t)),t.state=H.Null,t.resumeState=H.Null,t}n(t,e);var a=t.prototype;return a.onEnable=function(){m.on(P.onMazeGameLose,this.onLose,this),m.on(P.onShowKnowledgePopup,this.onShowKnowledgePopup,this)},a.onDisable=function(){m.off(P.onMazeGameLose,this.onLose,this),m.off(P.onShowKnowledgePopup,this.onShowKnowledgePopup,this),w.inst.stop()},a.start=function(){this.story.setStateInactive(),this.setState(H.Start)},a.setState=function(e){var t=this;switch(this.state){case H.Win:this.winPopup.active=!1;break;case H.Lose:this.losePopup.active=!1}switch(this.state=e,this.state){case H.Start:S.mazeGameSection.reset(),this.levelControl.inactiveAllObjects(),this.levelControl.initMap(),this.levelControl.initEnemys(),this.levelControl.initLevelInfo(),this.player.setStateStart(),this.winPopup.active=!1,this.losePopup.active=!1,this.knowledgePiecePopup.active=!1,w.inst.play(v.mazeBGM);break;case H.StoryScene2:this.story.startScene2();break;case H.Playing:this.player.setStatePlaying();break;case H.Win:S.maxLevel=Math.max(S.currentLevel+1,S.maxLevel),this.winPopup.active=!0,this.levelControl.pause(),this.player.pause(),w.inst.stop(),w.inst.playOneShot(v.winTheGame),setTimeout((function(){t.onClickGameWinMenuButton()}),3e3);break;case H.Lose:this.losePopup.active=!0,this.levelControl.pause(),this.player.pause(),w.inst.stop(),w.inst.playOneShot(v.losePopupSfx)}},a.update=function(e){switch(this.state){case H.Start:S.storyCompleteStatus.scene2||0!==S.currentLevel?this.setState(H.Playing):this.setState(H.StoryScene2);break;case H.StoryScene2:S.storyCompleteStatus.scene2&&this.setState(H.Playing)}},a.onClickButtonExit=function(){w.inst.playOneShot(v.tapButton),this.exitConfirmPopup.active=!0,this.pause()},a.onClickCancleExitGame=function(){w.inst.playOneShot(v.tapButton),this.exitConfirmPopup.active=!1,this.resume()},a.onClickOkExitGame=function(){w.inst.playOneShot(v.tapButton),u.loadScene("home")},a.onClickGameWinMenuButton=function(){switch(this.state){case H.Win:w.inst.playOneShot(v.tapButton),u.loadScene("home")}},a.onClickGameLoseMenuButton=function(){switch(this.state){case H.Lose:w.inst.playOneShot(v.tapButton),u.loadScene("home")}},a.onClickGameLoseReplayButton=function(){switch(this.state){case H.Lose:w.inst.playOneShot(v.tapButton),this.setState(H.Start)}},a.onHideKnowledgePopup=function(){w.inst.playOneShot(v.tapButton),this.resume(),this.knowledgePiecePopup.active=!1,S.mazeGameSection.knowledgePieces>=S.mazeGameSection.knowledgePiecesMax&&this.onWin()},a.showColliderDebug=function(){c.instance.enable=!0,c.instance.debugDrawFlags=p.Aabb|p.Pair|p.CenterOfMass|p.Joint|p.Shape},a.pause=function(){this.state!==H.Pausing&&(this.resumeState=this.state),this.levelControl.pause(),this.player.pause(),this.state=H.Pausing},a.resume=function(){this.levelControl.resume(),this.player.resume(),this.state=this.resumeState},a.onWin=function(){switch(this.state){case H.Playing:this.setState(H.Win)}},a.onLose=function(){switch(this.state){case H.Playing:this.setState(H.Lose)}},a.onShowKnowledgePopup=function(e){this.pause(),this.knowledgePiecePopup.active=!0,this.knowledgePieceContent.string=e},t}(h)).prototype,"levelControl",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(O.prototype,"player",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(O.prototype,"exitConfirmPopup",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(O.prototype,"winPopup",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(O.prototype,"losePopup",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(O.prototype,"knowledgePiecePopup",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(O.prototype,"knowledgePieceContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(O.prototype,"story",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=O))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./Define.ts","./LevelDefine.ts"],(function(t){var e,n,o,r,c,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.UITransform},function(t){c=t.BaseObject},function(t){a=t.CellSize},function(t){i=t.ObjectType}],execute:function(){var s;n._RF.push({},"4e119K0k/FGYK1M5dIqDq3m","Platform",void 0);var u=o.ccclass;o.property,t("Platform",u("Platform")(s=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).objectType=i.platform,e}e(n,t);var o=n.prototype;return o.start=function(){this.node.getComponent(r).setContentSize(a,a)},o.update=function(t){},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./Define.ts","./LevelDefine.ts","./UserProfile.ts","./EventManager.ts","./KnowledgePiece.ts","./AudioMgr.ts"],(function(t){var e,i,n,o,a,s,c,r,h,u,l,p,f,m,v,g,d,D,y,w,T,M,S,P,b,k,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){s=t.cclegacy,c=t._decorator,r=t.Collider2D,h=t.Animation,u=t.Vec2,l=t.Contact2DType,p=t.input,f=t.Input,m=t.Tween,v=t.tween,g=t.KeyCode},function(t){d=t.BaseObject},function(t){D=t.Direction,y=t.MapSize,w=t.PlayerSpeed},function(t){T=t.ObjectType},function(t){M=t.userProfile},function(t){S=t.eventManager,P=t.EventName},function(t){b=t.KnowledgePiece},function(t){k=t.AudioMgr,A=t.AudioDefine}],execute:function(){var C,I,E,O,R,_,N;s._RF.push({},"2721eh2xclCgrLV/J4WuHqH","Player",void 0);var x=c.ccclass,z=c.property,B=function(t){return t[t.Null=0]="Null",t[t.Inactive=1]="Inactive",t[t.Start=2]="Start",t[t.Idle=3]="Idle",t[t.Moving=4]="Moving",t[t.Death=5]="Death",t[t.Pausing=6]="Pausing",t}(B||{}),H=function(t){return t.undefine="",t.idle="mcIdle",t.move="mcRun",t.death="mcDeath",t}(H||{});t("Player",(C=x("Player"),I=z(r),E=z(h),C((_=e((R=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(e,"collider",_,o(e)),n(e,"animation",N,o(e)),e.objectType=T.player,e.state=B.Inactive,e.resumeState=B.Inactive,e.currentMap=[],e.isTouchDown=!1,e._moveDirection=D.Null,e.nextDirection=[],e.rootPosition=new u,e.isMovingDone=!1,e.isDeathDone=!1,e.currentAnimationName=H.undefine,e.calcTarget=function(t,e,i){var n,o=new u(Math.round(e.x),Math.round(e.y));switch(i){case D.Up:o.y-=1;break;case D.Down:o.y+=1;break;case D.Left:o.x-=1;break;case D.Right:o.x+=1}switch(null==t||null==(n=t[o.y%y.height])?void 0:n[o.x%y.width]){case T.null:return null;default:return o}},e}i(e,t);var s=e.prototype;return s.start=function(){},s.onEnable=function(){this.collider.on(l.BEGIN_CONTACT,this.onBeginContact,this),p.on(f.EventType.TOUCH_START,this.onTouchStart,this),p.on(f.EventType.TOUCH_END,this.onTouchEnd,this),p.on(f.EventType.KEY_DOWN,this.onKeyDown,this)},s.onDisable=function(){this.collider.off(l.BEGIN_CONTACT,this.onBeginContact,this),p.off(f.EventType.TOUCH_START,this.onTouchStart,this),p.off(f.EventType.TOUCH_END,this.onTouchEnd,this),p.off(f.EventType.KEY_DOWN,this.onKeyDown,this)},s.setState=function(t){var e=this;switch(this.state){case B.Moving:m.stopAllByTarget(this.mapPosition)}switch(this.state=t,this.state){case B.Inactive:m.stopAllByTarget(this.mapPosition);break;case B.Start:this.isTouchDown=!1,this.currentAnimationName=H.undefine;break;case B.Idle:this.setAnimation(H.idle),this.moveDirection=D.Null;break;case B.Moving:var i;if(this.setAnimation(H.move),this.nextDirection.length>0){var n=this.nextDirection.shift();(i=this.calcTarget(this.currentMap,this.mapPosition,n))&&(this.moveDirection=n,this.nextDirection=[])}if(i||(i=this.calcTarget(this.currentMap,this.mapPosition,this.moveDirection)),!i){this.setState(B.Idle);break}this.isMovingDone=!1;var o=u.distance(this.mapPosition,i)/w;m.stopAllByTarget(this.mapPosition),v(this.mapPosition).to(o,i,{onUpdate:function(t){switch(e.state){case B.Moving:var i=t.x,n=t.y;i<-.5?i=(i+y.width)%y.width:i>y.width-.5&&(i=(i-y.width)%y.width),n<-.5?n=(n+y.height)%y.height:n>y.height-.5&&(n=(n-y.height)%y.height),e.mapPosition=new u(i,n)}},onComplete:function(){switch(e.state){case B.Moving:e.isMovingDone=!0}}}).start();break;case B.Death:this.setAnimation(H.death),M.mazeGameSection.playerCurrentHealth--,this.isDeathDone=!1,setTimeout((function(){e.isDeathDone=!0}),1e3)}},s.update=function(t){switch(this.state){case B.Moving:this.isMovingDone&&this.setState(B.Moving);break;case B.Death:this.isDeathDone&&M.mazeGameSection.playerCurrentHealth>0&&(this.mapPosition=this.rootPosition,this.setState(B.Idle))}},s.pause=function(){switch(this.state!==B.Pausing&&(this.resumeState=this.state),this.state){case B.Moving:m.stopAllByTarget(this.mapPosition),this.state=B.Pausing;break;default:this.state=B.Pausing}},s.resume=function(){switch(this.resumeState){case B.Moving:this.setState(this.resumeState);break;default:this.state=this.resumeState}},s.setRootPosition=function(t){u.copy(this.rootPosition,t),this.mapPosition=this.rootPosition},s.setStateStart=function(){this.setState(B.Start)},s.setStatePlaying=function(){this.setState(B.Idle)},s.setCurrentMap=function(t){this.currentMap=t},s.onTouchStart=function(t){this.isTouchDown=!0},s.onTouchEnd=function(t){switch(this.state){case B.Idle:case B.Moving:if(!this.isTouchDown)return;this.isTouchDown=!1;var e=u.subtract(new u,t.getLocation(),t.getStartLocation()),i=this.calcMoveDirection(e);this.checkDirectionToMove(i)}},s.onKeyDown=function(t){switch(this.state){case B.Idle:case B.Moving:var e;switch(null==t?void 0:t.keyCode){case g.ARROW_UP:e=D.Up;break;case g.ARROW_DOWN:e=D.Down;break;case g.ARROW_LEFT:e=D.Left;break;case g.ARROW_RIGHT:e=D.Right}if(!e)break;this.checkDirectionToMove(e)}},s.checkDirectionToMove=function(t){this.calcTarget(this.currentMap,this.mapPosition,t)?(this.moveDirection=t,this.nextDirection=[],this.setState(B.Moving)):this.nextDirection=[t,t,t]},s.calcMoveDirection=function(t){var e=t.x,i=t.y;return Math.abs(e)>=Math.abs(i)?e>0?D.Right:D.Left:i>0?D.Up:D.Down},s.onBeginContact=function(t,e,i){var n=this;switch(this.state){case B.Idle:case B.Moving:switch(null==e?void 0:e.tag){case T.waterDrop:setTimeout((function(){e.node.active=!1,M.waterDrops++,k.inst.playOneShot(A.mazeCollectWaterDrop)}),1);break;case T.knowledgePiece:setTimeout((function(){var t;e.node.active=!1,M.mazeGameSection.knowledgePieces++,n.setState(B.Idle),k.inst.playOneShot(A.mazeCollectKnowledgePiece),S.emit(P.onShowKnowledgePopup,null==e||null==(t=e.node)||null==(t=t.getComponent(b))?void 0:t.content)}),1);break;case T.enemy:this.setState(B.Death),k.inst.playOneShot(A.mazeHitMonster),M.mazeGameSection.playerCurrentHealth<=0&&S.emit(P.onMazeGameLose)}}},s.setAnimation=function(t){this.currentAnimationName!==t&&(this.currentAnimationName=t,this.animation.play(t))},a(e,[{key:"moveDirection",get:function(){return this._moveDirection},set:function(t){switch(this._moveDirection=t,t){case D.Left:this.animation.node.setScale(-1,1);break;case D.Right:this.animation.node.setScale(1,1)}}}]),e}(d)).prototype,"collider",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(R.prototype,"animation",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=R))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/Popup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./AudioMgr.ts"],(function(t){var n,e,i,o,r,a,s,u,l,h,p,c,f,b,C,d,g,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,u=t.Button,l=t.Sprite,h=t.RichText,p=t.SpriteFrame,c=t.Label,f=t.director,b=t.UITransform,C=t.Component},function(t){d=t.userProfile},function(t){g=t.AudioMgr,m=t.AudioDefine}],execute:function(){var k,v,y,R,w,S,L,T,z,P,B,E,I,M,K,O,x,A,D,F,G,_,U,X,q;r._RF.push({},"6d6f4KmEZxLcavSC5KU977w","Popup",void 0);var H=a.ccclass,j=a.property,N=["Xếp hạng: <color=#00ff00>Tập Sự</color>","Xếp hạng: <color=#0000ff>Siêu Sao</color>","Xếp hạng: <color=#ff00ff>Anh Hùng</color>"];t("Popup",(k=H("Popup"),v=j(s),y=j(s),R=j(s),w=j(s),S=j(s),L=j(u),T=j(u),z=j(u),P=j(l),B=j(h),E=j({type:p}),k((K=n((M=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"backContainer",K,o(n)),i(n,"winContainer",O,o(n)),i(n,"loseContainer",x,o(n)),i(n,"buttonContainer",A,o(n)),i(n,"rankContainer",D,o(n)),i(n,"buttonLeft",F,o(n)),i(n,"buttonRight",G,o(n)),i(n,"buttonReturn",_,o(n)),i(n,"spriteRank",U,o(n)),i(n,"rtRank",X,o(n)),i(n,"rankSprites",q,o(n)),n.leftCb=void 0,n.rightCb=void 0,n.quizManager=void 0,n}e(n,t);var r=n.prototype;return r.start=function(){},r.onEnable=function(){var t,n,e;null==(t=this.buttonLeft)||t.node.on(u.EventType.CLICK,this.onButtonLeft,this),null==(n=this.buttonRight)||n.node.on(u.EventType.CLICK,this.onButtonRight,this),null==(e=this.buttonReturn)||e.node.on(u.EventType.CLICK,this.returnToMap,this)},r.onDisable=function(){var t,n,e;null==(t=this.buttonLeft)||t.node.off(u.EventType.CLICK,this.onButtonLeft,this),null==(n=this.buttonRight)||n.node.off(u.EventType.CLICK,this.onButtonRight,this),null==(e=this.buttonReturn)||e.node.off(u.EventType.CLICK,this.returnToMap,this)},r.update=function(t){},r.showPopupBack=function(){var t=this;this.buttonLeft.getComponentInChildren(c).string="Thoát",this.buttonRight.getComponentInChildren(c).string="Tiếp tục",this.leftCb=this.backToMenu,this.rightCb=this.hidePopup,this.node.active=!0,this.node.children.forEach((function(n){n.active=n.name==t.backContainer.name||n.name==t.buttonContainer.name||n==t.node.children[0]})),g.inst.playOneShot(m.tapBack)},r.showPopupLose=function(){var t=this;this.buttonLeft.getComponentInChildren(c).string="Thoát",this.buttonRight.getComponentInChildren(c).string="Thử lại",this.leftCb=this.showPopupRank,this.rightCb=this.restartGame,this.node.active=!0,this.node.children.forEach((function(n){n.active=n.name==t.loseContainer.name||n.name==t.buttonContainer.name||n==t.node.children[0]})),g.inst.stop(),g.inst.playOneShot(m.losePopupSfx)},r.showPopupWin=function(){var t=this;this.node.active=!0,this.node.children.forEach((function(n){n.active=n.name==t.winContainer.name||n==t.node.children[0]})),g.inst.stop(),g.inst.playOneShot(m.winTheGame),setTimeout((function(){t.showPopupRank()}),2e3)},r.showPopupRank=function(){var t=this;this.node.active=!0;var n=this.winContainer.active;switch(this.node.children.forEach((function(n){n.active=n.name==t.rankContainer.name||n==t.node.children[0]})),d.maxLevel){case 0:case 1:case 2:this.showRank(0);break;case 3:if(!n){this.showRank(0);break}case 4:this.showRank(1);break;case 5:if(!n){this.showRank(1);break}this.showRank(2)}},r.hidePopup=function(){this.node.active=!1},r.onButtonLeft=function(){var t;g.inst.playOneShot(m.tapBack),null==(t=this.leftCb)||t.apply(this)},r.onButtonRight=function(){var t;g.inst.playOneShot(m.tapButton),null==(t=this.rightCb)||t.apply(this)},r.returnToMap=function(){g.inst.playOneShot(m.tapButton),g.inst.stop(),f.loadScene("home")},r.backToMenu=function(){g.inst.playOneShot(m.tapButton),g.inst.stop(),f.loadScene("start")},r.restartGame=function(){this.quizManager.restartGame(),this.hidePopup()},r.showRank=function(t){switch(this.spriteRank.spriteFrame=this.rankSprites[t],t){case 0:this.spriteRank.getComponent(b).setContentSize(540/3.3,836/3.3);break;case 1:this.spriteRank.getComponent(b).setContentSize(584/2.4,253.75);break;case 2:this.spriteRank.getComponent(b).setContentSize(577/1.9,489/1.9)}this.rtRank.string=N[t]},n}(C)).prototype,"backContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=n(M.prototype,"winContainer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=n(M.prototype,"loseContainer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(M.prototype,"buttonContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(M.prototype,"rankContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=n(M.prototype,"buttonLeft",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(M.prototype,"buttonRight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(M.prototype,"buttonReturn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(M.prototype,"spriteRank",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=n(M.prototype,"rtRank",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(M.prototype,"rankSprites",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=M))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/QuizDefine.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"3892eJBEUxImI0Ib6oIXCbi","QuizDefine",void 0);e("quizLvl",[{mcName:"Hiệp Sĩ PoWa",hp:16,atk:2,enemyName:"CaKi",enemyHp:20,enemyAtk:2},{mcName:"Hiệp Sĩ PoWa",hp:28,atk:3,enemyName:"ONi",enemyHp:30,enemyAtk:4},{mcName:"Hiệp Sĩ PoWa",hp:36,atk:5,enemyName:"GoBa",enemyHp:45,enemyAtk:5}]),e("questionTime",30),e("skipCost",30),e("skipUses",1),e("skimCost",50),e("skimUses",1),e("shieldCost",80),e("shieldUses",2),e("dropsKey","drops"),e("lvlKey","quizLvl");i._RF.pop()}}}));

System.register("chunks:///_virtual/QuizManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Character.ts","./MainCharacter.ts","./Popup.ts","./QuizDefine.ts","./ButtonAnswer.ts","./UserProfile.ts","./Story.ts","./QuizStory.ts","./AudioMgr.ts"],(function(t){var e,i,s,n,o,r,a,u,h,l,c,p,d,f,b,m,y,C,S,v,g,k,w,A,z,D,I,L,E,N,q,T,G,x,B,Q,U,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,s=t.inheritsLoose,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t.js,a=t._decorator,u=t.CCString,h=t.CCInteger,l=t.Sprite,c=t.Label,p=t.Button,d=t.Node,f=t.resources,b=t.JsonAsset,m=t.randomRangeInt,y=t.director,C=t.SpriteFrame,S=t.KeyCode,v=t.sys,g=t.Component},function(t){k=t.Character},function(t){w=t.MainCharacter},function(t){A=t.Popup},function(t){z=t.shieldCost,D=t.skimCost,I=t.skipCost,L=t.quizLvl,E=t.shieldUses,N=t.skimUses,q=t.skipUses,T=t.questionTime},function(t){G=t.ButtonAnswer},function(t){x=t.userProfile},function(t){B=t.State},function(t){Q=t.QuizStory},function(t){U=t.AudioMgr,P=t.AudioDefine}],execute:function(){var K,M,_,O,R,Y,F,W,j,H,J,V,X,Z,$,tt,et,it,st,nt,ot,rt,at,ut,ht,lt,ct,pt,dt,ft,bt,mt,yt,Ct,St,vt,gt,kt,wt,At,zt,Dt,It;o._RF.push({},"805e23xK/5Fe5IFkpKG8r32","QuizManager",void 0);r.array;var Lt=a.ccclass,Et=a.property,Nt=t("GameState",function(t){return t[t.INIT=0]="INIT",t[t.RESET=1]="RESET",t[t.PLAYING=2]="PLAYING",t[t.END=3]="END",t}({})),qt=t("QuizItem",(K=Lt("QuizItem"),M=Et([u]),K((R=e((O=function(t,e,s){void 0===t&&(t=-1),void 0===e&&(e=""),void 0===s&&(s=[]),i(this,"used",R,this),i(this,"question",Y,this),i(this,"lastAnsIdx",F,this),i(this,"answers",W,this),this.lastAnsIdx=t,this.question=e,this.answers=s}).prototype,"used",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=e(O.prototype,"question",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=e(O.prototype,"lastAnsIdx",[Et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(O.prototype,"answers",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=O))||_));t("QuizManager",(j=Lt("QuizManager"),H=Et(h),J=Et(w),V=Et(k),X=Et(l),Z=Et(c),$=Et(p),tt=Et(p),et=Et(p),it=Et(p),st=Et(c),nt=Et(c),ot=Et([d]),rt=Et([qt]),at=Et(Q),ut=Et(A),ht=Et(d),j((pt=e((ct=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"level",pt,n(e)),i(e,"mainChar",dt,n(e)),i(e,"enemy",ft,n(e)),i(e,"spriteBG",bt,n(e)),i(e,"labelDrops",mt,n(e)),i(e,"buttonBack",yt,n(e)),i(e,"buttonSkip",Ct,n(e)),i(e,"buttonSkimAns",St,n(e)),i(e,"buttonShield",vt,n(e)),i(e,"labelTime",gt,n(e)),i(e,"labelQuestion",kt,n(e)),i(e,"buttonNodes",wt,n(e)),i(e,"questions",At,n(e)),i(e,"story",zt,n(e)),i(e,"popup",Dt,n(e)),i(e,"overlay",It,n(e)),e.shuffledIndexes=void 0,e.btnAnsCorrect=void 0,e.dict={0:"A. ",1:"B. ",2:"C. ",3:"D. "},e.usedCount=0,e.timeLeft=0,e.currentDrops=0,e.skipsUsed=0,e.skimsUsed=0,e.shieldUsed=0,e}s(e,t);var o=e.prototype;return o.onLoad=function(){},o.onEnable=function(){this.buttonShield.node.on(p.EventType.CLICK,this.activateShield,this),this.buttonSkip.node.on(p.EventType.CLICK,this.skipQuiz,this),this.buttonSkimAns.node.on(p.EventType.CLICK,this.skimAnswers,this),this.buttonBack.node.on(p.EventType.CLICK,this.showPopupBack,this)},o.onDisable=function(){this.buttonShield.node.off(p.EventType.CLICK,this.activateShield,this),this.buttonSkip.node.off(p.EventType.CLICK,this.skipQuiz,this),this.buttonSkimAns.node.off(p.EventType.CLICK,this.skimAnswers,this),this.buttonBack.node.off(p.EventType.CLICK,this.showPopupBack,this)},o.start=function(){this.setCurState(Nt.INIT)},o.update=function(t){},o.setCurState=function(t){switch(t){case Nt.INIT:this.init();break;case Nt.RESET:this.resetGame();case Nt.PLAYING:U.inst.playOneShot(P.quizStart),this.showNextQuestion(),setTimeout((function(){U.inst.play(P.quizBGM)}),1e3);break;case Nt.END:this.mainChar.hp<=0?this.showPopupLose():this.endGameWin()}},o.init=function(){switch(this.popup.quizManager=this,this.story.quizManager=this,this.shuffledIndexes=Array.from(Array(this.buttonNodes.length).keys()),this.buttonShield.getComponentInChildren(c).string=z.toString(),this.buttonSkimAns.getComponentInChildren(c).string=D.toString(),this.buttonSkip.getComponentInChildren(c).string=I.toString(),x.currentLevel){case 3:this.level=1;break;case 5:this.level=2;break;default:case 1:this.level=0}this.setUpLevel()},o.setUpLevel=function(){var t=this,e=L[this.level],i=e.mcName,s=e.hp,n=e.atk,o=e.enemyName,r=e.enemyHp,a=e.enemyAtk;this.mainChar.setUpChar(i,s,n),this.enemy.setUpChar(o,r,a),this.enemy.setCharSprite(this.level),this.story.setStoryChars(i,o,this.level),this.loadBG(),f.load("JSON/questions",b,(function(e,i){for(var s=0;s<i.json.length;s++){var n=i.json[s];if(n.level==t.level){var o=new qt(n.lastAnsIdx,n.question,[n.ans0,n.ans1,n.ans2,n.ans3]);t.questions.push(o)}}t.resetGame()}))},o.resetGame=function(){this.currentDrops=x.waterDrops,this.currentDrops||(this.currentDrops=0),this.skipsUsed=0,this.skimsUsed=0,this.shieldUsed=0,this.updateDropsDisplay(),this.mainChar.resetStats(),this.enemy.resetStats(),this.usedCount=0,this.questions.forEach((function(t){t.used=!1})),this.showStory()},o.showNextQuestion=function(){var t=this,e=this.getRandomQuestion();e.used=!0,this.usedCount++,this.labelQuestion.string=e.question,this.randomizeAnsOrder(e.lastAnsIdx);var i=0;this.buttonNodes.forEach((function(s){var n=t.shuffledIndexes[i];0==n&&(t.btnAnsCorrect=s.getComponent(G),t.story.ansButton.getComponentInChildren(c).string=t.dict[i]+e.answers[n]),s.getComponent(G).resetButton(t.dict[i]+e.answers[n]),s.on(p.EventType.CLICK,(function(){t.onAnswerSelected(n,s.getComponent(G))}),t),i++})),this.mainChar.toggleShield(!1),this.buttonShield.interactable=this.currentDrops>z&&this.shieldUsed<E,this.overlay.active=!1,this.startCountdown()},o.randomizeAnsOrder=function(t){if(this.shuffledIndexes.sort((function(){return Math.random()-.5})),-1!=t)for(var e=0;e<this.shuffledIndexes.length;e++)if(this.shuffledIndexes[e]==t)return this.shuffledIndexes.splice(e,1),void this.shuffledIndexes.push(t)},o.getRandomQuestion=function(){if(!x.storyCompleteStatus.scene4&&0==this.level)return this.questions[0];var t=-1;do{t=m(0,this.questions.length)}while(1==this.questions[t].used&&this.usedCount<this.questions.length);return this.questions[t]},o.onAnswerSelected=function(t,e){void 0===e&&(e=this.btnAnsCorrect),this.timeLeft<=0?console.log("xdd blocked"):(this.overlay.active=!0,this.unscheduleAllCallbacks(),0==t?(U.inst.playOneShot(P.quizCorrectAns),e.showCorrect(),this.mainChar.animateAttack(this.enemy,this,this.checkEndGame)):(U.inst.playOneShot(P.quizWrongAns),e.showWrong(),this.btnAnsCorrect.showCorrect(),this.enemy.animateAttack(this.mainChar,this,this.checkEndGame)))},o.checkEndGame=function(){if(x.storyCompleteStatus.scene4||0!=this.level)return this.mainChar.hp<=0||this.enemy.hp<=0?(this.unscheduleAllCallbacks(),void this.setCurState(Nt.END)):void this.scheduleOnce(this.showNextQuestion,1)},o.restartGame=function(){this.setCurState(Nt.RESET)},o.endGameWin=function(){x.waterDrops=this.currentDrops,x.maxLevel=Math.max(x.currentLevel+1,x.maxLevel),this.showPopupWin()},o.backToMap=function(){y.loadScene("home")},o.loadBG=function(){var t=this,e="sprites/quizGame/Background_"+this.level.toString()+"/spriteFrame";f.load(e,C,(function(e,i){t.spriteBG.spriteFrame=i}))},o.activateShield=function(){U.inst.playOneShot(P.quizShield),this.currentDrops<z||this.shieldUsed>=E||(this.shieldUsed++,this.currentDrops-=z,this.updateDropsDisplay(),this.buttonShield.interactable=!1,this.mainChar.toggleShield(!0))},o.skimAnswers=function(){if(U.inst.playOneShot(P.quizSkim),!(this.currentDrops<D||this.skimsUsed>=N)){this.skimsUsed++,this.currentDrops-=D,this.updateDropsDisplay(),this.buttonSkimAns.interactable=!1;for(var t=0,e=0;e<this.buttonNodes.length;e++){if(t>1)return;0!=this.shuffledIndexes[e]&&(this.buttonNodes[e].active=!1,t++)}}},o.skipQuiz=function(){U.inst.playOneShot(P.quizSkip),this.currentDrops<I||this.skipsUsed>=q||(this.skipsUsed++,this.currentDrops-=I,this.updateDropsDisplay(),this.showNextQuestion())},o.startCountdown=function(){this.timeLeft=T,this.labelTime.string=this.timeLeft.toString(),x.storyCompleteStatus.scene4&&this.schedule(this.reduceTime,1,T-1)},o.reduceTime=function(){this.timeLeft-=1,this.labelTime.string=this.timeLeft.toString(),this.timeLeft<=0&&(this.overlay.active=!0,this.btnAnsCorrect.showCorrect(),this.enemy.animateAttack(this.mainChar,this,this.checkEndGame))},o.showPopupLose=function(){this.unscheduleAllCallbacks(),this.popup.showPopupLose()},o.showPopupBack=function(){this.popup.showPopupBack()},o.showPopupWin=function(){this.unscheduleAllCallbacks(),this.popup.showPopupWin()},o.updateDropsDisplay=function(){this.labelDrops.string=this.currentDrops.toString(),this.buttonSkip.interactable=this.currentDrops>I&&this.skipsUsed<q,this.buttonSkimAns.interactable=this.currentDrops>D&&this.skimsUsed<N,this.buttonShield.interactable=this.currentDrops>z&&this.shieldUsed<E},o.onKeyDown=function(t){switch(t.keyCode){case S.KEY_A:this.cheatDrops(81);break;case S.KEY_B:this.cheatDrops(0);break;case S.KEY_D:v.localStorage.clear()}},o.cheatDrops=function(t){this.currentDrops=t,this.updateDropsDisplay()},o.showStory=function(){switch(this.story.node.active=!0,this.level){case 0:return void(x.storyCompleteStatus.scene4?(this.story.setStateInactive(),this.setCurState(Nt.PLAYING)):this.story.showQuizStory(B.Scene_4_13A));case 1:return void(x.storyCompleteStatus.scene7?(this.story.setStateInactive(),this.setCurState(Nt.PLAYING)):this.story.showQuizStory(B.Scene_7_16));case 2:return void(x.storyCompleteStatus.scene10?(this.story.setStateInactive(),this.setCurState(Nt.PLAYING)):this.story.showQuizStory(B.Scene_10_19A))}},o.getCorrectBtnNode=function(){return this.btnAnsCorrect.node},e}(g)).prototype,"level",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dt=e(ct.prototype,"mainChar",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(ct.prototype,"enemy",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=e(ct.prototype,"spriteBG",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=e(ct.prototype,"labelDrops",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=e(ct.prototype,"buttonBack",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=e(ct.prototype,"buttonSkip",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(ct.prototype,"buttonSkimAns",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=e(ct.prototype,"buttonShield",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=e(ct.prototype,"labelTime",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=e(ct.prototype,"labelQuestion",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(ct.prototype,"buttonNodes",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),At=e(ct.prototype,"questions",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=e(ct.prototype,"story",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=e(ct.prototype,"popup",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=e(ct.prototype,"overlay",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=ct))||lt));o._RF.pop()}}}));

System.register("chunks:///_virtual/QuizStory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Story.ts","./QuizManager.ts","./UserProfile.ts"],(function(e){var t,i,n,a,s,c,o,r,h,u,l,p,_,S,m,y,b,C,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,o=e.js,r=e.Node,h=e.Vec3,u=e.Button,l=e.resources,p=e.SpriteFrame,_=e.UITransform,S=e.Sprite},function(e){m=e.State,y=e.SpriteFrameId,b=e.Story},function(e){C=e.GameState},function(e){g=e.userProfile}],execute:function(){var d,v,f,k,N,A,B;s._RF.push({},"b6d69ZQ/4xP+odHBdyVSgp2","QuizStory",void 0);var P=c.ccclass,T=c.property,z=o.array.contains,M=[{content_3_13A:"Ngươi là tên nào? Sao lại có thể đến được khu vực này?",content_3_13AB:"Ta đến đây để đánh bại ngươi và giải cứu Trái Đất!",content_3_13D:"Để đánh bại CaKi, bạn cần trả lời đúng các câu hỏi mà hắn đưa ra.",content_3_13E:"Phía dưới là các câu trả lời khả dụng, hãy thử nào.",content_3_13F:"Với mỗi câu trả lời đúng, bạn sẽ có cơ hội tấn công kẻ địch."},{content_7_16:"Ngươi biết ta là ai không mà dám xâm nhập vào đây. Ta là ONi - quái vật của sự ô nhiễm nước, cánh tay phải của ngài GoBa và sẽ là kẻ đánh bại ngươi."},{content_10_19A:"Đánh bại các thuộc hạ của ta thì ngươi quả thật không tầm thường.",content_10_19B:"Ta đến đây là để tiêu diệt ngươi GoBa!"}];e("QuizStory",(d=P("QuizStory"),v=T(r),f=T(r),d((A=t((N=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s))||this,n(t,"uiContainer",A,a(t)),n(t,"ansButton",B,a(t)),t.quizManager=void 0,t.mcName=void 0,t.enemyName=void 0,t}i(t,e);var s=t.prototype;return s.start=function(){this.background.node.active=!1,this.earth.node.active=!1},s.update=function(e){},s.setState=function(e){var t=this;switch(this.state=e,e){case m.Inactive:this.node.active=!1;break;case m.Scene_4_13A:this.blockInput.enabled=!0,this.uiContainer.active=!1,this.MC.grayscale=!0,this.MC.spriteFrame=this.spriteFrames[y.McAngry],this.speechName.string=this.enemyName,this.setLabelAnimation(M[0].content_3_13A,this.speechContentRichText);break;case m.Scene_4_13B:this.NPC.grayscale=!0,this.showMCSpeech(y.McAngryTalk,M[0].content_3_13AB);break;case m.Scene_4_13C:this.MC.node.active=!1,this.NPC.node.active=!1,this.speechBubble.active=!1,this.uiContainer.active=!0,this.quizManager.setCurState(C.PLAYING),setTimeout((function(){t.setState(m.Scene_4_13D)}),1500);break;case m.Scene_4_13D:this.setGrayScale(!0,["Sprite-QuestionBG"]),this.showNPCPortraitSpeech(M[0].content_3_13D),this.speechBubble.position=new h(50,200,0);break;case m.Scene_4_13E:this.setGrayScale(!1),this.setLabelAnimation(M[0].content_3_13E,this.speechContentRichText),this.background.node.active=!0,this.ansButton.active=!0,this.ansButton.on(u.EventType.CLICK,this.finishTutorial,this);break;case m.Scene_4_13F:this.blockInput.enabled=!1,this.background.node.active=!1,this.ansButton.active=!1,this.setGrayScale(!0,["Sprite-MC","Sprite-Enemy"]),this.setLabelAnimation(M[0].content_3_13F,this.speechContentRichText),this.speechBubble.position=new h(0,-150,0);break;case m.Scene_4_13G:setTimeout((function(){t.setGrayScale(!1),g.storyCompleteStatus.scene4=!0,t.hideStory()}),3001);break;case m.Scene_7_16:this.blockInput.enabled=!0,this.uiContainer.active=!1,this.MC.grayscale=!0,this.speechName.string=this.enemyName,this.setLabelAnimation(M[1].content_7_16,this.speechContentRichText);break;case m.Scene_8_17A:g.storyCompleteStatus.scene7=!0,this.hideStory();break;case m.Scene_10_19A:this.blockInput.enabled=!0,this.uiContainer.active=!1,this.MC.grayscale=!0,this.speechName.string=this.enemyName,this.setLabelAnimation(M[2].content_10_19A,this.speechContentRichText);break;case m.Scene_10_19B:this.MC.grayscale=!1,this.NPC.grayscale=!0,this.speechName.string=this.mcName,this.setLabelAnimation(M[2].content_10_19B,this.speechContentRichText);break;case m.Scene_11_20A:g.storyCompleteStatus.scene10=!0,this.hideStory()}},s.showQuizStory=function(e){this.setState(e)},s.setStoryChars=function(e,t,i){var n=this;this.mcName=e,this.enemyName=t;var a="sprites/home/Boss_Lv"+i.toString()+"/spriteFrame";l.load(a,p,(function(e,t){switch(i){case 0:n.NPC.getComponent(_).setContentSize(430.1,550);break;case 1:n.NPC.getComponent(_).setContentSize(1248.5,550);break;case 2:n.NPC.getComponent(_).setContentSize(557.7,550)}n.NPC.node.setPosition(new h(550,-100,0)),n.NPC.spriteFrame=t}))},s.finishTutorial=function(){this.quizManager.onAnswerSelected(0),this.setState(m.Scene_4_13F)},s.hideStory=function(){this.quizManager.setCurState(C.PLAYING),this.speechBubble.active=!1,this.MC.node.active=!1,this.NPC.node.active=!1,this.uiContainer.active=!0,this.node.active=!1},s.setGrayScale=function(e,t){void 0===t&&(t=null),this.uiContainer.getComponentsInChildren(S).forEach((function(i){e?z(t,i.node.name)||"Sprite-Hit"==i.node.name?i.grayscale=!1:i.grayscale=!0:i.grayscale=!1}))},t}(b)).prototype,"uiContainer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(N.prototype,"ansButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=N))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/ShieldEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,i,r,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.Sprite,r=e.Color,s=e.tween,c=e.Component}],execute:function(){var l;n._RF.push({},"0b397JqdE1OZLWW8G2WdsyK","ShieldEffect",void 0);var a=o.ccclass;o.property,e("ShieldEffect",a("ShieldEffect")(l=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).shieldSprite=void 0,t.shieldTween=void 0,t}t(n,e);var o=n.prototype;return o.start=function(){},o.onEnable=function(){this.shieldSprite||(this.shieldSprite=this.getComponent(i));var e=this.shieldSprite,t=new r(255,255,255,255),n=s(t).to(1.5,{r:255,g:255,b:255,a:50},{onUpdate:function(t){e.color=t}}).to(1.5,{r:255,g:255,b:255,a:230},{onUpdate:function(t){e.color=t}});this.shieldTween=s(t).repeatForever(n).start()},o.onDisable=function(){this.shieldTween.stop()},o.update=function(e){},n}(c))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(t){var e,o,n,r,c,i,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,r=t.director,c=t.Component},function(t){i=t.AudioMgr,u=t.AudioDefine}],execute:function(){var a;o._RF.push({},"74dab9+9tBMCYHzimuwDzuH","start",void 0);var s=n.ccclass;n.property,t("start",s("start")(a=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.onLoad=function(){console.log("ver 0.0.6"),r.preloadScene("home",(function(){r.preloadScene("mazeGame"),r.preloadScene("quizGame")}))},n.start=function(){},n.update=function(t){},n.onClickStart=function(){i.inst.playOneShot(u.tapButton),r.loadScene("home")},o}(c))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/StatsBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./EventManager.ts"],(function(e){var t,a,n,r,o,i,l,c,s,u,h,p,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,l=e.Label,c=e.Node,s=e.Sprite,u=e.UIOpacity,h=e.Component},function(e){p=e.userProfile},function(e){d=e.eventManager,g=e.EventName}],execute:function(){var f,P,y,w,C,b,H,m,M;o._RF.push({},"27e96+kZ9ZFH4C89KySTlCu","StatsBoard",void 0);var x=i.ccclass,v=i.property;e("StatsBoard",(f=x("StatsBoard"),P=v(l),y=v(l),w=v(c),f((H=t((b=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"waterDropslabel",H,r(t)),n(t,"knowledgePieceLabel",m,r(t)),n(t,"playerHealthContainer",M,r(t)),t.knowledgePiecesMax=0,t.knowledfePieces=0,t}a(t,e);var o=t.prototype;return o.onEnable=function(){d.on(g.onWaterDropChange,this.updateWaterDrops,this),d.on(g.onPlayerMaxHealthChange,this.updatePlayerMaxHealth,this),d.on(g.onPlayerCurrentHealthChange,this.updatePlayerCurrentHealth,this),d.on(g.onKnowledgePieceMaxChange,this.updateKnowledgePieceMax,this),d.on(g.onKnowledgePieceChange,this.updateKnowledgePiece,this)},o.onDisable=function(){d.off(g.onWaterDropChange,this.updateWaterDrops,this),d.off(g.onPlayerMaxHealthChange,this.updatePlayerMaxHealth,this),d.off(g.onPlayerCurrentHealthChange,this.updatePlayerCurrentHealth,this),d.off(g.onKnowledgePieceMaxChange,this.updateKnowledgePieceMax,this),d.off(g.onKnowledgePieceChange,this.updateKnowledgePiece,this)},o.updateWaterDrops=function(){this.waterDropslabel.string=""+p.waterDrops},o.updatePlayerMaxHealth=function(){this.playerHealthContainer.children.forEach((function(e,t){e.active=t<p.mazeGameSection.playerMaxHealth}))},o.updatePlayerCurrentHealth=function(){this.playerHealthContainer.children.forEach((function(e,t){var a=t<p.mazeGameSection.playerCurrentHealth,n=e.getComponent(s);n&&(n.grayscale=!a);var r=e.getComponent(u);r&&(r.opacity=a?255:150)}))},o.updateKnowledgePieceMax=function(){this.updateKnowledgePiece()},o.updateKnowledgePiece=function(){this.knowledgePieceLabel.string=p.mazeGameSection.knowledgePieces+"/"+p.mazeGameSection.knowledgePiecesMax},t}(h)).prototype,"waterDropslabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(b.prototype,"knowledgePieceLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(b.prototype,"playerHealthContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/Story.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserProfile.ts","./EventManager.ts"],(function(e){var t,n,c,i,a,h,s,r,o,_,l,S,u,b,p,m,g,C,v,y,d,k,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,c=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,h=e._decorator,s=e.SpriteFrame,r=e.BlockInputEvents,o=e.Sprite,_=e.Node,l=e.Label,S=e.RichText,u=e.Camera,b=e.resources,p=e.Input,m=e.director,g=e.tween,C=e.Tween,v=e.Color,y=e.Component},function(e){d=e.userProfile},function(e){k=e.eventManager,f=e.EventName}],execute:function(){var T,N,w,B,A,L,P,G,M,x,H,z,D,E,F,O,I,R,j,q,U,K,W,X,V,$,J,Q,Y,Z,ee,te,ne,ce,ie;a._RF.push({},"4960fuq1h9Pi7eErNV6jU3w","Story",void 0);var ae=h.ccclass,he=h.property,se="Hiệp Sĩ PoWa",re="Nina",oe="Trái Đất đang dần bị ô nhiễm nặng? Có chuyện gì đang xảy ra?",_e="Trái Đất đang bị một binh đoàn quái vật xâm chiếm, chúng có âm mưu tiêu diệt mọi sự sống nơi đây.",le="Cầm đầu binh đoàn quái vật là GoBa, hắn cùng các tên thuộc hạ đang \ndần <color=#ff0000>hủy hoại</color> nguồn nước sạch của Trái Đất.",Se="Xin hãy giúp đỡ chúng tôi! <color=#ff0000>Không có nguồn nước sạch, sự sống trên \nTrái Đất sẽ bị đe dọa!</color>",ue="Xin hãy nói tôi biết rằng làm sao để có thể đánh bại GoBa.",be="Để tiêu diệt được GoBa và các thuộc hạ của hắn, bạn cần phải được trang bị những bảo vật và bí kíp nâng cấp sức mạnh bản thân.",pe="Những bí kíp này được giấu ở khắp nơi trên Trái Đất. Thu thập chúng giúp gia tăng sức mạnh và trí tuệ, mới có thể đánh đuổi quái vật.",me='Bí kíp đầu tiên chính là Bí kíp Sử dụng nước hiệu quả - được giấu sâu trong Hang Động Suối Nguồn. Nơi đây từng là nguồn cung cấp nước của cả hành tinh, nhưng giờ đã bị xâm chiếm bởi thuộc hạ của GoBa."',ge="Thu được bí kíp này sẽ giúp Hiệp sĩ sử dụng nước tiết kiệm và hiệu quả, gia tăng sát thương và khả năng chiến đấu!",Ce="Bạn cần thu thập đủ 3 mảnh của Bí kíp, chúng sẽ giúp nâng cấp sức mạnh và hỗ trợ bạn hạ gục GoBa và đám thuộc hạ!",ve="Lưu ý hãy né tránh bọn lâu la của GoBa và thu thập thật nhiều giọt nước để nhận được hỗ trợ từ nguồn nước.",ye="Chặng đường của chúng ta chỉ mới bắt đầu.Muốn đánh bại GoBa chúng ta phải vượt qua Sa Mạc Nóng Chảy trước mặt.Đây là nơi mà tướng CaKi đang nắm quyền kiểm soát.",de="Hắn ta là 1 trong 2 tên tướng lĩnh ghê gớm của GoBa.CaKi có khả năng hút cạn nước ở bất cứ nơi đâu, làm suy kiệt nguồn nước trên Trái Đất, biến khắp mọi nơi thành Sa Mạc. Đánh bại hắn, con người mới có đầy đủ nước dùng!",ke="Xin Hiệp sĩ hãy cẩn thận với các lựa chọn của mình khi giao chiến với CaKi!",fe="Sau khi hạ gục CaKi, bạn có thể thấy tình trạng cạn kiệt nước của Trái Đất đã được cải thiện rất nhiều. Tuy vậy, mục tiêu của chúng ta cần phải đánh đuổi GoBa và bè lũ tay sai quái ác. \n\nHãy tiếp tục hành trình thu thập kiến thức để tiêu diệt quái vật và giải cứu Trái Đất nha!",Te="Chúc mừng Hiệp sĩ đã tiêu diệt được CaKi. Nguồn nước trên Trái Đất đang dần được hồi phục.",Ne="Có vẻ như việc đánh bại CaKi đã chọc tức GoBa, hắn ta đã ra lệnh cho tướng ONi tăng cường đầu độc tất cả nguồn nước trên Trái Đất cùng lúc khiến bất cứ ai sử dụng nước đều bị nhiễm bệnh và suy giảm sức khỏe.",we="Bây giờ chúng ta cần tìm kiếm Bảo vật Máy lọc nước để lọc sạch nước, đảm bảo chất lượng cho mọi người!",Be="Bí Kíp Lọc Nước là cuốn bí kíp giúp có thể Lọc sạch chất bẩn của nước. Tuy nhiên bảo vật này đang bị phong ấn tại Lâu Đài Rác Thải và được canh phòng vô cùng nghiêm ngặt.",Ae="Hãy lẻn vào Lâu Đài và cùng đoạt lại cuốn bí kíp đó để chúng ta có thể lọc sạch nước!",Le="Cảm ơn Hiệp sĩ! Mọi người đã có nước sạch để dùng, từ đó sức khỏe đã được cải thiện hơn!",Pe="Bí Kíp Lọc Nước chỉ có thể cầm cự tạm thời với sức mạnh của quái vật. Chúng sẽ lại tăng cường gây ô nhiễm! Muốn thực sự giải quyết được vấn đề nước sạch, chúng ta cần phải đánh bại tên quái vật của sự ô nhiễm - ONi.",Ge="Sau khi hạ gục ONi, bạn có thể thấy tình trạng ô nhiễm của Trái Đất đã được cải thiện rất nhiều. Khi này, GoBa đã mất cả hai tay sai đắc lực của mình, hắn quyết định tự ra mặt. Hãy tiếp tục hành trình thu thập kiến thức và sức mạnh vì GoBa là kẻ nguy hiểm nhất.",Me="Hiệp sĩ ơi, GoBa đang trở nên điên cuồng. Hắn định quét sạch mọi thứ. Hắn hô mưa gọi gió, tăng nhiệt độ Trái Đất khiến băng 2 cực tan nhanh hơn, gia tăng thiên tai khiến con người không thể sinh sống.",xe="Chúng ta phải lên đường tiêu diệt hắn thôi, nhưng chỉ với sức mạnh hiện tại thì chưa đủ. Chúng ta cần đến Bí Kíp e-Pro Water! Hiệp sĩ hãy lên đường tới .... để tìm và thu thập Bí Kíp e-Pro Water nhé!",He="Chúc mừng Hiệp sĩ, với Bí kíp này, giờ bạn đã trở thành Hiệp sĩ \ne-ProWater chân chính! Hãy đánh bại GoBa và giải cứu cho nguồn nước của toàn Trái Đất thôi nào!",ze="Bạn đã đánh bại GoBa cùng các thuộc hạ của hắn, Trái Đất đã trong xanh trở lại.",De=2,Ee=4,Fe=e("State",function(e){return e[e.Inactive=0]="Inactive",e[e.Scene_1_1=1]="Scene_1_1",e[e.Scene_1_2=2]="Scene_1_2",e[e.Scene_1_3=3]="Scene_1_3",e[e.Scene_1_4=4]="Scene_1_4",e[e.Scene_1_5=5]="Scene_1_5",e[e.Scene_1_6=6]="Scene_1_6",e[e.Scene_1_7_1=7]="Scene_1_7_1",e[e.Scene_1_7_2=8]="Scene_1_7_2",e[e.Scene_1_8_1=9]="Scene_1_8_1",e[e.Scene_1_8_3=10]="Scene_1_8_3",e[e.Scene_2_1=11]="Scene_2_1",e[e.Scene_2_2=12]="Scene_2_2",e[e.Scene_2_3=13]="Scene_2_3",e[e.Scene_3_1=14]="Scene_3_1",e[e.Scene_3_2=15]="Scene_3_2",e[e.Scene_3_3=16]="Scene_3_3",e[e.Scene_3_4=17]="Scene_3_4",e[e.Scene_4_13A=18]="Scene_4_13A",e[e.Scene_4_13B=19]="Scene_4_13B",e[e.Scene_4_13C=20]="Scene_4_13C",e[e.Scene_4_13D=21]="Scene_4_13D",e[e.Scene_4_13E=22]="Scene_4_13E",e[e.Scene_4_13F=23]="Scene_4_13F",e[e.Scene_4_13G=24]="Scene_4_13G",e[e.Scene_5_14A=25]="Scene_5_14A",e[e.Scene_5_14B=26]="Scene_5_14B",e[e.Scene_5_14C=27]="Scene_5_14C",e[e.Scene_5_14D=28]="Scene_5_14D",e[e.Scene_5_14E=29]="Scene_5_14E",e[e.Scene_5_14F=30]="Scene_5_14F",e[e.Scene_5_14G=31]="Scene_5_14G",e[e.Scene_5_14H=32]="Scene_5_14H",e[e.Scene_6_15A=33]="Scene_6_15A",e[e.Scene_6_15B=34]="Scene_6_15B",e[e.Scene_6_15C=35]="Scene_6_15C",e[e.Scene_6_15D=36]="Scene_6_15D",e[e.Scene_7_16=37]="Scene_7_16",e[e.Scene_8_17A=38]="Scene_8_17A",e[e.Scene_8_17B=39]="Scene_8_17B",e[e.Scene_8_17C=40]="Scene_8_17C",e[e.Scene_8_17D=41]="Scene_8_17D",e[e.Scene_8_17E=42]="Scene_8_17E",e[e.Scene_8_17F=43]="Scene_8_17F",e[e.Scene_9_18A=44]="Scene_9_18A",e[e.Scene_9_18B=45]="Scene_9_18B",e[e.Scene_10_19A=46]="Scene_10_19A",e[e.Scene_10_19B=47]="Scene_10_19B",e[e.Scene_11_20A=48]="Scene_11_20A",e[e.Scene_11_20B=49]="Scene_11_20B",e[e.Scene_11_20C=50]="Scene_11_20C",e[e.Scene_11_20D=51]="Scene_11_20D",e}({})),Oe=e("SpriteFrameId",function(e){return e[e.Mc=0]="Mc",e[e.McAngry=1]="McAngry",e[e.McAngryTalk=2]="McAngryTalk",e[e.McSad=3]="McSad",e[e.NpcHappy=4]="NpcHappy",e[e.NpcSad=5]="NpcSad",e[e.NpcTalk=6]="NpcTalk",e}({}));e("Story",(T=ae("Story"),N=he({type:s}),w=he(r),B=he(o),A=he(o),L=he(o),P=he(o),G=he(o),M=he(_),x=he(_),H=he(_),z=he(l),D=he(l),E=he(S),F=he(S),O=he(u),I=he(u),T((q=t((j=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),h=0;h<n;h++)a[h]=arguments[h];return t=e.call.apply(e,[this].concat(a))||this,c(t,"spriteFrames",q,i(t)),c(t,"blockInput",U,i(t)),c(t,"background",K,i(t)),c(t,"overlay",W,i(t)),c(t,"earth",X,i(t)),c(t,"MC",V,i(t)),c(t,"NPC",$,i(t)),c(t,"miniNPC",J,i(t)),c(t,"NPCPortrait",Q,i(t)),c(t,"speechBubble",Y,i(t)),c(t,"speechName",Z,i(t)),c(t,"speechContent",ee,i(t)),c(t,"speechContentRichText",te,i(t)),c(t,"narrationRichText",ne,i(t)),c(t,"mazeGameCameraGame",ce,i(t)),c(t,"mazeGameCameraUI",ie,i(t)),t.state=0,t.labelTweenObject={length:0,isDone:!1,label:null,text:"",texts:[]},t}n(t,e);var a=t.prototype;return a.onEnable=function(){this.onListenerTouchStart()},a.onDisable=function(){this.offListenerTouchStart()},a.start=function(){b.preload("sprites/story/NPC_Happy/spriteFrame"),b.preload("sprites/story/NPC_Sad/spriteFrame"),b.preload("sprites/story/NPC_Talk/spriteFrame")},a.update=function(e){},a.setState=function(e){var t=this;switch(this.state=e,this.state){case Fe.Inactive:this.node.active=!1;break;case Fe.Scene_1_1:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),this.background.node.active=!0,this.earth.node.active=!0,setTimeout((function(){t.setState(Fe.Scene_1_2)}),2e3);break;case Fe.Scene_1_2:this.MC.node.active=!0,this.MC.grayscale=!1,this.MC.spriteFrame=this.spriteFrames[Oe.McSad],this.speechBubble.active=!0,this.speechName.string=se,this.setLabelAnimation(oe,this.speechContent);break;case Fe.Scene_1_3:this.MC.grayscale=!0,this.NPC.node.active=!0,this.NPC.grayscale=!1,this.speechName.string=re,this.showNPCSpeech(Oe.NpcSad,_e,this.speechContent);break;case Fe.Scene_1_4:this.speechContent.string="",this.setLabelAnimation(le,this.speechContentRichText);break;case Fe.Scene_1_5:this.setLabelAnimation(Se,this.speechContentRichText);break;case Fe.Scene_1_6:this.MC.grayscale=!1,this.MC.spriteFrame=this.spriteFrames[Oe.McAngryTalk],this.NPC.grayscale=!0,this.speechName.string=se,this.speechContentRichText.string="",this.setLabelAnimation(ue,this.speechContent);break;case Fe.Scene_1_7_1:this.background.node.active=!1,this.earth.node.active=!1,this.MC.node.active=!1,this.MC.grayscale=!0,this.NPC.grayscale=!1,this.speechName.string=re,this.showNPCSpeech(Oe.NpcTalk,be,this.speechContent);break;case Fe.Scene_1_7_2:this.setLabelAnimation(pe,this.speechContent);break;case Fe.Scene_1_8_1:this.NPC.node.active=!1,this.miniNPC.active=!0,this.setLabelAnimation(me,this.speechContent);break;case Fe.Scene_1_8_3:this.setLabelAnimation(ge,this.speechContent),k.emit(f.onShowHandOnLevel,(function(){d.storyCompleteStatus.scene1=!0})),this.offListenerTouchStart();break;case Fe.Scene_2_1:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),this.speechBubble.active=!0,this.speechName.string=re,this.setLabelAnimation(Ce,this.speechContent),this.NPC.node.active=!0,this.NPC.grayscale=!1,this.mazeGameCameraGame&&(this.mazeGameCameraGame.visibility|=De,this.mazeGameCameraGame.visibility^=De),this.mazeGameCameraUI&&(this.mazeGameCameraUI.visibility|=Ee,this.mazeGameCameraUI.visibility^=Ee);break;case Fe.Scene_2_2:this.setLabelAnimation(ve,this.speechContent),this.mazeGameCameraGame&&(this.mazeGameCameraGame.visibility|=De);break;case Fe.Scene_2_3:this.mazeGameCameraUI&&(this.mazeGameCameraUI.visibility|=Ee),d.storyCompleteStatus.scene2=!0,this.setStateInactive();break;case Fe.Scene_3_1:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),this.NPC.node.active=!0,this.NPC.grayscale=!1,this.speechBubble.active=!0,this.speechName.string=re,this.setLabelAnimation(ye,this.speechContent);break;case Fe.Scene_3_2:this.setLabelAnimation(de,this.speechContent);break;case Fe.Scene_3_3:this.setLabelAnimation(ke,this.speechContent);break;case Fe.Scene_3_4:k.emit(f.onShowHandOnLevel),this.offListenerTouchStart(),d.storyCompleteStatus.scene3=!0;break;case Fe.Scene_5_14A:this.showNextEarthState();break;case Fe.Scene_5_14B:this.showNarration(fe,5);break;case Fe.Scene_5_14C:this.overlay.node.active=!1,this.narrationRichText.node.active=!1,this.showNPCSpeech(Oe.NpcHappy,Te,this.speechContent);break;case Fe.Scene_5_14D:this.showNPCSpeech(Oe.NpcTalk,Ne,this.speechContent);break;case Fe.Scene_5_14E:this.setLabelAnimation(we,this.speechContent);break;case Fe.Scene_5_14F:this.setLabelAnimation(Be,this.speechContent);break;case Fe.Scene_5_14G:this.setLabelAnimation(Ae,this.speechContent);break;case Fe.Scene_5_14H:k.emit(f.onShowHandOnLevel),this.offListenerTouchStart(),d.storyCompleteStatus.scene5=!0;break;case Fe.Scene_6_15A:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),this.showNPCSpeech(Oe.NpcTalk,Le,this.speechContent);break;case Fe.Scene_6_15B:this.setLabelAnimation(Pe,this.speechContent);break;case Fe.Scene_6_15C:k.emit(f.onShowHandOnLevel),this.offListenerTouchStart(),d.storyCompleteStatus.scene6=!0;break;case Fe.Scene_8_17A:this.showNextEarthState();break;case Fe.Scene_8_17B:this.showNarration(Ge,5);break;case Fe.Scene_8_17C:this.overlay.node.active=!1,this.narrationRichText.node.active=!1,this.showNPCSpeech(Oe.NpcSad,Me,this.speechContent);break;case Fe.Scene_8_17D:this.showNPCSpeech(Oe.NpcTalk,xe,this.speechContent);break;case Fe.Scene_8_17E:k.emit(f.onShowHandOnLevel),this.offListenerTouchStart(),d.storyCompleteStatus.scene8=!0;break;case Fe.Scene_9_18A:this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),this.showNPCSpeech(Oe.NpcTalk,He,this.speechContent);break;case Fe.Scene_9_18B:k.emit(f.onShowHandOnLevel),this.offListenerTouchStart(),d.storyCompleteStatus.scene9=!0;break;case Fe.Scene_11_20A:this.showNextEarthState();break;case Fe.Scene_11_20B:this.showNarration(ze,5);break;case Fe.Scene_11_20C:this.setLabelAnimation("Game over",this.narrationRichText,5)}},a.setStateInactive=function(){this.setState(Fe.Inactive)},a.startScene1=function(){this.setState(Fe.Scene_1_1)},a.startScene2=function(){this.setState(Fe.Scene_2_1)},a.startScene3=function(){this.setState(Fe.Scene_3_1)},a.startScene=function(e){this.setState(e)},a.onListenerTouchStart=function(){this.node.on(p.EventType.TOUCH_START,this.onTouchStart,this),this.blockInput.enabled=!0},a.offListenerTouchStart=function(){this.node.off(p.EventType.TOUCH_START,this.onTouchStart,this),this.blockInput.enabled=!1},a.onTouchStart=function(){switch(this.state){case Fe.Scene_1_2:case Fe.Scene_1_3:case Fe.Scene_1_4:case Fe.Scene_1_5:case Fe.Scene_1_6:case Fe.Scene_1_7_1:case Fe.Scene_1_7_2:case Fe.Scene_1_8_1:case Fe.Scene_1_8_3:case Fe.Scene_4_13A:case Fe.Scene_4_13B:case Fe.Scene_4_13D:case Fe.Scene_4_13F:case Fe.Scene_5_14B:case Fe.Scene_5_14C:case Fe.Scene_5_14D:case Fe.Scene_5_14E:case Fe.Scene_5_14F:case Fe.Scene_5_14G:case Fe.Scene_6_15A:case Fe.Scene_6_15B:case Fe.Scene_7_16:case Fe.Scene_8_17B:case Fe.Scene_8_17C:case Fe.Scene_8_17D:case Fe.Scene_8_17E:case Fe.Scene_9_18A:case Fe.Scene_10_19A:case Fe.Scene_10_19B:case Fe.Scene_11_20B:this.checkLabelAnimationDoneToChangeState(this.state+1);break;case Fe.Scene_2_1:this.checkLabelAnimationDoneToChangeState(Fe.Scene_2_2);break;case Fe.Scene_2_2:this.checkLabelAnimationDoneToChangeState(Fe.Scene_2_3);break;case Fe.Scene_3_1:this.checkLabelAnimationDoneToChangeState(Fe.Scene_3_2);break;case Fe.Scene_3_2:this.checkLabelAnimationDoneToChangeState(Fe.Scene_3_3);break;case Fe.Scene_3_3:this.checkLabelAnimationDoneToChangeState(Fe.Scene_3_4);break;case Fe.Scene_11_20C:m.loadScene("start")}},a.setLabelAnimation=function(e,t,n){var c=this;this.labelTweenObject.texts=e.split(" ");var i=this.labelTweenObject.texts.length;this.labelTweenObject.length=0,this.labelTweenObject.isDone=!1,this.labelTweenObject.label=t,this.labelTweenObject.text=e,g(this.labelTweenObject).to(i/20,{length:i},{onUpdate:function(e){var t=e.label,n=e.length,c=e.texts.slice(0,Math.floor(n)).join(" ");[{check:/<color[^<>]+>[^<>]+$/,add:"</color>"}].forEach((function(e){var t=e.check,n=e.add;c=c.replace(t,(function(e){return""+e+n}))})),t.string=c},onComplete:function(){c.labelTweenObject.isDone=!0}}).start()},a.checkLabelAnimationDoneToChangeState=function(e){this.labelTweenObject.isDone?this.setState(e):(C.stopAllByTarget(this.labelTweenObject),this.labelTweenObject.isDone=!0,this.labelTweenObject.label.string=this.labelTweenObject.text)},a.showNextEarthState=function(){var e=this;this.node.active=!0,this.node.children.forEach((function(e){return e.active=!1})),this.background.node.active=!0,this.earth.node.active=!0,this.overlay.node.active=!0;var t=-1;switch(d.maxLevel){case 2:t=0;break;case 4:t=1;break;case 5:t=2}var n="sprites/start/1stScreen_Earth_"+t+"/spriteFrame",c="sprites/start/1stScreen_Earth_"+(t+1)+"/spriteFrame";b.preload(c),b.load(n,s,(function(t,n){e.earth.spriteFrame=n;var i=e.overlay,a=new v(255,255,255,0);i.color=a,g(a).delay(.5).to(1.5,{r:255,g:255,b:255,a:255},{onUpdate:function(e){i.color=e}}).call((function(){b.load(c,s,(function(t,n){e.earth.spriteFrame=n}))})).to(1.5,{r:255,g:255,b:255,a:0},{onUpdate:function(e){i.color=e}}).delay(1).call((function(){e.setState(e.state+1)})).start()}))},a.showNarration=function(e,t){void 0===t&&(t=-1),this.earth.node.active=!1,this.background.node.active=!1,this.overlay.color=new v(0,0,0,255),this.narrationRichText.node.active=!0,this.setLabelAnimation(e,this.narrationRichText,t)},a.showNPCSpeech=function(e,t,n){void 0===n&&(n=this.speechContentRichText),this.speechBubble.active=!0,this.speechName.string=re,this.NPC.node.active=!0,this.NPC.grayscale=!1,this.NPC.spriteFrame=this.spriteFrames[e],this.setLabelAnimation(t,n)},a.showNPCPortraitSpeech=function(e,t){void 0===t&&(t=this.speechContentRichText),this.speechBubble.active=!0,this.speechName.string=re,this.MC.node.active=!1,this.NPC.node.active=!1,this.NPCPortrait.active=!0,this.setLabelAnimation(e,t)},a.showMCSpeech=function(e,t,n){void 0===n&&(n=this.speechContentRichText),this.speechBubble.active=!0,this.speechName.string=se,this.MC.node.active=!0,this.MC.grayscale=!1,this.MC.spriteFrame=this.spriteFrames[e],this.setLabelAnimation(t,n)},t}(y)).prototype,"spriteFrames",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(j.prototype,"blockInput",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(j.prototype,"background",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(j.prototype,"overlay",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=t(j.prototype,"earth",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(j.prototype,"MC",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(j.prototype,"NPC",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(j.prototype,"miniNPC",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(j.prototype,"NPCPortrait",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(j.prototype,"speechBubble",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(j.prototype,"speechName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(j.prototype,"speechContent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(j.prototype,"speechContentRichText",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(j.prototype,"narrationRichText",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(j.prototype,"mazeGameCameraGame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(j.prototype,"mazeGameCameraUI",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=j))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/TileMapControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Define.ts","./UserProfile.ts"],(function(e){var t,i,r,n,l,o,s,a,p,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,s=e.TiledMap,a=e.TiledMapAsset,p=e.Component},function(e){c=e.CellSize},function(e){u=e.userProfile}],execute:function(){var f,M,h,y,b,d,v;l._RF.push({},"bd8eb055nZJzqOTRqtLY9lB","TileMapControl",void 0);var T=o.ccclass,g=o.property;e("TileMapControl",(f=T("TileMapControl"),M=g(s),h=g([a]),f((d=t((b=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,r(t,"tileMap",d,n(t)),r(t,"tileMapAssets",v,n(t)),t}return i(t,e),t.prototype.start=function(){var e=c/64;this.node.scale.set(e,e,e),this.tileMap.tmxAsset=this.tileMapAssets[u.currentLevel]},t}(p)).prototype,"tileMap",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(b.prototype,"tileMapAssets",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=b))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/UserProfile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){var t,n,a,r;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy},function(e){a=e.eventManager,r=e.EventName}],execute:function(){n._RF.push({},"08a12TJUDVL9LtZ6ftBNf7p","UserProfile",void 0);var s=function(){function e(){this.maxLevel=0,this.currentLevel=0,this.mazeGameSection=new i,this.storyCompleteStatus={scene1:!1,scene2:!1,scene3:!1,scene4:!1,scene5:!1,scene6:!1,scene7:!1,scene8:!1,scene9:!1,scene10:!1,scene11:!1},this._waterDrops=0}return t(e,[{key:"waterDrops",get:function(){return this._waterDrops},set:function(e){this._waterDrops=Math.max(e,0),a.emit(r.onWaterDropChange)}}]),e}(),i=function(){function e(){this._playerMaxHealth=0,this._playerCurrentHealth=0,this._knowledgePiecesMax=0,this._knowledgePieces=0}return e.prototype.reset=function(){this.playerMaxHealth=0,this.playerCurrentHealth=0,this.knowledgePiecesMax=0,this.knowledgePieces=0},t(e,[{key:"playerMaxHealth",get:function(){return this._playerMaxHealth},set:function(e){this._playerMaxHealth=Math.max(e,0),a.emit(r.onPlayerMaxHealthChange)}},{key:"playerCurrentHealth",get:function(){return this._playerCurrentHealth},set:function(e){this._playerCurrentHealth=Math.max(e,0),a.emit(r.onPlayerCurrentHealthChange)}},{key:"knowledgePiecesMax",get:function(){return this._knowledgePiecesMax},set:function(e){this._knowledgePiecesMax=Math.max(e,0),a.emit(r.onKnowledgePieceMaxChange)}},{key:"knowledgePieces",get:function(){return this._knowledgePieces},set:function(e){this._knowledgePieces=Math.max(e,0),a.emit(r.onKnowledgePieceChange)}}]),e}();e("userProfile",new s);n._RF.pop()}}}));

System.register("chunks:///_virtual/WaterDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseObject.ts","./LevelDefine.ts"],(function(t){var e,r,o,c,n;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator},function(t){c=t.BaseObject},function(t){n=t.ObjectType}],execute:function(){var a;r._RF.push({},"c1edcZnd7VLLqN7DqExGf/K","WaterDrop",void 0);var s=o.ccclass;o.property,t("WaterDrop",s("WaterDrop")(a=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this).objectType=n.waterDrop,e}e(r,t);var o=r.prototype;return o.start=function(){t.prototype.start.call(this)},o.update=function(t){},r}(c))||a);r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});