/*! For license information please see main.bc3c8c3b.js.LICENSE.txt */
(()=>{var t={37:(t,e,r)=>{"use strict";var n=r(506),i=r(722),s=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"===typeof r&&s(t,".prototype.")>-1?i(r):r}},722:(t,e,r)=>{"use strict";var n=r(350),i=r(506),s=r(986),o=i("%TypeError%"),a=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||n.call(l,a),h=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(h)try{h({},"a",{value:1})}catch(f){h=null}t.exports=function(t){if("function"!==typeof t)throw new o("a function is required");var e=u(n,l,arguments);return s(e,1+c(0,t.length-(arguments.length-1)),!0)};var d=function(){return u(n,a,arguments)};h?h(t.exports,"apply",{value:d}):t.exports.apply=d},651:(t,e,r)=>{"use strict";var n=r(510)(),i=r(506),s=n&&i("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch(u){s=!1}var o=i("%SyntaxError%"),a=i("%TypeError%"),l=r(347);t.exports=function(t,e,r){if(!t||"object"!==typeof t&&"function"!==typeof t)throw new a("`obj` must be an object or a function`");if("string"!==typeof e&&"symbol"!==typeof e)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,h=arguments.length>6&&arguments[6],c=!!l&&l(t,e);if(s)s(t,e,{configurable:null===u&&c?c.configurable:!u,enumerable:null===n&&c?c.enumerable:!n,value:r,writable:null===i&&c?c.writable:!i});else{if(!h&&(n||i||u))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},89:t=>{"use strict";function e(t,e,n){n=n||2;var s,o,a,l,c,d,p,m=e&&e.length,g=m?e[0]*n:t.length,v=r(t,0,g,n,!0),y=[];if(!v||v.next===v.prev)return y;if(m&&(v=function(t,e,n,i){var s,o,a,l=[];for(s=0,o=e.length;s<o;s++)(a=r(t,e[s]*i,s<o-1?e[s+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),l.push(f(a));for(l.sort(u),s=0;s<l.length;s++)n=h(l[s],n);return n}(t,e,v,n)),t.length>80*n){s=a=t[0],o=l=t[1];for(var _=n;_<g;_+=n)(c=t[_])<s&&(s=c),(d=t[_+1])<o&&(o=d),c>a&&(a=c),d>l&&(l=d);p=0!==(p=Math.max(a-s,l-o))?32767/p:0}return i(v,y,n,s,o,p,0),y}function r(t,e,r,n,i){var s,o;if(i===A(t,e,r,n)>0)for(s=e;s<r;s+=n)o=E(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=E(s,t[s],t[s+1],o);return o&&v(o,o.next)&&(T(o),o=o.next),o}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!v(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{if(T(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function i(t,e,r,u,h,c,f){if(t){!f&&c&&function(t,e,r,n){var i=t;do{0===i.z&&(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(l=u;a>0||l>0&&n;)0!==a&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1)}(i)}(t,u,h,c);for(var p,m,g=t;t.prev!==t.next;)if(p=t.prev,m=t.next,c?o(t,u,h,c):s(t))e.push(p.i/r|0),e.push(t.i/r|0),e.push(m.i/r|0),T(t),t=m.next,g=m.next;else if((t=m)===g){f?1===f?i(t=a(n(t),e,r),e,r,u,h,c,2):2===f&&l(t,e,r,u,h,c):i(n(t),e,r,u,h,c,1);break}}}function s(t){var e=t.prev,r=t,n=t.next;if(g(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,h=i<s?i<o?i:o:s<o?s:o,c=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,m=n.next;m!==e;){if(m.x>=h&&m.x<=d&&m.y>=c&&m.y<=f&&p(i,a,s,l,o,u,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function o(t,e,r,n){var i=t.prev,s=t,o=t.next;if(g(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,h=i.y,c=s.y,f=o.y,m=a<l?a<u?a:u:l<u?l:u,v=h<c?h<f?h:f:c<f?c:f,y=a>l?a>u?a:u:l>u?l:u,_=h>c?h>f?h:f:c>f?c:f,b=d(m,v,e,r,n),x=d(y,_,e,r,n),w=t.prevZ,E=t.nextZ;w&&w.z>=b&&E&&E.z<=x;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=_&&w!==i&&w!==o&&p(a,h,l,c,u,f,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,E.x>=m&&E.x<=y&&E.y>=v&&E.y<=_&&E!==i&&E!==o&&p(a,h,l,c,u,f,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;w&&w.z>=b;){if(w.x>=m&&w.x<=y&&w.y>=v&&w.y<=_&&w!==i&&w!==o&&p(a,h,l,c,u,f,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=x;){if(E.x>=m&&E.x<=y&&E.y>=v&&E.y<=_&&E!==i&&E!==o&&p(a,h,l,c,u,f,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function a(t,e,r){var i=t;do{var s=i.prev,o=i.next.next;!v(s,o)&&y(s,i,i.next,o)&&x(s,o)&&x(o,s)&&(e.push(s.i/r|0),e.push(i.i/r|0),e.push(o.i/r|0),T(i),T(i.next),i=t=o),i=i.next}while(i!==t);return n(i)}function l(t,e,r,s,o,a){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&m(l,u)){var h=w(l,u);return l=n(l,l.next),h=n(h,h.next),i(l,e,r,s,o,a,0),void i(h,e,r,s,o,a,0)}u=u.next}l=l.next}while(l!==t)}function u(t,e){return t.x-e.x}function h(t,e){var r=function(t,e){var r,n=e,i=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>o&&(o=a,r=n.x<n.next.x?n:n.next,a===i))return r}n=n.next}while(n!==e);if(!r)return null;var l,u=r,h=r.x,d=r.y,f=1/0;n=r;do{i>=n.x&&n.x>=h&&i!==n.x&&p(s<d?i:o,s,h,d,s<d?o:i,s,n.x,n.y)&&(l=Math.abs(s-n.y)/(i-n.x),x(n,t)&&(l<f||l===f&&(n.x>r.x||n.x===r.x&&c(r,n)))&&(r=n,f=l)),n=n.next}while(n!==u);return r}(t,e);if(!r)return e;var i=w(r,t);return n(i,i.next),n(r,r.next)}function c(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function d(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function p(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&y(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!==r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||v(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function v(t,e){return t.x===e.x&&t.y===e.y}function y(t,e,r,n){var i=b(g(t,e,r)),s=b(g(t,e,n)),o=b(g(r,n,t)),a=b(g(r,n,e));return i!==s&&o!==a||(!(0!==i||!_(t,r,e))||(!(0!==s||!_(t,n,e))||(!(0!==o||!_(r,t,n))||!(0!==a||!_(r,e,n)))))}function _(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function b(t){return t>0?1:t<0?-1:0}function x(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function w(t,e){var r=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function E(t,e,r,n){var i=new S(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(A(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,h=a<l-1?e[a+1]*r:t.length;o-=Math.abs(A(t,u,h,r))}var c=0;for(a=0;a<n.length;a+=3){var d=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;c+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},143:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],a]:t._events[l].push(a):(t._events[l]=a,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var l,u,h=this._events[a],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,s),!0;case 6:return h.fn.call(h.context,e,n,i,s,o),!0}for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];h.fn.apply(h.context,l)}else{var d,f=h.length;for(u=0;u<f;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),c){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,n);break;case 4:h[u].fn.call(h[u].context,e,n,i);break;default:if(!l)for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];h[u].fn.apply(h[u].context,l)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var l=0,u=[],h=a.length;l<h;l++)(a[l].fn!==e||i&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},222:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var i=0;i<e.length;i+=1)r[i+t.length]=e[i];return r};t.exports=function(t){var i=this;if("function"!==typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var s,o=function(t,e){for(var r=[],n=e||0,i=0;n<t.length;n+=1,i+=1)r[i]=t[n];return r}(arguments,1),a=r(0,i.length-o.length),l=[],u=0;u<a;u++)l[u]="$"+u;if(s=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var e=i.apply(this,n(o,arguments));return Object(e)===e?e:this}return i.apply(t,n(o,arguments))})),i.prototype){var h=function(){};h.prototype=i.prototype,s.prototype=new h,h.prototype=null}return s}},350:(t,e,r)=>{"use strict";var n=r(222);t.exports=Function.prototype.bind||n},506:(t,e,r)=>{"use strict";var n,i=SyntaxError,s=Function,o=TypeError,a=function(t){try{return s('"use strict"; return ('+t+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(I){l=null}var u=function(){throw new o},h=l?function(){try{return u}catch(t){try{return l(arguments,"callee").get}catch(e){return u}}}():u,c=r(697)(),d=r(203)(),f=Object.getPrototypeOf||(d?function(t){return t.__proto__}:null),p={},m="undefined"!==typeof Uint8Array&&f?f(Uint8Array):n,g={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":c&&f?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&f?f(f([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&c&&f?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&c&&f?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&f?f(""[Symbol.iterator]()):n,"%Symbol%":c?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":h,"%TypedArray%":m,"%TypeError%":o,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet};if(f)try{null.error}catch(I){var v=f(f(I));g["%Error.prototype%"]=v}var y=function t(e){var r;if("%AsyncFunction%"===e)r=a("async function () {}");else if("%GeneratorFunction%"===e)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=a("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&f&&(r=f(i.prototype))}return g[e]=r,r},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(350),x=r(670),w=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),T=b.call(Function.call,String.prototype.replace),S=b.call(Function.call,String.prototype.slice),A=b.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,P=function(t,e){var r,n=t;if(x(_,n)&&(n="%"+(r=_[n])[0]+"%"),x(g,n)){var s=g[n];if(s===p&&(s=y(n)),"undefined"===typeof s&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:s}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new o('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,t))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=S(t,0,1),r=S(t,-1);if("%"===e&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return T(t,C,(function(t,e,r,i){n[n.length]=r?T(i,R,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",s=P("%"+n+"%",e),a=s.name,u=s.value,h=!1,c=s.alias;c&&(n=c[0],E(r,w([0,1],c)));for(var d=1,f=!0;d<r.length;d+=1){var p=r[d],m=S(p,0,1),v=S(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(h=!0),x(g,a="%"+(n+="."+p)+"%"))u=g[a];else if(null!=u){if(!(p in u)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&d+1>=r.length){var y=l(u,p);u=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[p]}else f=x(u,p),u=u[p];f&&!h&&(g[a]=u)}}return u}},347:(t,e,r)=>{"use strict";var n=r(506)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(i){n=null}t.exports=n},510:(t,e,r)=>{"use strict";var n=r(506)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(t){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},203:t=>{"use strict";var e={foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof r)}},697:(t,e,r)=>{"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r(297);t.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},297:t=>{"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},670:(t,e,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,s=r(350);t.exports=s.call(n,i)},584:(t,e,r)=>{var n="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=n&&i&&"function"===typeof i.get?i.get:null,o=n&&Map.prototype.forEach,a="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&l&&"function"===typeof l.get?l.get:null,h=a&&Set.prototype.forEach,c="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,_=String.prototype.replace,b=String.prototype.toUpperCase,x=String.prototype.toLowerCase,w=RegExp.prototype.test,E=Array.prototype.concat,T=Array.prototype.join,S=Array.prototype.slice,A=Math.floor,C="function"===typeof BigInt?BigInt.prototype.valueOf:null,R=Object.getOwnPropertySymbols,P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"===typeof Symbol&&"object"===typeof Symbol.iterator,M="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===I||"symbol")?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,D=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function O(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||w.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof t){var n=t<0?-A(-t):A(t);if(n!==t){var i=String(n),s=y.call(e,i.length+1);return _.call(i,r,"$&_")+"."+_.call(_.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(e,r,"$&_")}var N=r(654),L=N.custom,F=j(L)?L:null;function B(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function U(t){return _.call(String(t),/"/g,"&quot;")}function G(t){return"[object Array]"===V(t)&&(!M||!("object"===typeof t&&M in t))}function z(t){return"[object RegExp]"===V(t)&&(!M||!("object"===typeof t&&M in t))}function j(t){if(I)return t&&"object"===typeof t&&t instanceof Symbol;if("symbol"===typeof t)return!0;if(!t||"object"!==typeof t||!P)return!1;try{return P.call(t),!0}catch(e){}return!1}t.exports=function t(e,n,i,a){var l=n||{};if(W(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(l,"maxStringLength")&&("number"===typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!W(l,"customInspect")||l.customInspect;if("boolean"!==typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(l,"numericSeparator")&&"boolean"!==typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=l.numericSeparator;if("undefined"===typeof e)return"undefined";if(null===e)return"null";if("boolean"===typeof e)return e?"true":"false";if("string"===typeof e)return Y(e,l);if("number"===typeof e){if(0===e)return 1/0/e>0?"0":"-0";var w=String(e);return b?O(e,w):w}if("bigint"===typeof e){var A=String(e)+"n";return b?O(e,A):A}var R="undefined"===typeof l.depth?5:l.depth;if("undefined"===typeof i&&(i=0),i>=R&&R>0&&"object"===typeof e)return G(e)?"[Array]":"[Object]";var L=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"===typeof t.indent&&t.indent>0))return null;r=T.call(Array(t.indent+1)," ")}return{base:r,prev:T.call(Array(e+1),r)}}(l,i);if("undefined"===typeof a)a=[];else if(X(a,e)>=0)return"[Circular]";function H(e,r,n){if(r&&(a=S.call(a)).push(r),n){var s={depth:l.depth};return W(l,"quoteStyle")&&(s.quoteStyle=l.quoteStyle),t(e,s,i+1,a)}return t(e,l,i+1,a)}if("function"===typeof e&&!z(e)){var q=function(t){if(t.name)return t.name;var e=v.call(g.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),tt=J(e,H);return"[Function"+(q?": "+q:" (anonymous)")+"]"+(tt.length>0?" { "+T.call(tt,", ")+" }":"")}if(j(e)){var et=I?_.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(e);return"object"!==typeof e||I?et:$(et)}if(function(t){if(!t||"object"!==typeof t)return!1;if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"===typeof t.nodeName&&"function"===typeof t.getAttribute}(e)){for(var rt="<"+x.call(String(e.nodeName)),nt=e.attributes||[],it=0;it<nt.length;it++)rt+=" "+nt[it].name+"="+B(U(nt[it].value),"double",l);return rt+=">",e.childNodes&&e.childNodes.length&&(rt+="..."),rt+="</"+x.call(String(e.nodeName))+">"}if(G(e)){if(0===e.length)return"[]";var st=J(e,H);return L&&!function(t){for(var e=0;e<t.length;e++)if(X(t[e],"\n")>=0)return!1;return!0}(st)?"["+Z(st,L)+"]":"[ "+T.call(st,", ")+" ]"}if(function(t){return"[object Error]"===V(t)&&(!M||!("object"===typeof t&&M in t))}(e)){var ot=J(e,H);return"cause"in Error.prototype||!("cause"in e)||k.call(e,"cause")?0===ot.length?"["+String(e)+"]":"{ ["+String(e)+"] "+T.call(ot,", ")+" }":"{ ["+String(e)+"] "+T.call(E.call("[cause]: "+H(e.cause),ot),", ")+" }"}if("object"===typeof e&&m){if(F&&"function"===typeof e[F]&&N)return N(e,{depth:R-i});if("symbol"!==m&&"function"===typeof e.inspect)return e.inspect()}if(function(t){if(!s||!t||"object"!==typeof t)return!1;try{s.call(t);try{u.call(t)}catch(rt){return!0}return t instanceof Map}catch(e){}return!1}(e)){var at=[];return o&&o.call(e,(function(t,r){at.push(H(r,e,!0)+" => "+H(t,e))})),Q("Map",s.call(e),at,L)}if(function(t){if(!u||!t||"object"!==typeof t)return!1;try{u.call(t);try{s.call(t)}catch(e){return!0}return t instanceof Set}catch(r){}return!1}(e)){var lt=[];return h&&h.call(e,(function(t){lt.push(H(t,e))})),Q("Set",u.call(e),lt,L)}if(function(t){if(!c||!t||"object"!==typeof t)return!1;try{c.call(t,c);try{d.call(t,d)}catch(rt){return!0}return t instanceof WeakMap}catch(e){}return!1}(e))return K("WeakMap");if(function(t){if(!d||!t||"object"!==typeof t)return!1;try{d.call(t,d);try{c.call(t,c)}catch(rt){return!0}return t instanceof WeakSet}catch(e){}return!1}(e))return K("WeakSet");if(function(t){if(!f||!t||"object"!==typeof t)return!1;try{return f.call(t),!0}catch(e){}return!1}(e))return K("WeakRef");if(function(t){return"[object Number]"===V(t)&&(!M||!("object"===typeof t&&M in t))}(e))return $(H(Number(e)));if(function(t){if(!t||"object"!==typeof t||!C)return!1;try{return C.call(t),!0}catch(e){}return!1}(e))return $(H(C.call(e)));if(function(t){return"[object Boolean]"===V(t)&&(!M||!("object"===typeof t&&M in t))}(e))return $(p.call(e));if(function(t){return"[object String]"===V(t)&&(!M||!("object"===typeof t&&M in t))}(e))return $(H(String(e)));if("undefined"!==typeof window&&e===window)return"{ [object Window] }";if(e===r.g)return"{ [object globalThis] }";if(!function(t){return"[object Date]"===V(t)&&(!M||!("object"===typeof t&&M in t))}(e)&&!z(e)){var ut=J(e,H),ht=D?D(e)===Object.prototype:e instanceof Object||e.constructor===Object,ct=e instanceof Object?"":"null prototype",dt=!ht&&M&&Object(e)===e&&M in e?y.call(V(e),8,-1):ct?"Object":"",ft=(ht||"function"!==typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(dt||ct?"["+T.call(E.call([],dt||[],ct||[]),": ")+"] ":"");return 0===ut.length?ft+"{}":L?ft+"{"+Z(ut,L)+"}":ft+"{ "+T.call(ut,", ")+" }"}return String(e)};var H=Object.prototype.hasOwnProperty||function(t){return t in this};function W(t,e){return H.call(t,e)}function V(t){return m.call(t)}function X(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Y(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Y(y.call(t,0,e.maxStringLength),e)+n}return B(_.call(_.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,q),"single",e)}function q(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+b.call(e.toString(16))}function $(t){return"Object("+t+")"}function K(t){return t+" { ? }"}function Q(t,e,r,n){return t+" ("+e+") {"+(n?Z(r,n):T.call(r,", "))+"}"}function Z(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+T.call(t,","+r)+"\n"+e.prev}function J(t,e){var r=G(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=W(t,i)?e(t[i],t):""}var s,o="function"===typeof R?R(t):[];if(I){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in t)W(t,l)&&(r&&String(Number(l))===l&&l<t.length||I&&s["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if("function"===typeof R)for(var u=0;u<o.length;u++)k.call(t,o[u])&&n.push("["+e(o[u])+"]: "+e(t[o[u]],t));return n}},463:(t,e,r)=>{"use strict";var n=r(791),i=r(296);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,r,n,i,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function _(t,e,r,n){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!c.call(p,t)||!c.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,y);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function N(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var L,F=Object.assign;function B(t){if(void 0===L)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var U=!1;function G(t,e){if(!t||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=n.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?B(t):""}function z(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=G(t.type,!1);case 11:return t=G(t.type.render,!1);case 1:return t=G(t.type,!0);default:return""}}function j(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case w:return"Portal";case S:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case R:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case M:return null!==(e=t.displayName||null)?e:j(t.type)||"Memo";case k:e=t._payload,t=t._init;try{return j(t(e))}catch(r){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(e);case 8:return e===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function V(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=V(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Y(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function $(t,e){var r=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function K(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=W(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Q(t,e){null!=(e=e.checked)&&_(t,"checked",e,!1)}function Z(t,e){Q(t,e);var r=W(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,r):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function tt(t,e,r){"number"===e&&q(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var et=Array.isArray;function rt(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+W(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(s(92));if(et(r)){if(1<r.length)throw Error(s(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:W(r)}}function st(t,e){var r=W(e.value),n=W(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ht,ct=(ht=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return ht(t,e)}))}:ht);function dt(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function gt(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=mt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function _t(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var wt=null,Et=null,Tt=null;function St(t){if(t=_i(t)){if("function"!==typeof wt)throw Error(s(280));var e=t.stateNode;e&&(e=xi(e),wt(t.stateNode,t.type,e))}}function At(t){Et?Tt?Tt.push(t):Tt=[t]:Et=t}function Ct(){if(Et){var t=Et,e=Tt;if(Tt=Et=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function Rt(t,e){return t(e)}function Pt(){}var It=!1;function Mt(t,e,r){if(It)return t(e,r);It=!0;try{return Rt(t,e,r)}finally{It=!1,(null!==Et||null!==Tt)&&(Pt(),Ct())}}function kt(t,e){var r=t.stateNode;if(null===r)return null;var n=xi(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(s(231,e,typeof r));return r}var Dt=!1;if(h)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ht){Dt=!1}function Nt(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Lt=!1,Ft=null,Bt=!1,Ut=null,Gt={onError:function(t){Lt=!0,Ft=t}};function zt(t,e,r,n,i,s,o,a,l){Lt=!1,Ft=null,Nt.apply(Gt,arguments)}function jt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(jt(t)!==t)throw Error(s(188))}function Vt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=jt(t)))throw Error(s(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Wt(i),t;if(o===n)return Wt(i),e;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?t:e}(t))?Xt(t):null}function Xt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Xt(t);if(null!==e)return e;t=t.sibling}return null}var Yt=i.unstable_scheduleCallback,qt=i.unstable_cancelCallback,$t=i.unstable_shouldYield,Kt=i.unstable_requestPaint,Qt=i.unstable_now,Zt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,re=i.unstable_LowPriority,ne=i.unstable_IdlePriority,ie=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ue=64,he=4194304;function ce(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var r=t.pendingLanes;if(0===r)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=268435455&r;if(0!==o){var a=o&~i;0!==a?n=ce(a):0!==(s&=o)&&(n=ce(s))}else 0!==(o=r&~i)?n=ce(o):0!==s&&(n=ce(s));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&i)&&((i=n&-n)>=(s=e&-e)||16===i&&0!==(4194240&s)))return e;if(0!==(4&n)&&(n|=16&r),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)i=1<<(r=31-oe(e)),n|=t[r],e&=~i;return n}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ue;return 0===(4194240&(ue<<=1))&&(ue=64),t}function ge(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ve(t,e,r){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=r}function ye(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-oe(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var _e=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,we,Ee,Te,Se,Ae=!1,Ce=[],Re=null,Pe=null,Ie=null,Me=new Map,ke=new Map,De=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ne(t,e){switch(t){case"focusin":case"focusout":Re=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Ie=null;break;case"pointerover":case"pointerout":Me.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ke.delete(e.pointerId)}}function Le(t,e,r,n,i,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},null!==e&&(null!==(e=_i(e))&&we(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=yi(t.target);if(null!==e){var r=jt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=Ht(r)))return t.blockedOn=e,void Se(t.priority,(function(){Ee(r)}))}else if(3===e&&r.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Be(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=$e(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=_i(r))&&we(e),t.blockedOn=r,!1;var n=new(r=t.nativeEvent).constructor(r.type,r);bt=n,r.target.dispatchEvent(n),bt=null,e.shift()}return!0}function Ue(t,e,r){Be(t)&&r.delete(e)}function Ge(){Ae=!1,null!==Re&&Be(Re)&&(Re=null),null!==Pe&&Be(Pe)&&(Pe=null),null!==Ie&&Be(Ie)&&(Ie=null),Me.forEach(Ue),ke.forEach(Ue)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Ae||(Ae=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ge)))}function je(t){function e(e){return ze(e,t)}if(0<Ce.length){ze(Ce[0],t);for(var r=1;r<Ce.length;r++){var n=Ce[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Re&&ze(Re,t),null!==Pe&&ze(Pe,t),null!==Ie&&ze(Ie,t),Me.forEach(e),ke.forEach(e),r=0;r<De.length;r++)(n=De[r]).blockedOn===t&&(n.blockedOn=null);for(;0<De.length&&null===(r=De[0]).blockedOn;)Fe(r),null===r.blockedOn&&De.shift()}var He=b.ReactCurrentBatchConfig,We=!0;function Ve(t,e,r,n){var i=_e,s=He.transition;He.transition=null;try{_e=1,Ye(t,e,r,n)}finally{_e=i,He.transition=s}}function Xe(t,e,r,n){var i=_e,s=He.transition;He.transition=null;try{_e=4,Ye(t,e,r,n)}finally{_e=i,He.transition=s}}function Ye(t,e,r,n){if(We){var i=$e(t,e,r,n);if(null===i)Wn(t,e,n,qe,r),Ne(t,n);else if(function(t,e,r,n,i){switch(e){case"focusin":return Re=Le(Re,t,e,r,n,i),!0;case"dragenter":return Pe=Le(Pe,t,e,r,n,i),!0;case"mouseover":return Ie=Le(Ie,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Me.set(s,Le(Me.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ke.set(s,Le(ke.get(s)||null,t,e,r,n,i)),!0}return!1}(i,t,e,r,n))n.stopPropagation();else if(Ne(t,n),4&e&&-1<Oe.indexOf(t)){for(;null!==i;){var s=_i(i);if(null!==s&&xe(s),null===(s=$e(t,e,r,n))&&Wn(t,e,n,qe,r),s===i)break;i=s}null!==i&&n.stopPropagation()}else Wn(t,e,n,null,r)}}var qe=null;function $e(t,e,r,n){if(qe=null,null!==(t=yi(t=xt(n))))if(null===(e=jt(t)))t=null;else if(13===(r=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===r){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qe=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zt()){case Jt:return 1;case te:return 4;case ee:case re:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Qe=null,Ze=null,Je=null;function tr(){if(Je)return Je;var t,e,r=Ze,n=r.length,i="value"in Qe?Qe.value:Qe.textContent,s=i.length;for(t=0;t<n&&r[t]===i[t];t++);var o=n-t;for(e=1;e<=o&&r[n-e]===i[s-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function er(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rr(){return!0}function nr(){return!1}function ir(t){function e(e,r,n,i,s){for(var o in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),e}var sr,or,ar,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ir(lr),hr=F({},lr,{view:0,detail:0}),cr=ir(hr),dr=F({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&"mousemove"===t.type?(sr=t.screenX-ar.screenX,or=t.screenY-ar.screenY):or=sr=0,ar=t),sr)},movementY:function(t){return"movementY"in t?t.movementY:or}}),fr=ir(dr),pr=ir(F({},dr,{dataTransfer:0})),mr=ir(F({},hr,{relatedTarget:0})),gr=ir(F({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),vr=F({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yr=ir(vr),_r=ir(F({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=wr[t])&&!!e[t]}function Tr(){return Er}var Sr=F({},hr,{key:function(t){if(t.key){var e=br[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=er(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(t){return"keypress"===t.type?er(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?er(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ar=ir(Sr),Cr=ir(F({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rr=ir(F({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr})),Pr=ir(F({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=F({},dr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=ir(Ir),kr=[9,13,27,32],Dr=h&&"CompositionEvent"in window,Or=null;h&&"documentMode"in document&&(Or=document.documentMode);var Nr=h&&"TextEvent"in window&&!Or,Lr=h&&(!Dr||Or&&8<Or&&11>=Or),Fr=String.fromCharCode(32),Br=!1;function Ur(t,e){switch(t){case"keyup":return-1!==kr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var zr=!1;var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!jr[t.type]:"textarea"===e}function Wr(t,e,r,n){At(n),0<(e=Xn(e,"onChange")).length&&(r=new ur("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vr=null,Xr=null;function Yr(t){Bn(t,0)}function qr(t){if(Y(bi(t)))return t}function $r(t,e){if("change"===t)return e}var Kr=!1;if(h){var Qr;if(h){var Zr="oninput"in document;if(!Zr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Zr="function"===typeof Jr.oninput}Qr=Zr}else Qr=!1;Kr=Qr&&(!document.documentMode||9<document.documentMode)}function tn(){Vr&&(Vr.detachEvent("onpropertychange",en),Xr=Vr=null)}function en(t){if("value"===t.propertyName&&qr(Xr)){var e=[];Wr(e,Xr,t,xt(t)),Mt(Yr,e)}}function rn(t,e,r){"focusin"===t?(tn(),Xr=r,(Vr=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function nn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return qr(Xr)}function sn(t,e){if("click"===t)return qr(e)}function on(t,e){if("input"===t||"change"===t)return qr(e)}var an="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ln(t,e){if(an(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!c.call(e,i)||!an(t[i],e[i]))return!1}return!0}function un(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hn(t,e){var r,n=un(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=un(n)}}function cn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?cn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dn(){for(var t=window,e=q();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=q((t=e.contentWindow).document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pn(t){var e=dn(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if((t=(e=r.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=void 0===n.end?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=hn(r,s);var o=hn(r,n);i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=r;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<e.length;r++)(t=e[r]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mn=h&&"documentMode"in document&&11>=document.documentMode,gn=null,vn=null,yn=null,_n=!1;function bn(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;_n||null==gn||gn!==q(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=Xn(vn,"onSelect")).length&&(e=new ur("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gn)))}function xn(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var wn={animationend:xn("Animation","AnimationEnd"),animationiteration:xn("Animation","AnimationIteration"),animationstart:xn("Animation","AnimationStart"),transitionend:xn("Transition","TransitionEnd")},En={},Tn={};function Sn(t){if(En[t])return En[t];if(!wn[t])return t;var e,r=wn[t];for(e in r)if(r.hasOwnProperty(e)&&e in Tn)return En[t]=r[e];return t}h&&(Tn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var An=Sn("animationend"),Cn=Sn("animationiteration"),Rn=Sn("animationstart"),Pn=Sn("transitionend"),In=new Map,Mn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(t,e){In.set(t,e),l(e,[t])}for(var Dn=0;Dn<Mn.length;Dn++){var On=Mn[Dn];kn(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}kn(An,"onAnimationEnd"),kn(Cn,"onAnimationIteration"),kn(Rn,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Pn,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function Fn(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,i,o,a,l,u){if(zt.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var h=Ft;Lt=!1,Ft=null,Bt||(Bt=!0,Ut=h)}}(n,e,void 0,t),t.currentTarget=null}function Bn(t,e){e=0!==(4&e);for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;t:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;Fn(i,a,u),s=l}else for(o=0;o<n.length;o++){if(l=(a=n[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;Fn(i,a,u),s=l}}}if(Bt)throw t=Ut,Bt=!1,Ut=null,t}function Un(t,e){var r=e[mi];void 0===r&&(r=e[mi]=new Set);var n=t+"__bubble";r.has(n)||(Hn(e,t,2,!1),r.add(n))}function Gn(t,e,r){var n=0;e&&(n|=4),Hn(r,t,n,e)}var zn="_reactListening"+Math.random().toString(36).slice(2);function jn(t){if(!t[zn]){t[zn]=!0,o.forEach((function(e){"selectionchange"!==e&&(Ln.has(e)||Gn(e,!1,t),Gn(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zn]||(e[zn]=!0,Gn("selectionchange",!1,e))}}function Hn(t,e,r,n){switch(Ke(e)){case 1:var i=Ve;break;case 4:i=Xe;break;default:i=Ye}r=i.bind(null,e,r,t),i=void 0,!Dt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),n?void 0!==i?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):void 0!==i?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Wn(t,e,r,n,i){var s=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){n=s=o;continue t}a=a.parentNode}}n=n.return}Mt((function(){var n=s,i=xt(r),o=[];t:{var a=In.get(t);if(void 0!==a){var l=ur,u=t;switch(t){case"keypress":if(0===er(r))break t;case"keydown":case"keyup":l=Ar;break;case"focusin":u="focus",l=mr;break;case"focusout":u="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rr;break;case An:case Cn:case Rn:l=gr;break;case Pn:l=Pr;break;case"scroll":l=cr;break;case"wheel":l=Mr;break;case"copy":case"cut":case"paste":l=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cr}var h=0!==(4&e),c=!h&&"scroll"===t,d=h?null!==a?a+"Capture":null:a;h=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=kt(p,d))&&h.push(Vn(p,m,f)))),c)break;p=p.return}0<h.length&&(a=new l(a,u,null,r,i),o.push({event:a,listeners:h}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||r===bt||!(u=r.relatedTarget||r.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?yi(u):null)&&(u!==(c=jt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(h=fr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(h=Cr,m="onPointerLeave",d="onPointerEnter",p="pointer"),c=null==l?a:bi(l),f=null==u?a:bi(u),(a=new h(m,p+"leave",l,r,i)).target=c,a.relatedTarget=f,m=null,yi(i)===n&&((h=new h(d,p+"enter",u,r,i)).target=f,h.relatedTarget=c,m=h),c=m,l&&u)t:{for(d=u,p=0,f=h=l;f;f=Yn(f))p++;for(f=0,m=d;m;m=Yn(m))f++;for(;0<p-f;)h=Yn(h),p--;for(;0<f-p;)d=Yn(d),f--;for(;p--;){if(h===d||null!==d&&h===d.alternate)break t;h=Yn(h),d=Yn(d)}h=null}else h=null;null!==l&&qn(o,a,l,h,!1),null!==u&&null!==c&&qn(o,c,u,h,!0)}if("select"===(l=(a=n?bi(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=$r;else if(Hr(a))if(Kr)g=on;else{g=nn;var v=rn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sn);switch(g&&(g=g(t,n))?Wr(o,g,r,i):(v&&v(t,a,n),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&tt(a,"number",a.value)),v=n?bi(n):window,t){case"focusin":(Hr(v)||"true"===v.contentEditable)&&(gn=v,vn=n,yn=null);break;case"focusout":yn=vn=gn=null;break;case"mousedown":_n=!0;break;case"contextmenu":case"mouseup":case"dragend":_n=!1,bn(o,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":bn(o,r,i)}var y;if(Dr)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else zr?Ur(t,r)&&(_="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(_="onCompositionStart");_&&(Lr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==_?"onCompositionEnd"===_&&zr&&(y=tr()):(Ze="value"in(Qe=i)?Qe.value:Qe.textContent,zr=!0)),0<(v=Xn(n,_)).length&&(_=new _r(_,t,null,r,i),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=Gr(r))&&(_.data=y))),(y=Nr?function(t,e){switch(t){case"compositionend":return Gr(e);case"keypress":return 32!==e.which?null:(Br=!0,Fr);case"textInput":return(t=e.data)===Fr&&Br?null:t;default:return null}}(t,r):function(t,e){if(zr)return"compositionend"===t||!Dr&&Ur(t,e)?(t=tr(),Je=Ze=Qe=null,zr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lr&&"ko"!==e.locale?null:e.data}}(t,r))&&(0<(n=Xn(n,"onBeforeInput")).length&&(i=new _r("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=y))}Bn(o,e)}))}function Vn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Xn(t,e){for(var r=e+"Capture",n=[];null!==t;){var i=t,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=kt(t,r))&&n.unshift(Vn(t,s,i)),null!=(s=kt(t,e))&&n.push(Vn(t,s,i))),t=t.return}return n}function Yn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function qn(t,e,r,n,i){for(var s=e._reactName,o=[];null!==r&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=kt(r,s))&&o.unshift(Vn(r,l,a)):i||null!=(l=kt(r,s))&&o.push(Vn(r,l,a))),r=r.return}0!==o.length&&t.push({event:e,listeners:o})}var $n=/\r\n?/g,Kn=/\u0000|\uFFFD/g;function Qn(t){return("string"===typeof t?t:""+t).replace($n,"\n").replace(Kn,"")}function Zn(t,e,r){if(e=Qn(e),Qn(t)!==e&&r)throw Error(s(425))}function Jn(){}var ti=null,ei=null;function ri(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(t){return si.resolve(null).then(t).catch(ai)}:ni;function ai(t){setTimeout((function(){throw t}))}function li(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return t.removeChild(i),void je(e);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);je(e)}function ui(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function hi(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),di="__reactFiber$"+ci,fi="__reactProps$"+ci,pi="__reactContainer$"+ci,mi="__reactEvents$"+ci,gi="__reactListeners$"+ci,vi="__reactHandles$"+ci;function yi(t){var e=t[di];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pi]||r[di]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=hi(t);null!==t;){if(r=t[di])return r;t=hi(t)}return e}r=(t=r).parentNode}return null}function _i(t){return!(t=t[di]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function xi(t){return t[fi]||null}var wi=[],Ei=-1;function Ti(t){return{current:t}}function Si(t){0>Ei||(t.current=wi[Ei],wi[Ei]=null,Ei--)}function Ai(t,e){Ei++,wi[Ei]=t.current,t.current=e}var Ci={},Ri=Ti(Ci),Pi=Ti(!1),Ii=Ci;function Mi(t,e){var r=t.type.contextTypes;if(!r)return Ci;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in r)s[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ki(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Di(){Si(Pi),Si(Ri)}function Oi(t,e,r){if(Ri.current!==Ci)throw Error(s(168));Ai(Ri,e),Ai(Pi,r)}function Ni(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(s(108,H(t)||"Unknown",i));return F({},r,n)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,Ii=Ri.current,Ai(Ri,t),Ai(Pi,Pi.current),!0}function Fi(t,e,r){var n=t.stateNode;if(!n)throw Error(s(169));r?(t=Ni(t,e,Ii),n.__reactInternalMemoizedMergedChildContext=t,Si(Pi),Si(Ri),Ai(Ri,t)):Si(Pi),Ai(Pi,r)}var Bi=null,Ui=!1,Gi=!1;function zi(t){null===Bi?Bi=[t]:Bi.push(t)}function ji(){if(!Gi&&null!==Bi){Gi=!0;var t=0,e=_e;try{var r=Bi;for(_e=1;t<r.length;t++){var n=r[t];do{n=n(!0)}while(null!==n)}Bi=null,Ui=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(t+1)),Yt(Jt,ji),i}finally{_e=e,Gi=!1}}return null}var Hi=[],Wi=0,Vi=null,Xi=0,Yi=[],qi=0,$i=null,Ki=1,Qi="";function Zi(t,e){Hi[Wi++]=Xi,Hi[Wi++]=Vi,Vi=t,Xi=e}function Ji(t,e,r){Yi[qi++]=Ki,Yi[qi++]=Qi,Yi[qi++]=$i,$i=t;var n=Ki;t=Qi;var i=32-oe(n)-1;n&=~(1<<i),r+=1;var s=32-oe(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ki=1<<32-oe(e)+i|r<<i|n,Qi=s+t}else Ki=1<<s|r<<i|n,Qi=t}function ts(t){null!==t.return&&(Zi(t,1),Ji(t,1,0))}function es(t){for(;t===Vi;)Vi=Hi[--Wi],Hi[Wi]=null,Xi=Hi[--Wi],Hi[Wi]=null;for(;t===$i;)$i=Yi[--qi],Yi[qi]=null,Qi=Yi[--qi],Yi[qi]=null,Ki=Yi[--qi],Yi[qi]=null}var rs=null,ns=null,is=!1,ss=null;function os(t,e){var r=ku(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,null===(e=t.deletions)?(t.deletions=[r],t.flags|=16):e.push(r)}function as(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,rs=t,ns=ui(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,rs=t,ns=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(r=null!==$i?{id:Ki,overflow:Qi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},(r=ku(18,null,null,0)).stateNode=e,r.return=t,t.child=r,rs=t,ns=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function us(t){if(is){var e=ns;if(e){var r=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=ui(r.nextSibling);var n=rs;e&&as(t,e)?os(n,r):(t.flags=-4097&t.flags|2,is=!1,rs=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,is=!1,rs=t}}}function hs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;rs=t}function cs(t){if(t!==rs)return!1;if(!is)return hs(t),is=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ri(t.type,t.memoizedProps)),e&&(e=ns)){if(ls(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=ui(e.nextSibling)}if(hs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){ns=ui(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}ns=null}}else ns=rs?ui(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=ns;t;)t=ui(t.nextSibling)}function fs(){ns=rs=null,is=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var ms=b.ReactCurrentBatchConfig;function gs(t,e){if(t&&t.defaultProps){for(var r in e=F({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}var vs=Ti(null),ys=null,_s=null,bs=null;function xs(){bs=_s=ys=null}function ws(t){var e=vs.current;Si(vs),t._currentValue=e}function Es(t,e,r){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ts(t,e){ys=t,bs=_s=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function Ss(t){var e=t._currentValue;if(bs!==t)if(t={context:t,memoizedValue:e,next:null},null===_s){if(null===ys)throw Error(s(308));_s=t,ys.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return e}var As=null;function Cs(t){null===As?As=[t]:As.push(t)}function Rs(t,e,r,n){var i=e.interleaved;return null===i?(r.next=r,Cs(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ps(t,n)}function Ps(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}var Is=!1;function Ms(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ks(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Os(t,e,r){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Pl)){var i=n.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ps(t,r)}return null===(i=n.interleaved)?(e.next=e,Cs(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ps(t,r)}function Ns(t,e,r){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&r))){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ye(t,r)}}function Ls(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?i=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?i=s=e:s=s.next=e}else i=s=e;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fs(t,e,r,n){var i=t.updateQueue;Is=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var h=t.alternate;null!==h&&((a=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===a?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(null!==s){var c=i.baseState;for(o=0,h=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((n&d)===d){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(d=e,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){c=p.call(f,c,d);break t}c=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,c,d):p)||void 0===d)break t;c=F({},c,d);break t;case 2:Is=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(u=h=f,l=c):h=h.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===h&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,null!==(e=i.shared.interleaved)){i=e;do{o|=i.lane,i=i.next}while(i!==e)}else null===s&&(i.shared.lanes=0);Fl|=o,t.lanes=o,t.memoizedState=c}}function Bs(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(s(191,i));i.call(n)}}}var Us=(new n.Component).refs;function Gs(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:F({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var zs={isMounted:function(t){return!!(t=t._reactInternals)&&jt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=eu(),i=ru(t),s=Ds(n,i);s.payload=e,void 0!==r&&null!==r&&(s.callback=r),null!==(e=Os(t,s,i))&&(nu(e,t,i,n),Ns(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=eu(),i=ru(t),s=Ds(n,i);s.tag=1,s.payload=e,void 0!==r&&null!==r&&(s.callback=r),null!==(e=Os(t,s,i))&&(nu(e,t,i,n),Ns(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=eu(),n=ru(t),i=Ds(r,n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Os(t,i,n))&&(nu(e,t,n,r),Ns(e,t,n))}};function js(t,e,r,n,i,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!ln(r,n)||!ln(i,s))}function Hs(t,e,r){var n=!1,i=Ci,s=e.contextType;return"object"===typeof s&&null!==s?s=Ss(s):(i=ki(e)?Ii:Ri.current,s=(n=null!==(n=e.contextTypes)&&void 0!==n)?Mi(t,i):Ci),e=new e(r,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=zs,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ws(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zs.enqueueReplaceState(e,e.state,null)}function Vs(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Us,Ms(t);var s=e.contextType;"object"===typeof s&&null!==s?i.context=Ss(s):(s=ki(e)?Ii:Ri.current,i.context=Mi(t,s)),i.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(Gs(t,e,s,r),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(t,r,i,n),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Xs(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,t));var i=n,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;e===Us&&(e=i.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!r._owner)throw Error(s(290,t))}return t}function Ys(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qs(t){return(0,t._init)(t._payload)}function $s(t){function e(e,r){if(t){var n=e.deletions;null===n?(e.deletions=[r],e.flags|=16):n.push(r)}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ou(t,e)).index=0,t.sibling=null,t}function o(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags|=2,r):n:(e.flags|=2,r):(e.flags|=1048576,r)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,r,n){return null===e||6!==e.tag?((e=Bu(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function u(t,e,r,n){var s=r.type;return s===E?c(t,e,r.props.children,n,r.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===k&&qs(s)===e.type)?((n=i(e,r.props)).ref=Xs(t,e,r),n.return=t,n):((n=Nu(r.type,r.key,r.props,null,t.mode,n)).ref=Xs(t,e,r),n.return=t,n)}function h(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Uu(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function c(t,e,r,n,s){return null===e||7!==e.tag?((e=Lu(r,t.mode,n,s)).return=t,e):((e=i(e,r)).return=t,e)}function d(t,e,r){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Bu(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(r=Nu(e.type,e.key,e.props,null,t.mode,r)).ref=Xs(t,null,e),r.return=t,r;case w:return(e=Uu(e,t.mode,r)).return=t,e;case k:return d(t,(0,e._init)(e._payload),r)}if(et(e)||N(e))return(e=Lu(e,t.mode,r,null)).return=t,e;Ys(t,e)}return null}function f(t,e,r,n){var i=null!==e?e.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:l(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return r.key===i?u(t,e,r,n):null;case w:return r.key===i?h(t,e,r,n):null;case k:return f(t,e,(i=r._init)(r._payload),n)}if(et(r)||N(r))return null!==i?null:c(t,e,r,n,null);Ys(t,r)}return null}function p(t,e,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(e,t=t.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return u(e,t=t.get(null===n.key?r:n.key)||null,n,i);case w:return h(e,t=t.get(null===n.key?r:n.key)||null,n,i);case k:return p(t,e,r,(0,n._init)(n._payload),i)}if(et(n)||N(n))return c(e,t=t.get(r)||null,n,i,null);Ys(e,n)}return null}function m(i,s,a,l){for(var u=null,h=null,c=s,m=s=0,g=null;null!==c&&m<a.length;m++){c.index>m?(g=c,c=null):g=c.sibling;var v=f(i,c,a[m],l);if(null===v){null===c&&(c=g);break}t&&c&&null===v.alternate&&e(i,c),s=o(v,s,m),null===h?u=v:h.sibling=v,h=v,c=g}if(m===a.length)return r(i,c),is&&Zi(i,m),u;if(null===c){for(;m<a.length;m++)null!==(c=d(i,a[m],l))&&(s=o(c,s,m),null===h?u=c:h.sibling=c,h=c);return is&&Zi(i,m),u}for(c=n(i,c);m<a.length;m++)null!==(g=p(c,i,m,a[m],l))&&(t&&null!==g.alternate&&c.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?u=g:h.sibling=g,h=g);return t&&c.forEach((function(t){return e(i,t)})),is&&Zi(i,m),u}function g(i,a,l,u){var h=N(l);if("function"!==typeof h)throw Error(s(150));if(null==(l=h.call(l)))throw Error(s(151));for(var c=h=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(i,m,y.value,u);if(null===_){null===m&&(m=v);break}t&&m&&null===_.alternate&&e(i,m),a=o(_,a,g),null===c?h=_:c.sibling=_,c=_,m=v}if(y.done)return r(i,m),is&&Zi(i,g),h;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===c?h=y:c.sibling=y,c=y);return is&&Zi(i,g),h}for(m=n(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===c?h=y:c.sibling=y,c=y);return t&&m.forEach((function(t){return e(i,t)})),is&&Zi(i,g),h}return function t(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:t:{for(var u=o.key,h=s;null!==h;){if(h.key===u){if((u=o.type)===E){if(7===h.tag){r(n,h.sibling),(s=i(h,o.props.children)).return=n,n=s;break t}}else if(h.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===k&&qs(u)===h.type){r(n,h.sibling),(s=i(h,o.props)).ref=Xs(n,h,o),s.return=n,n=s;break t}r(n,h);break}e(n,h),h=h.sibling}o.type===E?((s=Lu(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=Nu(o.type,o.key,o.props,null,n.mode,l)).ref=Xs(n,s,o),l.return=n,n=l)}return a(n);case w:t:{for(h=o.key;null!==s;){if(s.key===h){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=i(s,o.children||[])).return=n,n=s;break t}r(n,s);break}e(n,s),s=s.sibling}(s=Uu(o,n.mode,l)).return=n,n=s}return a(n);case k:return t(n,s,(h=o._init)(o._payload),l)}if(et(o))return m(n,s,o,l);if(N(o))return g(n,s,o,l);Ys(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=i(s,o)).return=n,n=s):(r(n,s),(s=Bu(o,n.mode,l)).return=n,n=s),a(n)):r(n,s)}}var Ks=$s(!0),Qs=$s(!1),Zs={},Js=Ti(Zs),to=Ti(Zs),eo=Ti(Zs);function ro(t){if(t===Zs)throw Error(s(174));return t}function no(t,e){switch(Ai(eo,e),Ai(to,t),Ai(Js,Zs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Si(Js),Ai(Js,e)}function io(){Si(Js),Si(to),Si(eo)}function so(t){ro(eo.current);var e=ro(Js.current),r=lt(e,t.type);e!==r&&(Ai(to,t),Ai(Js,r))}function oo(t){to.current===t&&(Si(Js),Si(to))}var ao=Ti(0);function lo(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uo=[];function ho(){for(var t=0;t<uo.length;t++)uo[t]._workInProgressVersionPrimary=null;uo.length=0}var co=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,_o=!1,bo=0,xo=0;function wo(){throw Error(s(321))}function Eo(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!an(t[r],e[r]))return!1;return!0}function To(t,e,r,n,i,o){if(po=o,mo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,co.current=null===t||null===t.memoizedState?aa:la,t=r(n,i),_o){o=0;do{if(_o=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,e.updateQueue=null,co.current=ua,t=r(n,i)}while(_o)}if(co.current=oa,e=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,e)throw Error(s(300));return t}function So(){var t=0!==bo;return bo=0,t}function Ao(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=t:vo=vo.next=t,vo}function Co(){if(null===go){var t=mo.alternate;t=null!==t?t.memoizedState:null}else t=go.next;var e=null===vo?mo.memoizedState:vo.next;if(null!==e)vo=e,go=t;else{if(null===t)throw Error(s(310));t={memoizedState:(go=t).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=t:vo=vo.next=t}return vo}function Ro(t,e){return"function"===typeof e?e(t):e}function Po(t){var e=Co(),r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var n=go,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var l=a=null,u=null,h=o;do{var c=h.lane;if((po&c)===c)null!==u&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var d={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===u?(l=u=d,a=n):u=u.next=d,mo.lanes|=c,Fl|=c}h=h.next}while(null!==h&&h!==o);null===u?a=n:u.next=l,an(n,e.memoizedState)||(ba=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(null!==(t=r.interleaved)){i=t;do{o=i.lane,mo.lanes|=o,Fl|=o,i=i.next}while(i!==t)}else null===i&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Io(t){var e=Co(),r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);an(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Mo(){}function ko(t,e){var r=mo,n=Co(),i=e(),o=!an(n.memoizedState,i);if(o&&(n.memoizedState=i,ba=!0),n=n.queue,Wo(No.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||null!==vo&&1&vo.memoizedState.tag){if(r.flags|=2048,Uo(9,Oo.bind(null,r,n,i,e),void 0,null),null===Il)throw Error(s(349));0!==(30&po)||Do(r,e,i)}return i}function Do(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},null===(e=mo.updateQueue)?(e={lastEffect:null,stores:null},mo.updateQueue=e,e.stores=[t]):null===(r=e.stores)?e.stores=[t]:r.push(t)}function Oo(t,e,r,n){e.value=r,e.getSnapshot=n,Lo(e)&&Fo(t)}function No(t,e,r){return r((function(){Lo(e)&&Fo(t)}))}function Lo(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!an(t,r)}catch(n){return!0}}function Fo(t){var e=Ps(t,1);null!==e&&nu(e,t,1,-1)}function Bo(t){var e=Ao();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},e.queue=t,t=t.dispatch=ra.bind(null,mo,t),[e.memoizedState,t]}function Uo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=mo.updateQueue)?(e={lastEffect:null,stores:null},mo.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Go(){return Co().memoizedState}function zo(t,e,r,n){var i=Ao();mo.flags|=t,i.memoizedState=Uo(1|e,r,void 0,void 0===n?null:n)}function jo(t,e,r,n){var i=Co();n=void 0===n?null:n;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==n&&Eo(n,o.deps))return void(i.memoizedState=Uo(e,r,s,n))}mo.flags|=t,i.memoizedState=Uo(1|e,r,s,n)}function Ho(t,e){return zo(8390656,8,t,e)}function Wo(t,e){return jo(2048,8,t,e)}function Vo(t,e){return jo(4,2,t,e)}function Xo(t,e){return jo(4,4,t,e)}function Yo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function qo(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,jo(4,4,Yo.bind(null,e,t),r)}function $o(){}function Ko(t,e){var r=Co();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Eo(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Qo(t,e){var r=Co();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Eo(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Zo(t,e,r){return 0===(21&po)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=r):(an(r,e)||(r=me(),mo.lanes|=r,Fl|=r,t.baseState=!0),e)}function Jo(t,e){var r=_e;_e=0!==r&&4>r?r:4,t(!0);var n=fo.transition;fo.transition={};try{t(!1),e()}finally{_e=r,fo.transition=n}}function ta(){return Co().memoizedState}function ea(t,e,r){var n=ru(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},na(t))ia(e,r);else if(null!==(r=Rs(t,e,r,n))){nu(r,t,n,eu()),sa(r,e,n)}}function ra(t,e,r){var n=ru(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(na(t))ia(e,i);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,an(a,o)){var l=e.interleaved;return null===l?(i.next=i,Cs(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(u){}null!==(r=Rs(t,e,i,n))&&(nu(r,t,n,i=eu()),sa(r,e,n))}}function na(t){var e=t.alternate;return t===mo||null!==e&&e===mo}function ia(t,e){_o=yo=!0;var r=t.pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function sa(t,e,r){if(0!==(4194240&r)){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ye(t,r)}}var oa={readContext:Ss,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},aa={readContext:Ss,useCallback:function(t,e){return Ao().memoizedState=[t,void 0===e?null:e],t},useContext:Ss,useEffect:Ho,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,zo(4194308,4,Yo.bind(null,e,t),r)},useLayoutEffect:function(t,e){return zo(4194308,4,t,e)},useInsertionEffect:function(t,e){return zo(4,2,t,e)},useMemo:function(t,e){var r=Ao();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ao();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ea.bind(null,mo,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Ao().memoizedState=t},useState:Bo,useDebugValue:$o,useDeferredValue:function(t){return Ao().memoizedState=t},useTransition:function(){var t=Bo(!1),e=t[0];return t=Jo.bind(null,t[1]),Ao().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mo,i=Ao();if(is){if(void 0===r)throw Error(s(407));r=r()}else{if(r=e(),null===Il)throw Error(s(349));0!==(30&po)||Do(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Ho(No.bind(null,n,o,t),[t]),n.flags|=2048,Uo(9,Oo.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Ao(),e=Il.identifierPrefix;if(is){var r=Qi;e=":"+e+"R"+(r=(Ki&~(1<<32-oe(Ki)-1)).toString(32)+r),0<(r=bo++)&&(e+="H"+r.toString(32)),e+=":"}else e=":"+e+"r"+(r=xo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:Ss,useCallback:Ko,useContext:Ss,useEffect:Wo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Xo,useMemo:Qo,useReducer:Po,useRef:Go,useState:function(){return Po(Ro)},useDebugValue:$o,useDeferredValue:function(t){return Zo(Co(),go.memoizedState,t)},useTransition:function(){return[Po(Ro)[0],Co().memoizedState]},useMutableSource:Mo,useSyncExternalStore:ko,useId:ta,unstable_isNewReconciler:!1},ua={readContext:Ss,useCallback:Ko,useContext:Ss,useEffect:Wo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Xo,useMemo:Qo,useReducer:Io,useRef:Go,useState:function(){return Io(Ro)},useDebugValue:$o,useDeferredValue:function(t){var e=Co();return null===go?e.memoizedState=t:Zo(e,go.memoizedState,t)},useTransition:function(){return[Io(Ro)[0],Co().memoizedState]},useMutableSource:Mo,useSyncExternalStore:ko,useId:ta,unstable_isNewReconciler:!1};function ha(t,e){try{var r="",n=e;do{r+=z(n),n=n.return}while(n);var i=r}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:i,digest:null}}function ca(t,e,r){return{value:t,source:null,stack:null!=r?r:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(t,e,r){(r=Ds(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vl||(Vl=!0,Xl=n),da(0,e)},r}function ma(t,e,r){(r=Ds(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){da(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){da(0,e),"function"!==typeof n&&(null===Yl?Yl=new Set([this]):Yl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}function ga(t,e,r){var n=t.pingCache;if(null===n){n=t.pingCache=new fa;var i=new Set;n.set(e,i)}else void 0===(i=n.get(e))&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Au.bind(null,t,e,r),e.then(t,t))}function va(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,r,n,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((e=Ds(-1,1)).tag=2,Os(r,e,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var _a=b.ReactCurrentOwner,ba=!1;function xa(t,e,r,n){e.child=null===t?Qs(e,null,r,n):Ks(e,t.child,r,n)}function wa(t,e,r,n,i){r=r.render;var s=e.ref;return Ts(e,i),n=To(t,e,r,n,s,i),r=So(),null===t||ba?(is&&r&&ts(e),e.flags|=1,xa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Va(t,e,i))}function Ea(t,e,r,n,i){if(null===t){var s=r.type;return"function"!==typeof s||Du(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Nu(r.type,null,n,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Ta(t,e,s,n,i))}if(s=t.child,0===(t.lanes&i)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&t.ref===e.ref)return Va(t,e,i)}return e.flags|=1,(t=Ou(s,n)).ref=e.ref,t.return=e,e.child=t}function Ta(t,e,r,n,i){if(null!==t){var s=t.memoizedProps;if(ln(s,n)&&t.ref===e.ref){if(ba=!1,e.pendingProps=n=s,0===(t.lanes&i))return e.lanes=t.lanes,Va(t,e,i);0!==(131072&t.flags)&&(ba=!0)}}return Ca(t,e,r,n,i)}function Sa(t,e,r){var n=e.pendingProps,i=n.children,s=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Ol,Dl),Dl|=r;else{if(0===(1073741824&r))return t=null!==s?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ai(Ol,Dl),Dl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ai(Ol,Dl),Dl|=n}else null!==s?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ai(Ol,Dl),Dl|=n;return xa(t,e,i,r),e.child}function Aa(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ca(t,e,r,n,i){var s=ki(r)?Ii:Ri.current;return s=Mi(e,s),Ts(e,i),r=To(t,e,r,n,s,i),n=So(),null===t||ba?(is&&n&&ts(e),e.flags|=1,xa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Va(t,e,i))}function Ra(t,e,r,n,i){if(ki(r)){var s=!0;Li(e)}else s=!1;if(Ts(e,i),null===e.stateNode)Wa(t,e),Hs(e,r,n),Vs(e,r,n,i),n=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;"object"===typeof u&&null!==u?u=Ss(u):u=Mi(e,u=ki(r)?Ii:Ri.current);var h=r.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||l!==u)&&Ws(e,o,n,u),Is=!1;var d=e.memoizedState;o.state=d,Fs(e,n,o,i),l=e.memoizedState,a!==n||d!==l||Pi.current||Is?("function"===typeof h&&(Gs(e,r,h,n),l=e.memoizedState),(a=Is||js(e,r,a,n,d,l,u))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,ks(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gs(e.type,a),o.props=u,c=e.pendingProps,d=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ss(l):l=Mi(e,l=ki(r)?Ii:Ri.current);var f=r.getDerivedStateFromProps;(h="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==c||d!==l)&&Ws(e,o,n,l),Is=!1,d=e.memoizedState,o.state=d,Fs(e,n,o,i);var p=e.memoizedState;a!==c||d!==p||Pi.current||Is?("function"===typeof f&&(Gs(e,r,f,n),p=e.memoizedState),(u=Is||js(e,r,u,n,d,p,l)||!1)?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Pa(t,e,r,n,s,i)}function Pa(t,e,r,n,i,s){Aa(t,e);var o=0!==(128&e.flags);if(!n&&!o)return i&&Fi(e,r,!1),Va(t,e,s);n=e.stateNode,_a.current=e;var a=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&o?(e.child=Ks(e,t.child,null,s),e.child=Ks(e,null,a,s)):xa(t,e,a,s),e.memoizedState=n.state,i&&Fi(e,r,!0),e.child}function Ia(t){var e=t.stateNode;e.pendingContext?Oi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oi(0,e.context,!1),no(t,e.containerInfo)}function Ma(t,e,r,n,i){return fs(),ps(i),e.flags|=256,xa(t,e,r,n),e.child}var ka,Da,Oa,Na,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ba(t,e,r){var n,i=e.pendingProps,o=ao.current,a=!1,l=0!==(128&e.flags);if((n=l)||(n=(null===t||null!==t.memoizedState)&&0!==(2&o)),n?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Ai(ao,1&o),null===t)return us(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,a?(i=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fu(l,i,0,null),t=Lu(t,i,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Fa(r),e.memoizedState=La,t):Ua(e,l));if(null!==(o=t.memoizedState)&&null!==(n=o.dehydrated))return function(t,e,r,n,i,o,a){if(r)return 256&e.flags?(e.flags&=-257,Ga(t,e,a,n=ca(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Fu({mode:"visible",children:n.children},i,0,null),(o=Lu(o,i,a,null)).flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,0!==(1&e.mode)&&Ks(e,t.child,null,a),e.child.memoizedState=Fa(a),e.memoizedState=La,o);if(0===(1&e.mode))return Ga(t,e,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Ga(t,e,a,n=ca(o=Error(s(419)),n,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(n=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ps(t,i),nu(n,t,i,-1))}return gu(),Ga(t,e,a,n=ca(Error(s(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Ru.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ns=ui(i.nextSibling),rs=e,is=!0,ss=null,null!==t&&(Yi[qi++]=Ki,Yi[qi++]=Qi,Yi[qi++]=$i,Ki=t.id,Qi=t.overflow,$i=e),e=Ua(e,n.children),e.flags|=4096,e)}(t,e,l,i,n,o,r);if(a){a=i.fallback,l=e.mode,n=(o=t.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==o?((i=e.child).childLanes=0,i.pendingProps=u,e.deletions=null):(i=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==n?a=Ou(n,a):(a=Lu(a,l,r,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,l=null===(l=t.child.memoizedState)?Fa(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~r,e.memoizedState=La,i}return t=(a=t.child).sibling,i=Ou(a,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=r),i.return=e,i.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function Ua(t,e){return(e=Fu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Ga(t,e,r,n){return null!==n&&ps(n),Ks(e,t.child,null,r),(t=Ua(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function za(t,e,r){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Es(t.return,e,r)}function ja(t,e,r,n,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ha(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(xa(t,e,n.children,r),0!==(2&(n=ao.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&za(t,r,e);else if(19===t.tag)za(t,r,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ai(ao,n),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===lo(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ja(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===lo(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ja(e,!0,r,null,s);break;case"together":ja(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Va(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),Fl|=e.lanes,0===(r&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(r=Ou(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Ou(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Xa(t,e){if(!is)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ya(t){var e=null!==t.alternate&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function qa(t,e,r){var n=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(e),null;case 1:case 17:return ki(e.type)&&Di(),Ya(e),null;case 3:return n=e.stateNode,io(),Si(Pi),Si(Ri),ho(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(cs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(au(ss),ss=null))),Da(t,e),Ya(e),null;case 5:oo(e);var i=ro(eo.current);if(r=e.type,null!==t&&null!=e.stateNode)Oa(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(s(166));return Ya(e),null}if(t=ro(Js.current),cs(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[di]=e,n[fi]=o,t=0!==(1&e.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(i=0;i<Nn.length;i++)Un(Nn[i],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":K(n,o),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Un("invalid",n);break;case"textarea":it(n,o),Un("invalid",n)}for(var l in yt(r,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?n.textContent!==u&&(!0!==o.suppressHydrationWarning&&Zn(n.textContent,u,t),i=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Zn(n.textContent,u,t),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Un("scroll",n)}switch(r){case"input":X(n),J(n,o,!0);break;case"textarea":X(n),ot(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Jn)}n=i,e.updateQueue=n,null!==n&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(r)),"http://www.w3.org/1999/xhtml"===t?"script"===r?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),"select"===r&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[di]=e,t[fi]=n,ka(t,e,!1,!1),e.stateNode=t;t:{switch(l=_t(r,n),r){case"dialog":Un("cancel",t),Un("close",t),i=n;break;case"iframe":case"object":case"embed":Un("load",t),i=n;break;case"video":case"audio":for(i=0;i<Nn.length;i++)Un(Nn[i],t);i=n;break;case"source":Un("error",t),i=n;break;case"img":case"image":case"link":Un("error",t),Un("load",t),i=n;break;case"details":Un("toggle",t),i=n;break;case"input":K(t,n),i=$(t,n),Un("invalid",t);break;case"option":default:i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=F({},n,{value:void 0}),Un("invalid",t);break;case"textarea":it(t,n),i=nt(t,n),Un("invalid",t)}for(o in yt(r,i),u=i)if(u.hasOwnProperty(o)){var h=u[o];"style"===o?gt(t,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&ct(t,h):"children"===o?"string"===typeof h?("textarea"!==r||""!==h)&&dt(t,h):"number"===typeof h&&dt(t,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=h&&"onScroll"===o&&Un("scroll",t):null!=h&&_(t,o,h,l))}switch(r){case"input":X(t),J(t,n,!1);break;case"textarea":X(t),ot(t);break;case"option":null!=n.value&&t.setAttribute("value",""+W(n.value));break;case"select":t.multiple=!!n.multiple,null!=(o=n.value)?rt(t,!!n.multiple,o,!1):null!=n.defaultValue&&rt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ya(e),null;case 6:if(t&&null!=e.stateNode)Na(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(s(166));if(r=ro(eo.current),ro(Js.current),cs(e)){if(n=e.stateNode,r=e.memoizedProps,n[di]=e,(o=n.nodeValue!==r)&&null!==(t=rs))switch(t.tag){case 3:Zn(n.nodeValue,r,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,0!==(1&t.mode))}o&&(e.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[di]=e,e.stateNode=n}return Ya(e),null;case 13:if(Si(ao),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(is&&null!==ns&&0!==(1&e.mode)&&0===(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=cs(e),null!==n&&null!==n.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=e}else fs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ya(e),o=!1}else null!==ss&&(au(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=r,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ao.current)?0===Nl&&(Nl=3):gu())),null!==e.updateQueue&&(e.flags|=4),Ya(e),null);case 4:return io(),Da(t,e),null===t&&jn(e.stateNode.containerInfo),Ya(e),null;case 10:return ws(e.type._context),Ya(e),null;case 19:if(Si(ao),null===(o=e.memoizedState))return Ya(e),null;if(n=0!==(128&e.flags),null===(l=o.rendering))if(n)Xa(o,!1);else{if(0!==Nl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=lo(t))){for(e.flags|=128,Xa(o,!1),null!==(n=l.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;null!==r;)t=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ai(ao,1&ao.current|2),e.child}t=t.sibling}null!==o.tail&&Qt()>Hl&&(e.flags|=128,n=!0,Xa(o,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=lo(l))){if(e.flags|=128,n=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),Xa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ya(e),null}else 2*Qt()-o.renderingStartTime>Hl&&1073741824!==r&&(e.flags|=128,n=!0,Xa(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(r=o.last)?r.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qt(),e.sibling=null,r=ao.current,Ai(ao,n?1&r|2:1&r),e):(Ya(e),null);case 22:case 23:return du(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Dl)&&(Ya(e),6&e.subtreeFlags&&(e.flags|=8192)):Ya(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function $a(t,e){switch(es(e),e.tag){case 1:return ki(e.type)&&Di(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return io(),Si(Pi),Si(Ri),ho(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return oo(e),null;case 13:if(Si(ao),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Si(ao),null;case 4:return io(),null;case 10:return ws(e.type._context),null;case 22:case 23:return du(),null;default:return null}}ka=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Da=function(){},Oa=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ro(Js.current);var s,o=null;switch(r){case"input":i=$(t,i),n=$(t,n),o=[];break;case"select":i=F({},i,{value:void 0}),n=F({},n,{value:void 0}),o=[];break;case"textarea":i=nt(t,i),n=nt(t,n),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(t.onclick=Jn)}for(h in yt(r,n),r=null,i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&null!=i[h])if("style"===h){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var u=n[h];if(l=null!=i?i[h]:void 0,n.hasOwnProperty(h)&&u!==l&&(null!=u||null!=l))if("style"===h)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(o||(o=[]),o.push(h,r)),r=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Un("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}r&&(o=o||[]).push("style",r);var h=o;(e.updateQueue=h)&&(e.flags|=4)}},Na=function(t,e,r,n){r!==n&&(e.flags|=4)};var Ka=!1,Qa=!1,Za="function"===typeof WeakSet?WeakSet:Set,Ja=null;function tl(t,e){var r=t.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Su(t,e,n)}else r.current=null}function el(t,e,r){try{r()}catch(n){Su(t,e,n)}}var rl=!1;function nl(t,e,r){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(e,r,s)}i=i.next}while(i!==n)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sl(t){var e=t.ref;if(null!==e){var r=t.stateNode;t.tag,t=r,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[mi],delete e[gi],delete e[vi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=Jn));else if(4!==n&&null!==(t=t.child))for(ul(t,e,r),t=t.sibling;null!==t;)ul(t,e,r),t=t.sibling}function hl(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(hl(t,e,r),t=t.sibling;null!==t;)hl(t,e,r),t=t.sibling}var cl=null,dl=!1;function fl(t,e,r){for(r=r.child;null!==r;)pl(t,e,r),r=r.sibling}function pl(t,e,r){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(ie,r)}catch(a){}switch(r.tag){case 5:Qa||tl(r,e);case 6:var n=cl,i=dl;cl=null,fl(t,e,r),dl=i,null!==(cl=n)&&(dl?(t=cl,r=r.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(dl?(t=cl,r=r.stateNode,8===t.nodeType?li(t.parentNode,r):1===t.nodeType&&li(t,r),je(t)):li(cl,r.stateNode));break;case 4:n=cl,i=dl,cl=r.stateNode.containerInfo,dl=!0,fl(t,e,r),cl=n,dl=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(r,e,o),i=i.next}while(i!==n)}fl(t,e,r);break;case 1:if(!Qa&&(tl(r,e),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Su(r,e,a)}fl(t,e,r);break;case 21:fl(t,e,r);break;case 22:1&r.mode?(Qa=(n=Qa)||null!==r.memoizedState,fl(t,e,r),Qa=n):fl(t,e,r);break;default:fl(t,e,r)}}function ml(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new Za),e.forEach((function(e){var n=Pu.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function gl(t,e){var r=e.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break t;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break t}l=l.return}if(null===cl)throw Error(s(160));pl(o,a,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(h){Su(i,e,h)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vl(e,t),e=e.sibling}function vl(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),yl(t),4&n){try{nl(3,t,t.return),il(3,t)}catch(g){Su(t,t.return,g)}try{nl(5,t,t.return)}catch(g){Su(t,t.return,g)}}break;case 1:gl(e,t),yl(t),512&n&&null!==r&&tl(r,r.return);break;case 5:if(gl(e,t),yl(t),512&n&&null!==r&&tl(r,r.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(g){Su(t,t.return,g)}}if(4&n&&null!=(i=t.stateNode)){var o=t.memoizedProps,a=null!==r?r.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(i,o),_t(l,a);var h=_t(l,o);for(a=0;a<u.length;a+=2){var c=u[a],d=u[a+1];"style"===c?gt(i,d):"dangerouslySetInnerHTML"===c?ct(i,d):"children"===c?dt(i,d):_(i,c,d,h)}switch(l){case"input":Z(i,o);break;case"textarea":st(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?rt(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?rt(i,!!o.multiple,o.defaultValue,!0):rt(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Su(t,t.return,g)}}break;case 6:if(gl(e,t),yl(t),4&n){if(null===t.stateNode)throw Error(s(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Su(t,t.return,g)}}break;case 3:if(gl(e,t),yl(t),4&n&&null!==r&&r.memoizedState.isDehydrated)try{je(e.containerInfo)}catch(g){Su(t,t.return,g)}break;case 4:default:gl(e,t),yl(t);break;case 13:gl(e,t),yl(t),8192&(i=t.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Qt())),4&n&&ml(t);break;case 22:if(c=null!==r&&null!==r.memoizedState,1&t.mode?(Qa=(h=Qa)||c,gl(e,t),Qa=h):gl(e,t),yl(t),8192&n){if(h=null!==t.memoizedState,(t.stateNode.isHidden=h)&&!c&&0!==(1&t.mode))for(Ja=t,c=t.child;null!==c;){for(d=Ja=c;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Su(n,r,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Ja=p):wl(d)}c=c.sibling}t:for(c=null,d=t;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,h?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=mt("display",a))}catch(g){Su(t,t.return,g)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(g){Su(t,t.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),yl(t),4&n&&ml(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var r=t.return;null!==r;){if(al(r)){var n=r;break t}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(dt(i,""),n.flags&=-33),hl(t,ll(t),i);break;case 3:case 4:var o=n.stateNode.containerInfo;ul(t,ll(t),o);break;default:throw Error(s(161))}}catch(a){Su(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function _l(t,e,r){Ja=t,bl(t,e,r)}function bl(t,e,r){for(var n=0!==(1&t.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&n){var o=null!==i.memoizedState||Ka;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ka;var u=Qa;if(Ka=o,(Qa=l)&&!u)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,Ja=l):El(i);for(;null!==s;)Ja=s,bl(s,e,r),s=s.sibling;Ja=i,Ka=a,Qa=u}xl(t)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):xl(t)}}function xl(t){for(;null!==Ja;){var e=Ja;if(0!==(8772&e.flags)){var r=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qa||il(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Qa)if(null===r)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:gs(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Bs(e,o,n);break;case 3:var a=e.updateQueue;if(null!==a){if(r=null,null!==e.child)switch(e.child.tag){case 5:case 1:r=e.child.stateNode}Bs(e,a,r)}break;case 5:var l=e.stateNode;if(null===r&&4&e.flags){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var h=e.alternate;if(null!==h){var c=h.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&je(d)}}}break;default:throw Error(s(163))}Qa||512&e.flags&&sl(e)}catch(f){Su(e,e.return,f)}}if(e===t){Ja=null;break}if(null!==(r=e.sibling)){r.return=e.return,Ja=r;break}Ja=e.return}}function wl(t){for(;null!==Ja;){var e=Ja;if(e===t){Ja=null;break}var r=e.sibling;if(null!==r){r.return=e.return,Ja=r;break}Ja=e.return}}function El(t){for(;null!==Ja;){var e=Ja;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{il(4,e)}catch(l){Su(e,r,l)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var i=e.return;try{n.componentDidMount()}catch(l){Su(e,i,l)}}var s=e.return;try{sl(e)}catch(l){Su(e,s,l)}break;case 5:var o=e.return;try{sl(e)}catch(l){Su(e,o,l)}}}catch(l){Su(e,e.return,l)}if(e===t){Ja=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ja=a;break}Ja=e.return}}var Tl,Sl=Math.ceil,Al=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Rl=b.ReactCurrentBatchConfig,Pl=0,Il=null,Ml=null,kl=0,Dl=0,Ol=Ti(0),Nl=0,Ll=null,Fl=0,Bl=0,Ul=0,Gl=null,zl=null,jl=0,Hl=1/0,Wl=null,Vl=!1,Xl=null,Yl=null,ql=!1,$l=null,Kl=0,Ql=0,Zl=null,Jl=-1,tu=0;function eu(){return 0!==(6&Pl)?Qt():-1!==Jl?Jl:Jl=Qt()}function ru(t){return 0===(1&t.mode)?1:0!==(2&Pl)&&0!==kl?kl&-kl:null!==ms.transition?(0===tu&&(tu=me()),tu):0!==(t=_e)?t:t=void 0===(t=window.event)?16:Ke(t.type)}function nu(t,e,r,n){if(50<Ql)throw Ql=0,Zl=null,Error(s(185));ve(t,r,n),0!==(2&Pl)&&t===Il||(t===Il&&(0===(2&Pl)&&(Bl|=r),4===Nl&&lu(t,kl)),iu(t,n),1===r&&0===Pl&&0===(1&e.mode)&&(Hl=Qt()+500,Ui&&ji()))}function iu(t,e){var r=t.callbackNode;!function(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=i[o];-1===l?0!==(a&r)&&0===(a&n)||(i[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var n=de(t,t===Il?kl:0);if(0===n)null!==r&&qt(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=r&&qt(r),1===e)0===t.tag?function(t){Ui=!0,zi(t)}(uu.bind(null,t)):zi(uu.bind(null,t)),oi((function(){0===(6&Pl)&&ji()})),r=null;else{switch(be(n)){case 1:r=Jt;break;case 4:r=te;break;case 16:default:r=ee;break;case 536870912:r=ne}r=Iu(r,su.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function su(t,e){if(Jl=-1,tu=0,0!==(6&Pl))throw Error(s(327));var r=t.callbackNode;if(Eu()&&t.callbackNode!==r)return null;var n=de(t,t===Il?kl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=vu(t,n);else{e=n;var i=Pl;Pl|=2;var o=mu();for(Il===t&&kl===e||(Wl=null,Hl=Qt()+500,fu(t,e));;)try{_u();break}catch(l){pu(t,l)}xs(),Al.current=o,Pl=i,null!==Ml?e=0:(Il=null,kl=0,e=Nl)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(n=i,e=ou(t,i))),1===e)throw r=Ll,fu(t,0),lu(t,n),iu(t,Qt()),r;if(6===e)lu(t,n);else{if(i=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var r=e.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!an(s(),i))return!1}catch(a){return!1}}}if(r=e.child,16384&e.subtreeFlags&&null!==r)r.return=e,e=r;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=vu(t,n))&&(0!==(o=pe(t))&&(n=o,e=ou(t,o))),1===e))throw r=Ll,fu(t,0),lu(t,n),iu(t,Qt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(s(345));case 2:case 5:wu(t,zl,Wl);break;case 3:if(lu(t,n),(130023424&n)===n&&10<(e=jl+500-Qt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&n)!==n){eu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ni(wu.bind(null,t,zl,Wl),e);break}wu(t,zl,Wl);break;case 4:if(lu(t,n),(4194240&n)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-oe(n);o=1<<a,(a=e[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Qt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){t.timeoutHandle=ni(wu.bind(null,t,zl,Wl),n);break}wu(t,zl,Wl);break;default:throw Error(s(329))}}}return iu(t,Qt()),t.callbackNode===r?su.bind(null,t):null}function ou(t,e){var r=Gl;return t.current.memoizedState.isDehydrated&&(fu(t,e).flags|=256),2!==(t=vu(t,e))&&(e=zl,zl=r,null!==e&&au(e)),t}function au(t){null===zl?zl=t:zl.push.apply(zl,t)}function lu(t,e){for(e&=~Ul,e&=~Bl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-oe(e),n=1<<r;t[r]=-1,e&=~n}}function uu(t){if(0!==(6&Pl))throw Error(s(327));Eu();var e=de(t,0);if(0===(1&e))return iu(t,Qt()),null;var r=vu(t,e);if(0!==t.tag&&2===r){var n=pe(t);0!==n&&(e=n,r=ou(t,n))}if(1===r)throw r=Ll,fu(t,0),lu(t,e),iu(t,Qt()),r;if(6===r)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wu(t,zl,Wl),iu(t,Qt()),null}function hu(t,e){var r=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=r)&&(Hl=Qt()+500,Ui&&ji())}}function cu(t){null!==$l&&0===$l.tag&&0===(6&Pl)&&Eu();var e=Pl;Pl|=1;var r=Rl.transition,n=_e;try{if(Rl.transition=null,_e=1,t)return t()}finally{_e=n,Rl.transition=r,0===(6&(Pl=e))&&ji()}}function du(){Dl=Ol.current,Si(Ol)}function fu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,ii(r)),null!==Ml)for(r=Ml.return;null!==r;){var n=r;switch(es(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Di();break;case 3:io(),Si(Pi),Si(Ri),ho();break;case 5:oo(n);break;case 4:io();break;case 13:case 19:Si(ao);break;case 10:ws(n.type._context);break;case 22:case 23:du()}r=r.return}if(Il=t,Ml=t=Ou(t.current,null),kl=Dl=e,Nl=0,Ll=null,Ul=Bl=Fl=0,zl=Gl=null,null!==As){for(e=0;e<As.length;e++)if(null!==(n=(r=As[e]).interleaved)){r.interleaved=null;var i=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=i,n.next=o}r.pending=n}As=null}return t}function pu(t,e){for(;;){var r=Ml;try{if(xs(),co.current=oa,yo){for(var n=mo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}yo=!1}if(po=0,vo=go=mo=null,_o=!1,bo=0,Cl.current=null,null===r||null===r.return){Nl=1,Ll=e,Ml=null;break}t:{var o=t,a=r.return,l=r,u=e;if(e=kl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var h=u,c=l,d=c.tag;if(0===(1&c.mode)&&(0===d||11===d||15===d)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,e),1&p.mode&&ga(o,h,e),u=h;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(u),e.updateQueue=g}else m.add(u);break t}if(0===(1&e)){ga(o,h,e),gu();break t}u=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,e),ps(ha(u,l));break t}}o=u=ha(u,l),4!==Nl&&(Nl=2),null===Gl?Gl=[o]:Gl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,pa(0,u,e));break t;case 1:l=u;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Yl||!Yl.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e,Ls(o,ma(o,l,e));break t}}o=o.return}while(null!==o)}xu(r)}catch(b){e=b,Ml===r&&null!==r&&(Ml=r=r.return);continue}break}}function mu(){var t=Al.current;return Al.current=oa,null===t?oa:t}function gu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Il||0===(268435455&Fl)&&0===(268435455&Bl)||lu(Il,kl)}function vu(t,e){var r=Pl;Pl|=2;var n=mu();for(Il===t&&kl===e||(Wl=null,fu(t,e));;)try{yu();break}catch(i){pu(t,i)}if(xs(),Pl=r,Al.current=n,null!==Ml)throw Error(s(261));return Il=null,kl=0,Nl}function yu(){for(;null!==Ml;)bu(Ml)}function _u(){for(;null!==Ml&&!$t();)bu(Ml)}function bu(t){var e=Tl(t.alternate,t,Dl);t.memoizedProps=t.pendingProps,null===e?xu(t):Ml=e,Cl.current=null}function xu(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(r=qa(r,e,Dl)))return void(Ml=r)}else{if(null!==(r=$a(r,e)))return r.flags&=32767,void(Ml=r);if(null===t)return Nl=6,void(Ml=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ml=e);Ml=e=t}while(null!==e);0===Nl&&(Nl=5)}function wu(t,e,r){var n=_e,i=Rl.transition;try{Rl.transition=null,_e=1,function(t,e,r,n){do{Eu()}while(null!==$l);if(0!==(6&Pl))throw Error(s(327));r=t.finishedWork;var i=t.finishedLanes;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-oe(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}(t,o),t===Il&&(Ml=Il=null,kl=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||ql||(ql=!0,Iu(ee,(function(){return Eu(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Rl.transition,Rl.transition=null;var a=_e;_e=1;var l=Pl;Pl|=4,Cl.current=null,function(t,e){if(ti=We,fn(t=dn())){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(r=(r=t.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(x){r=null;break t}var a=0,l=-1,u=-1,h=0,c=0,d=t,f=null;e:for(;;){for(var p;d!==r||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==n&&3!==d.nodeType||(u=a+n),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===r&&++h===i&&(l=a),f===o&&++c===n&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ei={focusedElem:t,selectionRange:r},We=!1,Ja=e;null!==Ja;)if(t=(e=Ja).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ja=t;else for(;null!==Ja;){e=Ja;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:gs(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(x){Su(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Ja=t;break}Ja=e.return}m=rl,rl=!1}(t,r),vl(r,t),pn(ei),We=!!ti,ei=ti=null,t.current=r,_l(r,t,i),Kt(),Pl=l,_e=a,Rl.transition=o}else t.current=r;if(ql&&(ql=!1,$l=t,Kl=i),o=t.pendingLanes,0===o&&(Yl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(r.stateNode),iu(t,Qt()),null!==e)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,t=Xl,Xl=null,t;0!==(1&Kl)&&0!==t.tag&&Eu(),o=t.pendingLanes,0!==(1&o)?t===Zl?Ql++:(Ql=0,Zl=t):Ql=0,ji()}(t,e,r,n)}finally{Rl.transition=i,_e=n}return null}function Eu(){if(null!==$l){var t=be(Kl),e=Rl.transition,r=_e;try{if(Rl.transition=null,_e=16>t?16:t,null===$l)var n=!1;else{if(t=$l,$l=null,Kl=0,0!==(6&Pl))throw Error(s(331));var i=Pl;for(Pl|=4,Ja=t.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var h=l[u];for(Ja=h;null!==Ja;){var c=Ja;switch(c.tag){case 0:case 11:case 15:nl(8,c,o)}var d=c.child;if(null!==d)d.return=c,Ja=d;else for(;null!==Ja;){var f=(c=Ja).sibling,p=c.return;if(ol(c),c===h){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else t:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break t}Ja=o.return}}var _=t.current;for(Ja=_;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else t:for(a=_;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Su(l,l.return,w)}if(l===a){Ja=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break t}Ja=l.return}}if(Pl=i,ji(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(ie,t)}catch(w){}n=!0}return n}finally{_e=r,Rl.transition=e}}return!1}function Tu(t,e,r){t=Os(t,e=pa(0,e=ha(r,e),1),1),e=eu(),null!==t&&(ve(t,1,e),iu(t,e))}function Su(t,e,r){if(3===t.tag)Tu(t,t,r);else for(;null!==e;){if(3===e.tag){Tu(e,t,r);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Yl||!Yl.has(n))){e=Os(e,t=ma(e,t=ha(r,t),1),1),t=eu(),null!==e&&(ve(e,1,t),iu(e,t));break}}e=e.return}}function Au(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=eu(),t.pingedLanes|=t.suspendedLanes&r,Il===t&&(kl&r)===r&&(4===Nl||3===Nl&&(130023424&kl)===kl&&500>Qt()-jl?fu(t,0):Ul|=r),iu(t,e)}function Cu(t,e){0===e&&(0===(1&t.mode)?e=1:(e=he,0===(130023424&(he<<=1))&&(he=4194304)));var r=eu();null!==(t=Ps(t,e))&&(ve(t,e,r),iu(t,r))}function Ru(t){var e=t.memoizedState,r=0;null!==e&&(r=e.retryLane),Cu(t,r)}function Pu(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(e),Cu(t,r)}function Iu(t,e){return Yt(t,e)}function Mu(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ku(t,e,r,n){return new Mu(t,e,r,n)}function Du(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ou(t,e){var r=t.alternate;return null===r?((r=ku(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&t.flags,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nu(t,e,r,n,i,o){var a=2;if(n=t,"function"===typeof t)Du(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case E:return Lu(r.children,i,o,e);case T:a=8,i|=8;break;case S:return(t=ku(12,r,e,2|i)).elementType=S,t.lanes=o,t;case P:return(t=ku(13,r,e,i)).elementType=P,t.lanes=o,t;case I:return(t=ku(19,r,e,i)).elementType=I,t.lanes=o,t;case D:return Fu(r,i,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case A:a=10;break t;case C:a=9;break t;case R:a=11;break t;case M:a=14;break t;case k:a=16,n=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=ku(a,r,e,i)).elementType=t,e.type=n,e.lanes=o,e}function Lu(t,e,r,n){return(t=ku(7,t,n,e)).lanes=r,t}function Fu(t,e,r,n){return(t=ku(22,t,n,e)).elementType=D,t.lanes=r,t.stateNode={isHidden:!1},t}function Bu(t,e,r){return(t=ku(6,t,null,e)).lanes=r,t}function Uu(t,e,r){return(e=ku(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gu(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(t,e,r,n,i,s,o,a,l){return t=new Gu(t,e,r,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=ku(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),t}function ju(t){if(!t)return Ci;t:{if(jt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(ki(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var r=t.type;if(ki(r))return Ni(t,r,e)}return e}function Hu(t,e,r,n,i,s,o,a,l){return(t=zu(r,n,!0,t,0,s,0,a,l)).context=ju(null),r=t.current,(s=Ds(n=eu(),i=ru(r))).callback=void 0!==e&&null!==e?e:null,Os(r,s,i),t.current.lanes=i,ve(t,i,n),iu(t,n),t}function Wu(t,e,r,n){var i=e.current,s=eu(),o=ru(i);return r=ju(r),null===e.context?e.context=r:e.pendingContext=r,(e=Ds(s,o)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Os(i,e,o))&&(nu(t,i,o,s),Ns(t,i,o)),o}function Vu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Xu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function Yu(t,e){Xu(t,e),(t=t.alternate)&&Xu(t,e)}Tl=function(t,e,r){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pi.current)ba=!0;else{if(0===(t.lanes&r)&&0===(128&e.flags))return ba=!1,function(t,e,r){switch(e.tag){case 3:Ia(e),fs();break;case 5:so(e);break;case 1:ki(e.type)&&Li(e);break;case 4:no(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ai(vs,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Ai(ao,1&ao.current),e.flags|=128,null):0!==(r&e.child.childLanes)?Ba(t,e,r):(Ai(ao,1&ao.current),null!==(t=Va(t,e,r))?t.sibling:null);Ai(ao,1&ao.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(128&t.flags)){if(n)return Ha(t,e,r);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(ao,ao.current),n)break;return null;case 22:case 23:return e.lanes=0,Sa(t,e,r)}return Va(t,e,r)}(t,e,r);ba=0!==(131072&t.flags)}else ba=!1,is&&0!==(1048576&e.flags)&&Ji(e,Xi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wa(t,e),t=e.pendingProps;var i=Mi(e,Ri.current);Ts(e,r),i=To(null,e,n,t,i,r);var o=So();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ki(n)?(o=!0,Li(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(e),i.updater=zs,e.stateNode=i,i._reactInternals=e,Vs(e,n,t,r),e=Pa(null,e,n,!0,o,r)):(e.tag=0,is&&o&&ts(e),xa(null,e,i,r),e=e.child),e;case 16:n=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,n=(i=n._init)(n._payload),e.type=n,i=e.tag=function(t){if("function"===typeof t)return Du(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===R)return 11;if(t===M)return 14}return 2}(n),t=gs(n,t),i){case 0:e=Ca(null,e,n,t,r);break t;case 1:e=Ra(null,e,n,t,r);break t;case 11:e=wa(null,e,n,t,r);break t;case 14:e=Ea(null,e,n,gs(n.type,t),r);break t}throw Error(s(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,Ca(t,e,n,i=e.elementType===n?i:gs(n,i),r);case 1:return n=e.type,i=e.pendingProps,Ra(t,e,n,i=e.elementType===n?i:gs(n,i),r);case 3:t:{if(Ia(e),null===t)throw Error(s(387));n=e.pendingProps,i=(o=e.memoizedState).element,ks(t,e),Fs(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ma(t,e,n,r,i=ha(Error(s(423)),e));break t}if(n!==i){e=Ma(t,e,n,r,i=ha(Error(s(424)),e));break t}for(ns=ui(e.stateNode.containerInfo.firstChild),rs=e,is=!0,ss=null,r=Qs(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fs(),n===i){e=Va(t,e,r);break t}xa(t,e,n,r)}e=e.child}return e;case 5:return so(e),null===t&&us(e),n=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,ri(n,i)?a=null:null!==o&&ri(n,o)&&(e.flags|=32),Aa(t,e),xa(t,e,a,r),e.child;case 6:return null===t&&us(e),null;case 13:return Ba(t,e,r);case 4:return no(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Ks(e,null,n,r):xa(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,wa(t,e,n,i=e.elementType===n?i:gs(n,i),r);case 7:return xa(t,e,e.pendingProps,r),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ai(vs,n._currentValue),n._currentValue=a,null!==o)if(an(o.value,a)){if(o.children===i.children&&!Pi.current){e=Va(t,e,r);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===o.tag){(u=Ds(-1,r&-r)).tag=2;var h=o.updateQueue;if(null!==h){var c=(h=h.shared).pending;null===c?u.next=u:(u.next=c.next,c.next=u),h.pending=u}}o.lanes|=r,null!==(u=o.alternate)&&(u.lanes|=r),Es(o.return,r,e),l.lanes|=r;break}u=u.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),Es(a,r,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ts(e,r),n=n(i=Ss(i)),e.flags|=1,xa(t,e,n,r),e.child;case 14:return i=gs(n=e.type,e.pendingProps),Ea(t,e,n,i=gs(n.type,i),r);case 15:return Ta(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gs(n,i),Wa(t,e),e.tag=1,ki(n)?(t=!0,Li(e)):t=!1,Ts(e,r),Hs(e,n,i),Vs(e,n,i,r),Pa(null,e,n,!0,t,r);case 19:return Ha(t,e,r);case 22:return Sa(t,e,r)}throw Error(s(156,e.tag))};var qu="function"===typeof reportError?reportError:function(t){console.error(t)};function $u(t){this._internalRoot=t}function Ku(t){this._internalRoot=t}function Qu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ju(){}function th(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var t=Vu(o);a.call(t)}}Wu(e,o,t,i)}else o=function(t,e,r,n,i){if(i){if("function"===typeof n){var s=n;n=function(){var t=Vu(o);s.call(t)}}var o=Hu(e,n,t,0,null,!1,0,"",Ju);return t._reactRootContainer=o,t[pi]=o.current,jn(8===t.nodeType?t.parentNode:t),cu(),o}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof n){var a=n;n=function(){var t=Vu(l);a.call(t)}}var l=zu(t,0,!1,null,0,!1,0,"",Ju);return t._reactRootContainer=l,t[pi]=l.current,jn(8===t.nodeType?t.parentNode:t),cu((function(){Wu(e,l,r,n)})),l}(r,e,t,i,n);return Vu(o)}Ku.prototype.render=$u.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Wu(t,e,null,null)},Ku.prototype.unmount=$u.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cu((function(){Wu(null,t,null,null)})),e[pi]=null}},Ku.prototype.unstable_scheduleHydration=function(t){if(t){var e=Te();t={blockedOn:null,target:t,priority:e};for(var r=0;r<De.length&&0!==e&&e<De[r].priority;r++);De.splice(r,0,t),0===r&&Fe(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ce(e.pendingLanes);0!==r&&(ye(e,1|r),iu(e,Qt()),0===(6&Pl)&&(Hl=Qt()+500,ji()))}break;case 13:cu((function(){var e=Ps(t,1);if(null!==e){var r=eu();nu(e,t,1,r)}})),Yu(t,1)}},we=function(t){if(13===t.tag){var e=Ps(t,134217728);if(null!==e)nu(e,t,134217728,eu());Yu(t,134217728)}},Ee=function(t){if(13===t.tag){var e=ru(t),r=Ps(t,e);if(null!==r)nu(r,t,e,eu());Yu(t,e)}},Te=function(){return _e},Se=function(t,e){var r=_e;try{return _e=t,e()}finally{_e=r}},wt=function(t,e,r){switch(e){case"input":if(Z(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=xi(n);if(!i)throw Error(s(90));Y(n),Z(n,i)}}}break;case"textarea":st(t,r);break;case"select":null!=(e=r.value)&&rt(t,!!r.multiple,e,!1)}},Rt=hu,Pt=cu;var eh={usingClientEntryPoint:!1,Events:[_i,bi,xi,At,Ct,hu]},rh={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nh={bundleType:rh.bundleType,version:rh.version,rendererPackageName:rh.rendererPackageName,rendererConfig:rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Vt(t))?null:t.stateNode},findFiberByHostInstance:rh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ie=ih.inject(nh),se=ih}catch(ht){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,e.createPortal=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(e))throw Error(s(200));return function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}(t,e,null,r)},e.createRoot=function(t,e){if(!Qu(t))throw Error(s(299));var r=!1,n="",i=qu;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(r=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=zu(t,1,!1,null,0,r,0,n,i),t[pi]=e.current,jn(8===t.nodeType?t.parentNode:t),new $u(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Vt(e))?null:t.stateNode},e.flushSync=function(t){return cu(t)},e.hydrate=function(t,e,r){if(!Zu(e))throw Error(s(200));return th(null,t,e,!0,r)},e.hydrateRoot=function(t,e,r){if(!Qu(t))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",a=qu;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),e=Hu(e,null,t,1,null!=r?r:null,i,0,o,a),t[pi]=e.current,jn(t),n)for(t=0;t<n.length;t++)i=(i=(r=n[t])._getVersion)(r._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ku(e)},e.render=function(t,e,r){if(!Zu(e))throw Error(s(200));return th(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(s(40));return!!t._reactRootContainer&&(cu((function(){th(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=hu,e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zu(r))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return th(t,e,r,!1,n)},e.version="18.2.0-next-9e3b772b8-20220608"},250:(t,e,r)=>{"use strict";var n=r(164);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},164:(t,e,r)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(463)},374:(t,e,r)=>{"use strict";var n=r(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,r){var n,s={},u=null,h=null;for(n in void 0!==r&&(u=""+r),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(h=e.ref),e)o.call(e,n)&&!l.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:i,type:t,key:u,ref:h,props:s,_owner:a.current}}e.jsx=u,e.jsxs=u},117:(t,e)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}function y(){}function _(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var i,s={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,i)&&!T.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];s.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:r,type:t,key:o,ref:a,props:s,_owner:E.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===r}var C=/\/+/g;function R(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,i,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=t),t=""===s?"."+R(l,0):s,x(o)?(i="",null!=t&&(i=t.replace(C,"$&/")+"/"),P(o,e,i,"",(function(t){return t}))):null!=o&&(A(o)&&(o=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",x(t))for(var u=0;u<t.length;u++){var h=s+R(a=t[u],u);l+=P(a,e,i,h,o)}else if(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof h)for(t=h.call(t),u=0;!(a=t.next()).done;)l+=P(a=a.value,e,i,h=s+R(a,u++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function I(t,e,r){if(null==t)return t;var n=[],i=0;return P(t,n,"","",(function(t){return e.call(r,t,i++)})),n}function M(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var k={current:null},D={transition:null},O={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};e.Children={map:I,forEach:function(t,e,r){I(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return I(t,(function(){e++})),e},toArray:function(t){return I(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=i,e.Profiler=o,e.PureComponent=_,e.StrictMode=s,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=E.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)w.call(e,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:r,type:t.type,key:s,ref:o,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=D.transition;D.transition={};try{t()}finally{D.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return k.current.useCallback(t,e)},e.useContext=function(t){return k.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return k.current.useDeferredValue(t)},e.useEffect=function(t,e){return k.current.useEffect(t,e)},e.useId=function(){return k.current.useId()},e.useImperativeHandle=function(t,e,r){return k.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return k.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return k.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return k.current.useMemo(t,e)},e.useReducer=function(t,e,r){return k.current.useReducer(t,e,r)},e.useRef=function(t){return k.current.useRef(t)},e.useState=function(t){return k.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return k.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return k.current.useTransition()},e.version="18.2.0"},791:(t,e,r)=>{"use strict";t.exports=r(117)},184:(t,e,r)=>{"use strict";t.exports=r(374)},813:(t,e)=>{"use strict";function r(t,e){var r=t.length;t.push(e);t:for(;0<r;){var n=r-1>>>1,i=t[n];if(!(0<s(i,e)))break t;t[n]=e,t[r]=i,r=n}}function n(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length,o=i>>>1;n<o;){var a=2*(n+1)-1,l=t[a],u=a+1,h=t[u];if(0>s(l,r))u<i&&0>s(h,l)?(t[n]=h,t[u]=r,n=u):(t[n]=l,t[a]=r,n=a);else{if(!(u<i&&0>s(h,r)))break t;t[n]=h,t[u]=r,n=u}}}return e}function s(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],c=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=n(h);null!==e;){if(null===e.callback)i(h);else{if(!(e.startTime<=t))break;i(h),e.sortIndex=e.expirationTime,r(u,e)}e=n(h)}}function x(t){if(g=!1,b(t),!m)if(null!==n(u))m=!0,D(w);else{var e=n(h);null!==e&&O(x,e.startTime-t)}}function w(t,r){m=!1,g&&(g=!1,y(A),A=-1),p=!0;var s=f;try{for(b(r),d=n(u);null!==d&&(!(d.expirationTime>r)||t&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=r);r=e.unstable_now(),"function"===typeof a?d.callback=a:d===n(u)&&i(u),b(r)}else i(u);d=n(u)}if(null!==d)var l=!0;else{var c=n(h);null!==c&&O(x,c.startTime-r),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,T=!1,S=null,A=-1,C=5,R=-1;function P(){return!(e.unstable_now()-R<C)}function I(){if(null!==S){var t=e.unstable_now();R=t;var r=!0;try{r=S(!0,t)}finally{r?E():(T=!1,S=null)}}else T=!1}if("function"===typeof _)E=function(){_(I)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,k=M.port2;M.port1.onmessage=I,E=function(){k.postMessage(null)}}else E=function(){v(I,0)};function D(t){S=t,T||(T=!0,E())}function O(t,r){A=v((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,D(w))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var r=f;f=e;try{return t()}finally{f=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=f;f=t;try{return e()}finally{f=r}},e.unstable_scheduleCallback=function(t,i,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:c++,callback:i,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,r(h,t),null===n(u)&&t===n(h)&&(g?(y(A),A=-1):g=!0,O(x,s-o))):(t.sortIndex=a,r(u,t),m||p||(m=!0,D(w))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=f;return function(){var r=f;f=e;try{return t.apply(this,arguments)}finally{f=r}}}},296:(t,e,r)=>{"use strict";t.exports=r(813)},986:(t,e,r)=>{"use strict";var n=r(506),i=r(651),s=r(510)(),o=r(347),a=n("%TypeError%"),l=n("%Math.floor%");t.exports=function(t,e){if("function"!==typeof t)throw new a("`fn` is not a function");if("number"!==typeof e||e<0||e>4294967295||l(e)!==e)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in t&&o){var h=o(t,"length");h&&!h.configurable&&(n=!1),h&&!h.writable&&(u=!1)}return(n||u||!r)&&(s?i(t,"length",e,!0,!0):i(t,"length",e)),t}},613:t=>{t.exports=function(t,e,r,n){var i=r?r.call(n,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),l=0;l<s.length;l++){var u=s[l];if(!a(u))return!1;var h=t[u],c=e[u];if(!1===(i=r?r.call(n,h,c,u):void 0)||void 0===i&&h!==c)return!1}return!0}},581:(t,e,r)=>{"use strict";var n=r(506),i=r(37),s=r(584),o=n("%TypeError%"),a=n("%WeakMap%",!0),l=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),h=i("WeakMap.prototype.set",!0),c=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),f=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),m=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new o("Side channel does not contain "+s(t))},get:function(n){if(a&&n&&("object"===typeof n||"function"===typeof n)){if(t)return u(t,n)}else if(l){if(e)return d(e,n)}else if(r)return function(t,e){var r=m(t,e);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"===typeof n||"function"===typeof n)){if(t)return c(t,n)}else if(l){if(e)return p(e,n)}else if(r)return function(t,e){return!!m(t,e)}(r,n);return!1},set:function(n,i){a&&n&&("object"===typeof n||"function"===typeof n)?(t||(t=new a),h(t,n,i)):l?(e||(e=new l),f(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=m(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n}},369:function(t,e,r){var n;t=r.nmd(t),function(i){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r.g&&r.g;s.global!==s&&s.window!==s&&s.self;var o,a=2147483647,l=36,u=1,h=26,c=38,d=700,f=72,p=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=l-u,x=Math.floor,w=String.fromCharCode;function E(t){throw new RangeError(_[t])}function T(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function S(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+T((t=t.replace(y,".")).split("."),e).join(".")}function A(t){for(var e,r,n=[],i=0,s=t.length;i<s;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<s?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function C(t){return T(t,(function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)})).join("")}function R(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,r){var n=0;for(t=r?x(t/d):t>>1,t+=x(t/e);t>b*h>>1;n+=l)t=x(t/b);return x(n+(b+1)*t/(t+c))}function I(t){var e,r,n,i,s,o,c,d,g,v,y,_=[],b=t.length,w=0,T=p,S=f;for((r=t.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&E("not-basic"),_.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(s=w,o=1,c=l;i>=b&&E("invalid-input"),((d=(y=t.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||d>x((a-w)/o))&&E("overflow"),w+=d*o,!(d<(g=c<=S?u:c>=S+h?h:c-S));c+=l)o>x(a/(v=l-g))&&E("overflow"),o*=v;S=P(w-s,e=_.length+1,0==s),x(w/e)>a-T&&E("overflow"),T+=x(w/e),w%=e,_.splice(w++,0,T)}return C(_)}function M(t){var e,r,n,i,s,o,c,d,g,v,y,_,b,T,S,C=[];for(_=(t=A(t)).length,e=p,r=0,s=f,o=0;o<_;++o)(y=t[o])<128&&C.push(w(y));for(n=i=C.length,i&&C.push(m);n<_;){for(c=a,o=0;o<_;++o)(y=t[o])>=e&&y<c&&(c=y);for(c-e>x((a-r)/(b=n+1))&&E("overflow"),r+=(c-e)*b,e=c,o=0;o<_;++o)if((y=t[o])<e&&++r>a&&E("overflow"),y==e){for(d=r,g=l;!(d<(v=g<=s?u:g>=s+h?h:g-s));g+=l)S=d-v,T=l-v,C.push(w(R(v+S%T,0))),d=x(S/T);C.push(w(R(d,0))),s=P(r,b,n==i),r=0,++n}++r,++e}return C.join("")}o={version:"1.4.1",ucs2:{decode:A,encode:C},decode:I,encode:M,toASCII:function(t){return S(t,(function(t){return v.test(t)?"xn--"+M(t):t}))},toUnicode:function(t){return S(t,(function(t){return g.test(t)?I(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}()},951:t=>{"use strict";var e=String.prototype.replace,r=/%20/g,n="RFC1738",i="RFC3986";t.exports={default:i,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:n,RFC3986:i}},915:(t,e,r)=>{"use strict";var n=r(34),i=r(580),s=r(951);t.exports={formats:s,parse:i,stringify:n}},580:(t,e,r)=>{"use strict";var n=r(838),i=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},l=function(t,e){return t&&"string"===typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,r,n){if(t){var s=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(s),u=a?s.slice(0,a.index):s,h=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;h.push(u)}for(var c=0;r.depth>0&&null!==(a=o.exec(s))&&c<r.depth;){if(c+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(a[1])}return a&&h.push("["+s.slice(a.index)+"]"),function(t,e,r,n){for(var i=n?e:l(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if("[]"===a&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,h=parseInt(u,10);r.parseArrays||""!==u?!isNaN(h)&&a!==u&&String(h)===u&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[])[h]=i:"__proto__"!==u&&(o[u]=i):o={0:i}}i=o}return i}(h,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!==typeof t.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e="undefined"===typeof t.charset?o.charset:t.charset;return{allowDots:"undefined"===typeof t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"===typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"===typeof t.allowSparse?t.allowSparse:o.allowSparse,arrayLimit:"number"===typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"===typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"===typeof t.comma?t.comma:o.comma,decoder:"function"===typeof t.decoder?t.decoder:o.decoder,delimiter:"string"===typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"===typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"===typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"===typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"===typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null===t||"undefined"===typeof t)return r.plainObjects?Object.create(null):{};for(var h="string"===typeof t?function(t,e){var r,u={__proto__:null},h=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,c=e.parameterLimit===1/0?void 0:e.parameterLimit,d=h.split(e.delimiter,c),f=-1,p=e.charset;if(e.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?p="utf-8":"utf8=%26%2310003%3B"===d[r]&&(p="iso-8859-1"),f=r,r=d.length);for(r=0;r<d.length;++r)if(r!==f){var m,g,v=d[r],y=v.indexOf("]="),_=-1===y?v.indexOf("="):y+1;-1===_?(m=e.decoder(v,o.decoder,p,"key"),g=e.strictNullHandling?null:""):(m=e.decoder(v.slice(0,_),o.decoder,p,"key"),g=n.maybeMap(l(v.slice(_+1),e),(function(t){return e.decoder(t,o.decoder,p,"value")}))),g&&e.interpretNumericEntities&&"iso-8859-1"===p&&(g=a(g)),v.indexOf("[]=")>-1&&(g=s(g)?[g]:g),i.call(u,m)?u[m]=n.combine(u[m],g):u[m]=g}return u}(t,r):t,c=r.plainObjects?Object.create(null):{},d=Object.keys(h),f=0;f<d.length;++f){var p=d[f],m=u(p,h[p],r,"string"===typeof t);c=n.merge(c,m,r)}return!0===r.allowSparse?c:n.compact(c)}},34:(t,e,r)=>{"use strict";var n=r(581),i=r(838),s=r(951),o=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,u=Array.prototype.push,h=function(t,e){u.apply(t,l(e)?e:[e])},c=Date.prototype.toISOString,d=s.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:s.formatters[d],indices:!1,serializeDate:function(t){return c.call(t)},skipNulls:!1,strictNullHandling:!1},p={},m=function t(e,r,s,o,a,u,c,d,m,g,v,y,_,b,x,w){for(var E,T=e,S=w,A=0,C=!1;void 0!==(S=S.get(p))&&!C;){var R=S.get(e);if(A+=1,"undefined"!==typeof R){if(R===A)throw new RangeError("Cyclic object value");C=!0}"undefined"===typeof S.get(p)&&(A=0)}if("function"===typeof d?T=d(r,T):T instanceof Date?T=v(T):"comma"===s&&l(T)&&(T=i.maybeMap(T,(function(t){return t instanceof Date?v(t):t}))),null===T){if(a)return c&&!b?c(r,f.encoder,x,"key",y):r;T=""}if("string"===typeof(E=T)||"number"===typeof E||"boolean"===typeof E||"symbol"===typeof E||"bigint"===typeof E||i.isBuffer(T))return c?[_(b?r:c(r,f.encoder,x,"key",y))+"="+_(c(T,f.encoder,x,"value",y))]:[_(r)+"="+_(String(T))];var P,I=[];if("undefined"===typeof T)return I;if("comma"===s&&l(T))b&&c&&(T=i.maybeMap(T,c)),P=[{value:T.length>0?T.join(",")||null:void 0}];else if(l(d))P=d;else{var M=Object.keys(T);P=m?M.sort(m):M}for(var k=o&&l(T)&&1===T.length?r+"[]":r,D=0;D<P.length;++D){var O=P[D],N="object"===typeof O&&"undefined"!==typeof O.value?O.value:T[O];if(!u||null!==N){var L=l(T)?"function"===typeof s?s(k,O):k:k+(g?"."+O:"["+O+"]");w.set(e,A);var F=n();F.set(p,w),h(I,t(N,L,s,o,a,u,"comma"===s&&b&&l(T)?null:c,d,m,g,v,y,_,b,x,F))}}return I};t.exports=function(t,e){var r,i=t,u=function(t){if(!t)return f;if(null!==t.encoder&&"undefined"!==typeof t.encoder&&"function"!==typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if("undefined"!==typeof t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=s.default;if("undefined"!==typeof t.format){if(!o.call(s.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=s.formatters[r],i=f.filter;return("function"===typeof t.filter||l(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"===typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:"undefined"===typeof t.allowDots?f.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"===typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,delimiter:"undefined"===typeof t.delimiter?f.delimiter:t.delimiter,encode:"boolean"===typeof t.encode?t.encode:f.encode,encoder:"function"===typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"===typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"===typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"===typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"===typeof t.sort?t.sort:null,strictNullHandling:"boolean"===typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"===typeof u.filter?i=(0,u.filter)("",i):l(u.filter)&&(r=u.filter);var c,d=[];if("object"!==typeof i||null===i)return"";c=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var p=a[c];if(e&&"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===p&&e&&e.commaRoundTrip;r||(r=Object.keys(i)),u.sort&&r.sort(u.sort);for(var v=n(),y=0;y<r.length;++y){var _=r[y];u.skipNulls&&null===i[_]||h(d,m(i[_],_,p,g,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,v))}var b=d.join(u.delimiter),x=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},838:(t,e,r)=>{"use strict";var n=r(951),i=Object.prototype.hasOwnProperty,s=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)"undefined"!==typeof t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],o=i.obj[i.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],h=o[u];"object"===typeof h&&null!==h&&-1===r.indexOf(h)&&(e.push({obj:o,prop:u}),r.push(h))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(s(r)){for(var n=[],i=0;i<r.length;++i)"undefined"!==typeof r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(i){return n}},encode:function(t,e,r,i,s){if(0===t.length)return t;var a=t;if("symbol"===typeof t?a=Symbol.prototype.toString.call(t):"string"!==typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var l="",u=0;u<a.length;++u){var h=a.charCodeAt(u);45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===n.RFC1738&&(40===h||41===h)?l+=a.charAt(u):h<128?l+=o[h]:h<2048?l+=o[192|h>>6]+o[128|63&h]:h<55296||h>=57344?l+=o[224|h>>12]+o[128|h>>6&63]+o[128|63&h]:(u+=1,h=65536+((1023&h)<<10|1023&a.charCodeAt(u)),l+=o[240|h>>18]+o[128|h>>12&63]+o[128|h>>6&63]+o[128|63&h])}return l},isBuffer:function(t){return!(!t||"object"!==typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(s(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!==typeof r){if(s(e))e.push(r);else{if(!e||"object"!==typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!==typeof e)return[e].concat(r);var o=e;return s(e)&&!s(r)&&(o=a(e,n)),s(e)&&s(r)?(r.forEach((function(r,s){if(i.call(e,s)){var o=e[s];o&&"object"===typeof o&&r&&"object"===typeof r?e[s]=t(o,r,n):e.push(r)}else e[s]=r})),e):Object.keys(r).reduce((function(e,s){var o=r[s];return i.call(e,s)?e[s]=t(e[s],o,n):e[s]=o,e}),o)}}},114:(t,e,r)=>{"use strict";var n=r(369);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),h=["%","/","?",";","#"].concat(u),c=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(915);function y(t,e,r){if(t&&"object"===typeof t&&t instanceof i)return t;var n=new i;return n.parse(t,e,r),n}i.prototype.parse=function(t,e,r){if("string"!==typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),o=-1!==i&&i<t.indexOf("#")?"?":"#",l=t.split(o);l[0]=l[0].replace(/\\/g,"/");var y=t=l.join(o);if(y=y.trim(),!r&&1===t.split("#").length){var _=a.exec(y);if(_)return this.path=y,this.href=y,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(y);if(b){var x=(b=b[0]).toLowerCase();this.protocol=x,y=y.substr(b.length)}if(r||b||y.match(/^\/\/[^@/]+@[^@/]+/)){var w="//"===y.substr(0,2);!w||b&&m[b]||(y=y.substr(2),this.slashes=!0)}if(!m[b]&&(w||b&&!g[b])){for(var E,T,S=-1,A=0;A<c.length;A++){-1!==(C=y.indexOf(c[A]))&&(-1===S||C<S)&&(S=C)}-1!==(T=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(E=y.slice(0,T),y=y.slice(T+1),this.auth=decodeURIComponent(E)),S=-1;for(A=0;A<h.length;A++){var C;-1!==(C=y.indexOf(h[A]))&&(-1===S||C<S)&&(S=C)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var P=this.hostname.split(/\./),I=(A=0,P.length);A<I;A++){var M=P[A];if(M&&!M.match(d)){for(var k="",D=0,O=M.length;D<O;D++)M.charCodeAt(D)>127?k+="x":k+=M[D];if(!k.match(d)){var N=P.slice(0,A),L=P.slice(A+1),F=M.match(f);F&&(N.push(F[1]),L.unshift(F[2])),L.length&&(y="/"+L.join(".")+y),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!p[x])for(A=0,I=u.length;A<I;A++){var G=u[A];if(-1!==y.indexOf(G)){var z=encodeURIComponent(G);z===G&&(z=escape(G)),y=y.split(G).join(z)}}var j=y.indexOf("#");-1!==j&&(this.hash=y.substr(j),y=y.slice(0,j));var H=y.indexOf("?");if(-1!==H?(this.search=y.substr(H),this.query=y.substr(H+1),e&&(this.query=v.parse(this.query)),y=y.slice(0,H)):e&&(this.search="",this.query={}),y&&(this.pathname=y),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var W=this.search||"";this.path=B+W}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"===typeof this.query&&Object.keys(this.query).length&&(s=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),e+i+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(o=o.replace("#","%23"))+n},i.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if("string"===typeof t){var e=new i;e.parse(t,!1,!0),t=e}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var u=a[l];"protocol"!==u&&(r[u]=t[u])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),c=0;c<h.length;c++){var d=h[c];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",v=r.search||"";r.path=p+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=_||y||r.host&&t.pathname,x=b,w=r.pathname&&r.pathname.split("/")||[],E=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===w[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),r.search=t.search,r.query=t.query;else if(null!=t.search){if(E)r.host=w.shift(),r.hostname=r.host,(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname);return r.search=t.search,r.query=t.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=w.slice(-1)[0],S=(r.host||t.host||w.length>1)&&("."===T||".."===T)||""===T,A=0,C=w.length;C>=0;C--)"."===(T=w[C])?w.splice(C,1):".."===T?(w.splice(C,1),A++):A&&(w.splice(C,1),A--);if(!b&&!x)for(;A--;A)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var R,P=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=P?"":w.length?w.shift():"",r.host=r.hostname,(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname));return(b=b||r.host&&w.length)&&!P&&w.unshift(""),w.length>0?r.pathname=w.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},e.Qc=y,e.DB=function(t,e){return y(t,!1,!0).resolve(e)},e.WU=function(t){return"string"===typeof t&&(t=y(t)),t instanceof i?t.format():i.prototype.format.call(t)}},654:()=>{}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=t,r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&n;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>n[t]));return o.default=()=>n,r.d(s,o),s}})(),r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,n)=>(r.f[n](t,e),e)),[])),r.u=t=>"static/js/"+t+".8a8d5360.chunk.js",r.miniCssF=t=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="gl-save-the-water:";r.l=(n,i,s,o)=>{if(t[n])t[n].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),h=0;h<u.length;h++){var c=u[h];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==e+s){a=c;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",e+s),a.src=n),t[n]=[i];var d=(e,r)=>{a.onerror=a.onload=null,clearTimeout(f);var i=t[n];if(delete t[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((t=>t(r))),e)return e(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),r.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r.p="./",(()=>{var t={179:0};r.f.j=(e,n)=>{var i=r.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var s=new Promise(((r,n)=>i=t[e]=[r,n]));n.push(i[2]=s);var o=r.p+r.u(e),a=new Error;r.l(o,(n=>{if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+e,e)}};var e=(e,n)=>{var i,s,o=n[0],a=n[1],l=n[2],u=0;if(o.some((e=>0!==t[e]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(l)l(r)}for(e&&e(n);u<o.length;u++)s=o[u],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0},n=self.webpackChunkgl_save_the_water=self.webpackChunkgl_save_the_water||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.nc=void 0,(()=>{"use strict";var t=r(791),e=r.t(t,2),n=r(250);const i=t=>{t&&t instanceof Function&&r.e(787).then(r.bind(r,787)).then((e=>{let{getCLS:r,getFID:n,getFCP:i,getLCP:s,getTTFB:o}=e;r(t),n(t),i(t),s(t),o(t)}))};var s,o=r(164),a=r.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(s||(s={}));const u="popstate";function h(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function c(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(r){}}}function d(t,e){return{usr:t.state,key:t.key,idx:e}}function f(t,e,r,n){return void 0===r&&(r=null),l({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?m(e):e,{state:r,key:e&&e.key||n||Math.random().toString(36).substr(2,8)})}function p(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&"?"!==r&&(e+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function m(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function g(t,e,r,n){void 0===n&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,c=s.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){c=s.Pop;let t=v(),e=null==t?null:t-g;g=t,m&&m({action:c,location:b.location,delta:e})}function _(t){let e="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof t?t:p(t);return h(e,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,e)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let b={get action(){return c},get location(){return t(i,a)},listen(t){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(u,y),m=t,()=>{i.removeEventListener(u,y),m=null}},createHref:t=>e(i,t),createURL:_,encodeLocation(t){let e=_(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){c=s.Push;let n=f(b.location,t,e);r&&r(n,t),g=v()+1;let l=d(n,g),u=b.createHref(n);try{a.pushState(l,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(u)}o&&m&&m({action:c,location:b.location,delta:1})},replace:function(t,e){c=s.Replace;let n=f(b.location,t,e);r&&r(n,t),g=v();let i=d(n,g),l=b.createHref(n);a.replaceState(i,"",l),o&&m&&m({action:c,location:b.location,delta:0})},go:t=>a.go(t)};return b}var v;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(v||(v={}));const y=new Set(["lazy","caseSensitive","path","id","index","children"]);function _(t,e,r,n){return void 0===r&&(r=[]),void 0===n&&(n={}),t.map(((t,i)=>{let s=[...r,i],o="string"===typeof t.id?t.id:s.join("-");if(h(!0!==t.index||!t.children,"Cannot specify children on an index route"),h(!n[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(t){return!0===t.index}(t)){let r=l({},t,e(t),{id:o});return n[o]=r,r}{let r=l({},t,e(t),{id:o,children:void 0});return n[o]=r,t.children&&(r.children=_(t.children,e,s,n)),r}}))}function b(t,e,r){void 0===r&&(r="/");let n=O(("string"===typeof e?m(e):e).pathname||"/",r);if(null==n)return null;let i=x(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let r=t.length===e.length&&t.slice(0,-1).every(((t,r)=>t===e[r]));return r?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=M(i[o],D(n));return s}function x(t,e,r,n){void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===n&&(n="");let i=(t,i,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let a=U([n,o.relativePath]),l=r.concat(o);t.children&&t.children.length>0&&(h(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),x(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:I(a,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var r;if(""!==t.path&&null!=(r=t.path)&&r.includes("?"))for(let n of w(t.path))i(t,e,n);else i(t,e)})),e}function w(t){let e=t.split("/");if(0===e.length)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return i?[s,""]:[s];let o=w(n.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),i&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const E=/^:\w+$/,T=3,S=2,A=1,C=10,R=-2,P=t=>"*"===t;function I(t,e){let r=t.split("/"),n=r.length;return r.some(P)&&(n+=R),e&&(n+=S),r.filter((t=>!P(t))).reduce(((t,e)=>t+(E.test(e)?T:""===e?A:C)),n)}function M(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let t=r[o],a=o===r.length-1,l="/"===i?e:e.slice(i.length)||"/",u=k({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},l);if(!u)return null;Object.assign(n,u.params);let h=t.route;s.push({params:n,pathname:U([i,u.pathname]),pathnameBase:G(U([i,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(i=U([i,u.pathnameBase]))}return s}function k(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=function(t,e,r){void 0===e&&(e=!1);void 0===r&&(r=!0);c("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((t,e,r)=>(n.push({paramName:e,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(n.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,e?void 0:"i");return[s,n]}(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce(((t,e,r)=>{let{paramName:n,isOptional:i}=e;if("*"===n){let t=a[r]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[r];return t[n]=i&&!l?void 0:function(t,e){try{return decodeURIComponent(t)}catch(r){return c(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),t}}(l||"",n),t}),{}),pathname:s,pathnameBase:o,pattern:t}}function D(t){try{return decodeURI(t)}catch(e){return c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function O(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&"/"!==n?null:t.slice(r)||"/"}function N(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function F(t,e){let r=L(t);return e?r.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)):r.map((t=>t.pathnameBase))}function B(t,e,r,n){let i;void 0===n&&(n=!1),"string"===typeof t?i=m(t):(i=l({},t),h(!i.pathname||!i.pathname.includes("?"),N("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),N("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),N("#","search","hash",i)));let s,o=""===t||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=r;else{let t=e.length-1;if(!n&&a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}s=t>=0?e[t]:"/"}let u=function(t,e){void 0===e&&(e="/");let{pathname:r,search:n="",hash:i=""}="string"===typeof t?m(t):t,s=r?r.startsWith("/")?r:function(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?r.length>1&&r.pop():"."!==t&&r.push(t)})),r.length>1?r.join("/"):"/"}(r,e):e;return{pathname:s,search:z(n),hash:j(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&r.endsWith("/");return u.pathname.endsWith("/")||!c&&!d||(u.pathname+="/"),u}const U=t=>t.join("/").replace(/\/\/+/g,"/"),G=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",j=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;class H{constructor(t,e,r,n){void 0===n&&(n=!1),this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function W(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const V=["post","put","patch","delete"],X=new Set(V),Y=["get",...V],q=new Set(Y),$=new Set([301,302,303,307,308]),K=new Set([307,308]),Q={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Z={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=t=>({hasErrorBoundary:Boolean(t.hasErrorBoundary)}),rt="remix-router-transitions";function nt(t){const e=t.window?t.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof e&&"undefined"!==typeof e.document&&"undefined"!==typeof e.document.createElement,n=!r;let i;if(h(t.routes.length>0,"You must provide a non-empty routes array to createRouter"),t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let e=t.detectErrorBoundary;i=t=>({hasErrorBoundary:e(t)})}else i=et;let o,a,u={},d=_(t.routes,i,void 0,u),p=t.basename||"/",m=l({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),g=null,y=new Set,x=null,w=null,E=null,T=null!=t.hydrationData,S=b(d,t.history.location,p),A=null;if(null==S){let e=bt(404,{pathname:t.history.location.pathname}),{matches:r,route:n}=_t(d);S=r,A={[n.id]:e}}let C,R=S.some((t=>t.route.lazy)),P=S.some((t=>t.route.loader));if(R)a=!1;else if(P)if(m.v7_partialHydration){let e=t.hydrationData?t.hydrationData.loaderData:null,r=t.hydrationData?t.hydrationData.errors:null;a=S.every((t=>t.route.loader&&!0!==t.route.loader.hydrate&&(e&&void 0!==e[t.route.id]||r&&void 0!==r[t.route.id])))}else a=null!=t.hydrationData;else a=!0;let I,M={historyAction:t.history.action,location:t.history.location,matches:S,initialized:a,navigation:Q,restoreScrollPosition:null==t.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},k=s.Pop,D=!1,N=!1,L=new Map,F=null,B=!1,U=!1,G=[],z=[],j=new Map,H=0,W=-1,V=new Map,X=new Set,Y=new Map,q=new Map,$=new Set,nt=new Map,ot=new Map,lt=!1;function ut(t,e){void 0===e&&(e={}),M=l({},M,t);let r=[],n=[];m.v7_fetcherPersist&&M.fetchers.forEach(((t,e)=>{"idle"===t.state&&($.has(e)?n.push(e):r.push(e))})),[...y].forEach((t=>t(M,{deletedFetchers:n,unstable_viewTransitionOpts:e.viewTransitionOpts,unstable_flushSync:!0===e.flushSync}))),m.v7_fetcherPersist&&(r.forEach((t=>M.fetchers.delete(t))),n.forEach((t=>Ft(t))))}function ht(e,r,n){var i,a;let u,{flushSync:h}=void 0===n?{}:n,c=null!=M.actionData&&null!=M.navigation.formMethod&&Rt(M.navigation.formMethod)&&"loading"===M.navigation.state&&!0!==(null==(i=e.state)?void 0:i._isRedirect);u=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:c?M.actionData:null;let f=r.loaderData?vt(M.loaderData,r.loaderData,r.matches||[],r.errors):M.loaderData,p=M.blockers;p.size>0&&(p=new Map(p),p.forEach(((t,e)=>p.set(e,J))));let m,g=!0===D||null!=M.navigation.formMethod&&Rt(M.navigation.formMethod)&&!0!==(null==(a=e.state)?void 0:a._isRedirect);if(o&&(d=o,o=void 0),B||k===s.Pop||(k===s.Push?t.history.push(e,e.state):k===s.Replace&&t.history.replace(e,e.state)),k===s.Pop){let t=L.get(M.location.pathname);t&&t.has(e.pathname)?m={currentLocation:M.location,nextLocation:e}:L.has(e.pathname)&&(m={currentLocation:e,nextLocation:M.location})}else if(N){let t=L.get(M.location.pathname);t?t.add(e.pathname):(t=new Set([e.pathname]),L.set(M.location.pathname,t)),m={currentLocation:M.location,nextLocation:e}}ut(l({},r,{actionData:u,loaderData:f,historyAction:k,location:e,initialized:!0,navigation:Q,revalidation:"idle",restoreScrollPosition:Yt(e,r.matches||M.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===h}),k=s.Pop,D=!1,N=!1,B=!1,U=!1,G=[],z=[]}async function ft(e,r,n){I&&I.abort(),I=null,k=e,B=!0===(n&&n.startUninterruptedRevalidation),function(t,e){if(x&&E){let r=Xt(t,e);x[r]=E()}}(M.location,M.matches),D=!0===(n&&n.preventScrollReset),N=!0===(n&&n.enableViewTransition);let a=o||d,h=n&&n.overrideNavigation,c=b(a,r,p),f=!0===(n&&n.flushSync);if(!c){let t=bt(404,{pathname:r.pathname}),{matches:e,route:n}=_t(a);return Vt(),void ht(r,{matches:e,loaderData:{},errors:{[n.id]:t}},{flushSync:f})}if(M.initialized&&!U&&function(t,e){if(t.pathname!==e.pathname||t.search!==e.search)return!1;if(""===t.hash)return""!==e.hash;if(t.hash===e.hash)return!0;if(""!==e.hash)return!0;return!1}(M.location,r)&&!(n&&n.submission&&Rt(n.submission.formMethod)))return void ht(r,{matches:c},{flushSync:f});I=new AbortController;let g,y,_=dt(t.history,r,I.signal,n&&n.submission);if(n&&n.pendingError)y={[yt(c).route.id]:n.pendingError};else if(n&&n.submission&&Rt(n.submission.formMethod)){let t=await async function(t,e,r,n,o){void 0===o&&(o={});wt();let a,l=function(t,e){let r={state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text};return r}(e,r);ut({navigation:l},{flushSync:!0===o.flushSync});let h=kt(n,e);if(h.route.action||h.route.lazy){if(a=await ct("action",t,h,n,u,i,p,m.v7_relativeSplatPath),t.signal.aborted)return{shortCircuited:!0}}else a={type:v.error,error:bt(405,{method:t.method,pathname:e.pathname,routeId:h.route.id})};if(St(a)){let t;return t=o&&null!=o.replace?o.replace:a.location===M.location.pathname+M.location.search,await pt(M,a,{submission:r,replace:t}),{shortCircuited:!0}}if(Tt(a)){let t=yt(n,h.route.id);return!0!==(o&&o.replace)&&(k=s.Push),{pendingActionData:{},pendingActionError:{[t.route.id]:a.error}}}if(Et(a))throw bt(400,{type:"defer-action"});return{pendingActionData:{[h.route.id]:a.data}}}(_,r,n.submission,c,{replace:n.replace,flushSync:f});if(t.shortCircuited)return;g=t.pendingActionData,y=t.pendingActionError,h=Ot(r,n.submission),f=!1,_=new Request(_.url,{signal:_.signal})}let{shortCircuited:w,loaderData:T,errors:S}=await async function(e,r,n,i,s,a,u,h,c,f,g){let v=i||Ot(r,s),y=s||a||Dt(v),_=o||d,[b,x]=at(t.history,M,n,y,r,m.v7_partialHydration&&!0===h,U,G,z,$,Y,X,_,p,f,g);if(Vt((t=>!(n&&n.some((e=>e.route.id===t)))||b&&b.some((e=>e.route.id===t)))),W=++H,0===b.length&&0===x.length){let t=Gt();return ht(r,l({matches:n,loaderData:{},errors:g||null},f?{actionData:f}:{},t?{fetchers:new Map(M.fetchers)}:{}),{flushSync:c}),{shortCircuited:!0}}if(!B&&(!m.v7_partialHydration||!h)){x.forEach((t=>{let e=M.fetchers.get(t.key),r=Nt(void 0,e?e.data:void 0);M.fetchers.set(t.key,r)}));let t=f||M.actionData;ut(l({navigation:v},t?0===Object.keys(t).length?{actionData:null}:{actionData:t}:{},x.length>0?{fetchers:new Map(M.fetchers)}:{}),{flushSync:c})}x.forEach((t=>{j.has(t.key)&&Bt(t.key),t.controller&&j.set(t.key,t.controller)}));let w=()=>x.forEach((t=>Bt(t.key)));I&&I.signal.addEventListener("abort",w);let{results:E,loaderResults:T,fetcherResults:S}=await mt(M.matches,n,b,x,e);if(e.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",w);x.forEach((t=>j.delete(t.key)));let A=xt(E);if(A){if(A.idx>=b.length){let t=x[A.idx-b.length].key;X.add(t)}return await pt(M,A.result,{replace:u}),{shortCircuited:!0}}let{loaderData:C,errors:R}=gt(M,n,b,T,g,x,S,nt);nt.forEach(((t,e)=>{t.subscribe((r=>{(r||t.done)&&nt.delete(e)}))}));let P=Gt(),k=zt(W),D=P||k||x.length>0;return l({loaderData:C,errors:R},D?{fetchers:new Map(M.fetchers)}:{})}(_,r,c,h,n&&n.submission,n&&n.fetcherSubmission,n&&n.replace,n&&!0===n.initialHydration,f,g,y);w||(I=null,ht(r,l({matches:c},g?{actionData:g}:{},{loaderData:T,errors:S})))}async function pt(n,i,o){let{submission:a,fetcherSubmission:u,replace:c}=void 0===o?{}:o;i.revalidate&&(U=!0);let d=f(n.location,i.location,{_isRedirect:!0});if(h(d,"Expected a location on the redirect navigation"),r){let r=!1;if(i.reloadDocument)r=!0;else if(tt.test(i.location)){const n=t.history.createURL(i.location);r=n.origin!==e.location.origin||null==O(n.pathname,p)}if(r)return void(c?e.location.replace(i.location):e.location.assign(i.location))}I=null;let m=!0===c?s.Replace:s.Push,{formMethod:g,formAction:v,formEncType:y}=n.navigation;!a&&!u&&g&&v&&y&&(a=Dt(n.navigation));let _=a||u;if(K.has(i.status)&&_&&Rt(_.formMethod))await ft(m,d,{submission:l({},_,{formAction:i.location}),preventScrollReset:D});else{let t=Ot(d,a);await ft(m,d,{overrideNavigation:t,fetcherSubmission:u,preventScrollReset:D})}}async function mt(e,r,n,s,o){let a=await Promise.all([...n.map((t=>ct("loader",o,t,r,u,i,p,m.v7_relativeSplatPath))),...s.map((e=>{if(e.matches&&e.match&&e.controller)return ct("loader",dt(t.history,e.path,e.controller.signal),e.match,e.matches,u,i,p,m.v7_relativeSplatPath);return{type:v.error,error:bt(404,{pathname:e.path})}}))]),l=a.slice(0,n.length),h=a.slice(n.length);return await Promise.all([Pt(e,n,l,l.map((()=>o.signal)),!1,M.loaderData),Pt(e,s.map((t=>t.match)),h,s.map((t=>t.controller?t.controller.signal:null)),!0)]),{results:a,loaderResults:l,fetcherResults:h}}function wt(){U=!0,G.push(...Vt()),Y.forEach(((t,e)=>{j.has(e)&&(z.push(e),Bt(e))}))}function At(t,e,r){void 0===r&&(r={}),M.fetchers.set(t,e),ut({fetchers:new Map(M.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Ct(t,e,r,n){void 0===n&&(n={});let i=yt(M.matches,e);Ft(t),ut({errors:{[i.route.id]:r},fetchers:new Map(M.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Mt(t){return m.v7_fetcherPersist&&(q.set(t,(q.get(t)||0)+1),$.has(t)&&$.delete(t)),M.fetchers.get(t)||Z}function Ft(t){let e=M.fetchers.get(t);!j.has(t)||e&&"loading"===e.state&&V.has(t)||Bt(t),Y.delete(t),V.delete(t),X.delete(t),$.delete(t),M.fetchers.delete(t)}function Bt(t){let e=j.get(t);h(e,"Expected fetch controller: "+t),e.abort(),j.delete(t)}function Ut(t){for(let e of t){let t=Lt(Mt(e).data);M.fetchers.set(e,t)}}function Gt(){let t=[],e=!1;for(let r of X){let n=M.fetchers.get(r);h(n,"Expected fetcher: "+r),"loading"===n.state&&(X.delete(r),t.push(r),e=!0)}return Ut(t),e}function zt(t){let e=[];for(let[r,n]of V)if(n<t){let t=M.fetchers.get(r);h(t,"Expected fetcher: "+r),"loading"===t.state&&(Bt(r),V.delete(r),e.push(r))}return Ut(e),e.length>0}function jt(t){M.blockers.delete(t),ot.delete(t)}function Ht(t,e){let r=M.blockers.get(t)||J;h("unblocked"===r.state&&"blocked"===e.state||"blocked"===r.state&&"blocked"===e.state||"blocked"===r.state&&"proceeding"===e.state||"blocked"===r.state&&"unblocked"===e.state||"proceeding"===r.state&&"unblocked"===e.state,"Invalid blocker state transition: "+r.state+" -> "+e.state);let n=new Map(M.blockers);n.set(t,e),ut({blockers:n})}function Wt(t){let{currentLocation:e,nextLocation:r,historyAction:n}=t;if(0===ot.size)return;ot.size>1&&c(!1,"A router only supports one blocker at a time");let i=Array.from(ot.entries()),[s,o]=i[i.length-1],a=M.blockers.get(s);return a&&"proceeding"===a.state?void 0:o({currentLocation:e,nextLocation:r,historyAction:n})?s:void 0}function Vt(t){let e=[];return nt.forEach(((r,n)=>{t&&!t(n)||(r.cancel(),e.push(n),nt.delete(n))})),e}function Xt(t,e){if(w){let r=w(t,e.map((t=>function(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}(t,M.loaderData))));return r||t.key}return t.key}function Yt(t,e){if(x){let r=Xt(t,e),n=x[r];if("number"===typeof n)return n}return null}return C={get basename(){return p},get future(){return m},get state(){return M},get routes(){return d},get window(){return e},initialize:function(){if(g=t.history.listen((e=>{let{action:r,location:n,delta:i}=e;if(lt)return void(lt=!1);c(0===ot.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=Wt({currentLocation:M.location,nextLocation:n,historyAction:r});return s&&null!=i?(lt=!0,t.history.go(-1*i),void Ht(s,{state:"blocked",location:n,proceed(){Ht(s,{state:"proceeding",proceed:void 0,reset:void 0,location:n}),t.history.go(i)},reset(){let t=new Map(M.blockers);t.set(s,J),ut({blockers:t})}})):ft(r,n)})),r){!function(t,e){try{let r=t.sessionStorage.getItem(rt);if(r){let t=JSON.parse(r);for(let[r,n]of Object.entries(t||{}))n&&Array.isArray(n)&&e.set(r,new Set(n||[]))}}catch(r){}}(e,L);let t=()=>function(t,e){if(e.size>0){let n={};for(let[t,r]of e)n[t]=[...r];try{t.sessionStorage.setItem(rt,JSON.stringify(n))}catch(r){c(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}(e,L);e.addEventListener("pagehide",t),F=()=>e.removeEventListener("pagehide",t)}return M.initialized||ft(s.Pop,M.location,{initialHydration:!0}),C},subscribe:function(t){return y.add(t),()=>y.delete(t)},enableScrollRestoration:function(t,e,r){if(x=t,E=e,w=r||null,!T&&M.navigation===Q){T=!0;let t=Yt(M.location,M.matches);null!=t&&ut({restoreScrollPosition:t})}return()=>{x=null,E=null,w=null}},navigate:async function e(r,n){if("number"===typeof r)return void t.history.go(r);let i=it(M.location,M.matches,p,m.v7_prependBasename,r,m.v7_relativeSplatPath,null==n?void 0:n.fromRouteId,null==n?void 0:n.relative),{path:o,submission:a,error:u}=st(m.v7_normalizeFormMethod,!1,i,n),h=M.location,c=f(M.location,o,n&&n.state);c=l({},c,t.history.encodeLocation(c));let d=n&&null!=n.replace?n.replace:void 0,g=s.Push;!0===d?g=s.Replace:!1===d||null!=a&&Rt(a.formMethod)&&a.formAction===M.location.pathname+M.location.search&&(g=s.Replace);let v=n&&"preventScrollReset"in n?!0===n.preventScrollReset:void 0,y=!0===(n&&n.unstable_flushSync),_=Wt({currentLocation:h,nextLocation:c,historyAction:g});if(!_)return await ft(g,c,{submission:a,pendingError:u,preventScrollReset:v,replace:n&&n.replace,enableViewTransition:n&&n.unstable_viewTransition,flushSync:y});Ht(_,{state:"blocked",location:c,proceed(){Ht(_,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),e(r,n)},reset(){let t=new Map(M.blockers);t.set(_,J),ut({blockers:t})}})},fetch:function(e,r,s,a){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(e)&&Bt(e);let l=!0===(a&&a.unstable_flushSync),c=o||d,f=it(M.location,M.matches,p,m.v7_prependBasename,s,m.v7_relativeSplatPath,r,null==a?void 0:a.relative),g=b(c,f,p);if(!g)return void Ct(e,r,bt(404,{pathname:f}),{flushSync:l});let{path:v,submission:y,error:_}=st(m.v7_normalizeFormMethod,!0,f,a);if(_)return void Ct(e,r,_,{flushSync:l});let x=kt(g,v);D=!0===(a&&a.preventScrollReset),y&&Rt(y.formMethod)?async function(e,r,n,s,a,l,c){if(wt(),Y.delete(e),!s.route.action&&!s.route.lazy){let t=bt(405,{method:c.formMethod,pathname:n,routeId:r});return void Ct(e,r,t,{flushSync:l})}let f=M.fetchers.get(e);At(e,function(t,e){let r={state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0};return r}(c,f),{flushSync:l});let g=new AbortController,v=dt(t.history,n,g.signal,c);j.set(e,g);let y=H,_=await ct("action",v,s,a,u,i,p,m.v7_relativeSplatPath);if(v.signal.aborted)return void(j.get(e)===g&&j.delete(e));if(m.v7_fetcherPersist&&$.has(e)){if(St(_)||Tt(_))return void At(e,Lt(void 0))}else{if(St(_))return j.delete(e),W>y?void At(e,Lt(void 0)):(X.add(e),At(e,Nt(c)),pt(M,_,{fetcherSubmission:c}));if(Tt(_))return void Ct(e,r,_.error)}if(Et(_))throw bt(400,{type:"defer-action"});let x=M.navigation.location||M.location,w=dt(t.history,x,g.signal),E=o||d,T="idle"!==M.navigation.state?b(E,M.navigation.location,p):M.matches;h(T,"Didn't find any matches after fetcher action");let S=++H;V.set(e,S);let A=Nt(c,_.data);M.fetchers.set(e,A);let[C,R]=at(t.history,M,T,c,x,!1,U,G,z,$,Y,X,E,p,{[s.route.id]:_.data},void 0);R.filter((t=>t.key!==e)).forEach((t=>{let e=t.key,r=M.fetchers.get(e),n=Nt(void 0,r?r.data:void 0);M.fetchers.set(e,n),j.has(e)&&Bt(e),t.controller&&j.set(e,t.controller)})),ut({fetchers:new Map(M.fetchers)});let P=()=>R.forEach((t=>Bt(t.key)));g.signal.addEventListener("abort",P);let{results:D,loaderResults:O,fetcherResults:N}=await mt(M.matches,T,C,R,w);if(g.signal.aborted)return;g.signal.removeEventListener("abort",P),V.delete(e),j.delete(e),R.forEach((t=>j.delete(t.key)));let L=xt(D);if(L){if(L.idx>=C.length){let t=R[L.idx-C.length].key;X.add(t)}return pt(M,L.result)}let{loaderData:F,errors:B}=gt(M,M.matches,C,O,void 0,R,N,nt);if(M.fetchers.has(e)){let t=Lt(_.data);M.fetchers.set(e,t)}zt(S),"loading"===M.navigation.state&&S>W?(h(k,"Expected pending action"),I&&I.abort(),ht(M.navigation.location,{matches:T,loaderData:F,errors:B,fetchers:new Map(M.fetchers)})):(ut({errors:B,loaderData:vt(M.loaderData,F,T,B),fetchers:new Map(M.fetchers)}),U=!1)}(e,r,v,x,g,l,y):(Y.set(e,{routeId:r,path:v}),async function(e,r,n,s,o,a,l){let c=M.fetchers.get(e);At(e,Nt(l,c?c.data:void 0),{flushSync:a});let d=new AbortController,f=dt(t.history,n,d.signal);j.set(e,d);let g=H,v=await ct("loader",f,s,o,u,i,p,m.v7_relativeSplatPath);Et(v)&&(v=await It(v,f.signal,!0)||v);j.get(e)===d&&j.delete(e);if(f.signal.aborted)return;if($.has(e))return void At(e,Lt(void 0));if(St(v))return W>g?void At(e,Lt(void 0)):(X.add(e),void await pt(M,v));if(Tt(v))return void Ct(e,r,v.error);h(!Et(v),"Unhandled fetcher deferred data"),At(e,Lt(v.data))}(e,r,v,x,g,l,y))},revalidate:function(){wt(),ut({revalidation:"loading"}),"submitting"!==M.navigation.state&&("idle"!==M.navigation.state?ft(k||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation}):ft(M.historyAction,M.location,{startUninterruptedRevalidation:!0}))},createHref:e=>t.history.createHref(e),encodeLocation:e=>t.history.encodeLocation(e),getFetcher:Mt,deleteFetcher:function(t){if(m.v7_fetcherPersist){let e=(q.get(t)||0)-1;e<=0?(q.delete(t),$.add(t)):q.set(t,e)}else Ft(t);ut({fetchers:new Map(M.fetchers)})},dispose:function(){g&&g(),F&&F(),y.clear(),I&&I.abort(),M.fetchers.forEach(((t,e)=>Ft(e))),M.blockers.forEach(((t,e)=>jt(e)))},getBlocker:function(t,e){let r=M.blockers.get(t)||J;return ot.get(t)!==e&&ot.set(t,e),r},deleteBlocker:jt,_internalFetchControllers:j,_internalActiveDeferreds:nt,_internalSetRoutes:function(t){u={},o=_(t,i,void 0,u)}},C}Symbol("deferred");function it(t,e,r,n,i,s,o,a){let l,u;if(o){l=[];for(let t of e)if(l.push(t),t.route.id===o){u=t;break}}else l=e,u=e[e.length-1];let h=B(i||".",F(l,s),O(t.pathname,r)||t.pathname,"path"===a);return null==i&&(h.search=t.search,h.hash=t.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||Mt(h.search)||(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n&&"/"!==r&&(h.pathname="/"===h.pathname?r:U([r,h.pathname])),p(h)}function st(t,e,r,n){if(!n||!function(t){return null!=t&&("formData"in t&&null!=t.formData||"body"in t&&void 0!==t.body)}(n))return{path:r};if(n.formMethod&&!Ct(n.formMethod))return{path:r,error:bt(405,{method:n.formMethod})};let i,s,o=()=>({path:r,error:bt(400,{type:"invalid-body"})}),a=n.formMethod||"get",l=t?a.toUpperCase():a.toLowerCase(),u=wt(r);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!Rt(l))return o();let t="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((t,e)=>{let[r,n]=e;return""+t+r+"="+n+"\n"}),""):String(n.body);return{path:r,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:t}}}if("application/json"===n.formEncType){if(!Rt(l))return o();try{let t="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:t,text:void 0}}}catch(f){return o()}}}if(h("function"===typeof FormData,"FormData is not available in this environment"),n.formData)i=ft(n.formData),s=n.formData;else if(n.body instanceof FormData)i=ft(n.body),s=n.body;else if(n.body instanceof URLSearchParams)i=n.body,s=pt(i);else if(null==n.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(n.body),s=pt(i)}catch(f){return o()}let c={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Rt(c.formMethod))return{path:r,submission:c};let d=m(r);return e&&d.search&&Mt(d.search)&&i.append("index",""),d.search="?"+i,{path:p(d),submission:c}}function ot(t,e){let r=t;if(e){let n=t.findIndex((t=>t.route.id===e));n>=0&&(r=t.slice(0,n))}return r}function at(t,e,r,n,i,s,o,a,u,h,c,d,f,p,m,g){let v=g?Object.values(g)[0]:m?Object.values(m)[0]:void 0,y=t.createURL(e.location),_=t.createURL(i),x=g?Object.keys(g)[0]:void 0,w=ot(r,x).filter(((t,r)=>{let{route:i}=t;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return!!i.loader.hydrate||void 0===e.loaderData[i.id]&&(!e.errors||void 0===e.errors[i.id]);if(function(t,e,r){let n=!e||r.route.id!==e.route.id,i=void 0===t[r.route.id];return n||i}(e.loaderData,e.matches[r],t)||a.some((e=>e===t.route.id)))return!0;let u=e.matches[r],h=t;return ut(t,l({currentUrl:y,currentParams:u.params,nextUrl:_,nextParams:h.params},n,{actionResult:v,defaultShouldRevalidate:o||y.pathname+y.search===_.pathname+_.search||y.search!==_.search||lt(u,h)}))})),E=[];return c.forEach(((t,i)=>{if(s||!r.some((e=>e.route.id===t.routeId))||h.has(i))return;let a=b(f,t.path,p);if(!a)return void E.push({key:i,routeId:t.routeId,path:t.path,matches:null,match:null,controller:null});let c=e.fetchers.get(i),m=kt(a,t.path),g=!1;g=!d.has(i)&&(!!u.includes(i)||(c&&"idle"!==c.state&&void 0===c.data?o:ut(m,l({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:r[r.length-1].params},n,{actionResult:v,defaultShouldRevalidate:o})))),g&&E.push({key:i,routeId:t.routeId,path:t.path,matches:a,match:m,controller:new AbortController})})),[w,E]}function lt(t,e){let r=t.route.path;return t.pathname!==e.pathname||null!=r&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function ut(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if("boolean"===typeof r)return r}return e.defaultShouldRevalidate}async function ht(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];h(i,"No route found in manifest");let s={};for(let o in n){let t=void 0!==i[o]&&"hasErrorBoundary"!==o;c(!t,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+o+'" will be ignored.'),t||y.has(o)||(s[o]=n[o])}Object.assign(i,s),Object.assign(i,l({},e(i),{lazy:void 0}))}async function ct(t,e,r,n,i,s,o,a,l){let u,c,d;void 0===l&&(l={});let f=t=>{let n,i=new Promise(((t,e)=>n=e));return d=()=>n(),e.signal.addEventListener("abort",d),Promise.race([t({request:e,params:r.params,context:l.requestContext}),i])};try{let n=r.route[t];if(r.route.lazy)if(n){let t,e=await Promise.all([f(n).catch((e=>{t=e})),ht(r.route,s,i)]);if(t)throw t;c=e[0]}else{if(await ht(r.route,s,i),n=r.route[t],!n){if("action"===t){let t=new URL(e.url),n=t.pathname+t.search;throw bt(405,{method:e.method,pathname:n,routeId:r.route.id})}return{type:v.data,data:void 0}}c=await f(n)}else{if(!n){let t=new URL(e.url);throw bt(404,{pathname:t.pathname+t.search})}c=await f(n)}h(void 0!==c,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`.")}catch(g){u=v.error,c=g}finally{d&&e.signal.removeEventListener("abort",d)}if(At(c)){let t,i=c.status;if($.has(i)){let t=c.headers.get("Location");if(h(t,"Redirects returned/thrown from loaders/actions must have a Location header"),tt.test(t)){if(!l.isStaticRequest){let r=new URL(e.url),n=t.startsWith("//")?new URL(r.protocol+t):new URL(t),i=null!=O(n.pathname,o);n.origin===r.origin&&i&&(t=n.pathname+n.search+n.hash)}}else t=it(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,t,a);if(l.isStaticRequest)throw c.headers.set("Location",t),c;return{type:v.redirect,status:i,location:t,revalidate:null!==c.headers.get("X-Remix-Revalidate"),reloadDocument:null!==c.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest){throw{type:u===v.error?v.error:v.data,response:c}}try{let e=c.headers.get("Content-Type");t=e&&/\bapplication\/json\b/.test(e)?await c.json():await c.text()}catch(g){return{type:v.error,error:g}}return u===v.error?{type:u,error:new H(i,c.statusText,t),headers:c.headers}:{type:v.data,data:t,statusCode:c.status,headers:c.headers}}return u===v.error?{type:u,error:c}:function(t){let e=t;return e&&"object"===typeof e&&"object"===typeof e.data&&"function"===typeof e.subscribe&&"function"===typeof e.cancel&&"function"===typeof e.resolveData}(c)?{type:v.deferred,deferredData:c,statusCode:null==(p=c.init)?void 0:p.status,headers:(null==(m=c.init)?void 0:m.headers)&&new Headers(c.init.headers)}:{type:v.data,data:c};var p,m}function dt(t,e,r,n){let i=t.createURL(wt(e)).toString(),s={signal:r};if(n&&Rt(n.formMethod)){let{formMethod:t,formEncType:e}=n;s.method=t.toUpperCase(),"application/json"===e?(s.headers=new Headers({"Content-Type":e}),s.body=JSON.stringify(n.json)):"text/plain"===e?s.body=n.text:"application/x-www-form-urlencoded"===e&&n.formData?s.body=ft(n.formData):s.body=n.formData}return new Request(i,s)}function ft(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,"string"===typeof n?n:n.name);return e}function pt(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function mt(t,e,r,n,i){let s,o={},a=null,l=!1,u={};return r.forEach(((r,c)=>{let d=e[c].route.id;if(h(!St(r),"Cannot handle redirect results in processLoaderData"),Tt(r)){let e=yt(t,d),i=r.error;n&&(i=Object.values(n)[0],n=void 0),a=a||{},null==a[e.route.id]&&(a[e.route.id]=i),o[d]=void 0,l||(l=!0,s=W(r.error)?r.error.status:500),r.headers&&(u[d]=r.headers)}else Et(r)?(i.set(d,r.deferredData),o[d]=r.deferredData.data):o[d]=r.data,null==r.statusCode||200===r.statusCode||l||(s=r.statusCode),r.headers&&(u[d]=r.headers)})),n&&(a=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function gt(t,e,r,n,i,s,o,a){let{loaderData:u,errors:c}=mt(e,r,n,i,a);for(let d=0;d<s.length;d++){let{key:e,match:r,controller:n}=s[d];h(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");let i=o[d];if(!n||!n.signal.aborted)if(Tt(i)){let n=yt(t.matches,null==r?void 0:r.route.id);c&&c[n.route.id]||(c=l({},c,{[n.route.id]:i.error})),t.fetchers.delete(e)}else if(St(i))h(!1,"Unhandled fetcher revalidation redirect");else if(Et(i))h(!1,"Unhandled fetcher deferred data");else{let r=Lt(i.data);t.fetchers.set(e,r)}}return{loaderData:u,errors:c}}function vt(t,e,r,n){let i=l({},e);for(let s of r){let r=s.route.id;if(e.hasOwnProperty(r)?void 0!==e[r]&&(i[r]=e[r]):void 0!==t[r]&&s.route.loader&&(i[r]=t[r]),n&&n.hasOwnProperty(r))break}return i}function yt(t,e){let r=e?t.slice(0,t.findIndex((t=>t.route.id===e))+1):[...t];return r.reverse().find((t=>!0===t.route.hasErrorBoundary))||t[0]}function _t(t){let e=1===t.length?t[0]:t.find((t=>t.index||!t.path||"/"===t.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bt(t,e){let{pathname:r,routeId:n,method:i,type:s}=void 0===e?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return 400===t?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but did not provide a `loader` for route "'+n+'", so there is no way to handle the request.':"defer-action"===s?a="defer() is not supported in actions":"invalid-body"===s&&(a="Unable to encode submission body")):403===t?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):404===t?(o="Not Found",a='No route matches URL "'+r+'"'):405===t&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+n+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new H(t||500,o,new Error(a),!0)}function xt(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(St(r))return{result:r,idx:e}}}function wt(t){return p(l({},"string"===typeof t?m(t):t,{hash:""}))}function Et(t){return t.type===v.deferred}function Tt(t){return t.type===v.error}function St(t){return(t&&t.type)===v.redirect}function At(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"object"===typeof t.headers&&"undefined"!==typeof t.body}function Ct(t){return q.has(t.toLowerCase())}function Rt(t){return X.has(t.toLowerCase())}async function Pt(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],l=e[o];if(!l)continue;let u=t.find((t=>t.route.id===l.route.id)),c=null!=u&&!lt(u,l)&&void 0!==(s&&s[l.route.id]);if(Et(a)&&(i||c)){let t=n[o];h(t,"Expected an AbortSignal for revalidating fetcher deferred result"),await It(a,t,i).then((t=>{t&&(r[o]=t||r[o])}))}}}async function It(t,e,r){if(void 0===r&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:v.data,data:t.deferredData.unwrappedData}}catch(n){return{type:v.error,error:n}}return{type:v.data,data:t.deferredData.data}}}function Mt(t){return new URLSearchParams(t).getAll("index").some((t=>""===t))}function kt(t,e){let r="string"===typeof e?m(e).search:e.search;if(t[t.length-1].route.index&&Mt(r||""))return t[t.length-1];let n=L(t);return n[n.length-1]}function Dt(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(e&&r&&n)return null!=i?{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0}:void 0!==o?{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}:void 0}function Ot(t,e){if(e){return{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}return{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nt(t,e){if(t){return{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Lt(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ft(){return Ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ft.apply(this,arguments)}const Bt=t.createContext(null);const Ut=t.createContext(null);const Gt=t.createContext(null);const zt=t.createContext(null);const jt=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Ht=t.createContext(null);function Wt(){return null!=t.useContext(zt)}function Vt(){return Wt()||h(!1),t.useContext(zt).location}function Xt(e){t.useContext(Gt).static||t.useLayoutEffect(e)}function Yt(){let{isDataRoute:e}=t.useContext(jt);return e?function(){let{router:e}=ne(ee.UseNavigateStable),r=se(re.UseNavigateStable),n=t.useRef(!1);return Xt((()=>{n.current=!0})),t.useCallback((function(t,i){void 0===i&&(i={}),n.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Ft({fromRouteId:r},i)))}),[e,r])}():function(){Wt()||h(!1);let e=t.useContext(Bt),{basename:r,future:n,navigator:i}=t.useContext(Gt),{matches:s}=t.useContext(jt),{pathname:o}=Vt(),a=JSON.stringify(F(s,n.v7_relativeSplatPath)),l=t.useRef(!1);Xt((()=>{l.current=!0}));let u=t.useCallback((function(t,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof t)return void i.go(t);let s=B(t,JSON.parse(a),o,"path"===n.relative);null==e&&"/"!==r&&(s.pathname="/"===s.pathname?r:U([r,s.pathname])),(n.replace?i.replace:i.push)(s,n.state,n)}),[r,i,a,o,e]);return u}()}const qt=t.createContext(null);function $t(e,r,n,i){Wt()||h(!1);let{navigator:o}=t.useContext(Gt),{matches:a}=t.useContext(jt),l=a[a.length-1],u=l?l.params:{},c=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=Vt();if(r){var p;let t="string"===typeof r?m(r):r;"/"===c||(null==(p=t.pathname)?void 0:p.startsWith(c))||h(!1),d=t}else d=f;let g=d.pathname||"/",v=b(e,{pathname:"/"===c?g:g.slice(c.length)||"/"});let y=te(v&&v.map((t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:U([c,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?c:U([c,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,n,i);return r&&y?t.createElement(zt.Provider,{value:{location:Ft({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:s.Pop}},y):y}function Kt(){let e=oe(),r=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:s},n):null,null)}const Qt=t.createElement(Kt,null);class Zt extends t.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?t.createElement(jt.Provider,{value:this.props.routeContext},t.createElement(Ht.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jt(e){let{routeContext:r,match:n,children:i}=e,s=t.useContext(Bt);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(jt.Provider,{value:r},i)}function te(e,r,n,i){var s;if(void 0===r&&(r=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let t=a.findIndex((t=>t.route.id&&(null==l?void 0:l[t.route.id])));t>=0||h(!1),a=a.slice(0,Math.min(a.length,t+1))}let u=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=t),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||Qt,u&&(c<0&&0===s?(p="route-fallback",!1||ae[p]||(ae[p]=!0),h=!0,f=null):c===s&&(h=!0,f=i.route.hydrateFallbackElement||null)));let m=r.concat(a.slice(0,s+1)),g=()=>{let r;return r=o?d:h?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Jt,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:r})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(Zt,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ee=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ee||{}),re=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(re||{});function ne(e){let r=t.useContext(Bt);return r||h(!1),r}function ie(e){let r=t.useContext(Ut);return r||h(!1),r}function se(e){let r=function(e){let r=t.useContext(jt);return r||h(!1),r}(),n=r.matches[r.matches.length-1];return n.route.id||h(!1),n.route.id}function oe(){var e;let r=t.useContext(Ht),n=ie(re.UseRouteError),i=se(re.UseRouteError);return void 0!==r?r:null==(e=n.errors)?void 0:e[i]}const ae={};e.startTransition;function le(e){return function(e){let r=t.useContext(jt).outlet;return r?t.createElement(qt.Provider,{value:e},r):r}(e.context)}function ue(t){h(!1)}function he(e){let{basename:r="/",children:n=null,location:i,navigationType:o=s.Pop,navigator:a,static:l=!1,future:u}=e;Wt()&&h(!1);let c=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:c,navigator:a,static:l,future:Ft({v7_relativeSplatPath:!1},u)})),[c,u,a,l]);"string"===typeof i&&(i=m(i));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=i,_=t.useMemo((()=>{let t=O(f,c);return null==t?null:{location:{pathname:t,search:p,hash:g,state:v,key:y},navigationType:o}}),[c,f,p,g,v,y,o]);return null==_?null:t.createElement(Gt.Provider,{value:d},t.createElement(zt.Provider,{children:n,value:_}))}new Promise((()=>{}));t.Component;function ce(e,r){void 0===r&&(r=[]);let n=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...r,i];if(e.type===t.Fragment)return void n.push.apply(n,ce(e.props.children,s));e.type!==ue&&h(!1),e.props.index&&e.props.children&&h(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ce(e.props.children,s)),n.push(o)})),n}function de(e){let r={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(r,{element:t.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:t.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(r,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),r}function fe(){return fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fe.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pe(){var t;let e=null==(t=window)?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=fe({},e,{errors:me(e.errors)})),e}function me(t){if(!t)return null;let e=Object.entries(t),r={};for(let[i,s]of e)if(s&&"RouteErrorResponse"===s.__type)r[i]=new H(s.status,s.statusText,s.data,!0===s.internal);else if(s&&"Error"===s.__type){if(s.__subType){let t=window[s.__subType];if("function"===typeof t)try{let e=new t(s.message);e.stack="",r[i]=e}catch(n){}}if(null==r[i]){let t=new Error(s.message);t.stack="",r[i]=t}}else r[i]=s;return r}const ge=t.createContext({isTransitioning:!1});const ve=t.createContext(new Map);const ye=e.startTransition,_e=a.flushSync;function be(t){_e?_e(t):t()}class xe{constructor(){this.status="pending",this.promise=new Promise(((t,e)=>{this.resolve=e=>{"pending"===this.status&&(this.status="resolved",t(e))},this.reject=t=>{"pending"===this.status&&(this.status="rejected",e(t))}}))}}function we(e){let{fallbackElement:r,router:n,future:i}=e,[s,o]=t.useState(n.state),[a,l]=t.useState(),[u,h]=t.useState({isTransitioning:!1}),[c,d]=t.useState(),[f,p]=t.useState(),[m,g]=t.useState(),v=t.useRef(new Map),{v7_startTransition:y}=i||{},_=t.useCallback((t=>{y?function(t){ye?ye(t):t()}(t):t()}),[y]),b=t.useCallback(((t,e)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:s}=e;r.forEach((t=>v.current.delete(t))),t.fetchers.forEach(((t,e)=>{void 0!==t.data&&v.current.set(e,t.data)}));let a=null==n.window||"function"!==typeof n.window.document.startViewTransition;if(s&&!a){if(i){be((()=>{f&&(c&&c.resolve(),f.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:s.currentLocation,nextLocation:s.nextLocation})}));let e=n.window.document.startViewTransition((()=>{be((()=>o(t)))}));return e.finished.finally((()=>{be((()=>{d(void 0),p(void 0),l(void 0),h({isTransitioning:!1})}))})),void be((()=>p(e)))}f?(c&&c.resolve(),f.skipTransition(),g({state:t,currentLocation:s.currentLocation,nextLocation:s.nextLocation})):(l(t),h({isTransitioning:!0,flushSync:!1,currentLocation:s.currentLocation,nextLocation:s.nextLocation}))}else i?be((()=>o(t))):_((()=>o(t)))}),[n.window,f,c,v,_]);t.useLayoutEffect((()=>n.subscribe(b)),[n,b]),t.useEffect((()=>{u.isTransitioning&&!u.flushSync&&d(new xe)}),[u]),t.useEffect((()=>{if(c&&a&&n.window){let t=a,e=c.promise,r=n.window.document.startViewTransition((async()=>{_((()=>o(t))),await e}));r.finished.finally((()=>{d(void 0),p(void 0),l(void 0),h({isTransitioning:!1})})),p(r)}}),[_,a,c,n.window]),t.useEffect((()=>{c&&a&&s.location.key===a.location.key&&c.resolve()}),[c,f,s.location,a]),t.useEffect((()=>{!u.isTransitioning&&m&&(l(m.state),h({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[u.isTransitioning,m]),t.useEffect((()=>{}),[]);let x=t.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:t=>n.navigate(t),push:(t,e,r)=>n.navigate(t,{state:e,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(t,e,r)=>n.navigate(t,{replace:!0,state:e,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),w=n.basename||"/",E=t.useMemo((()=>({router:n,navigator:x,static:!1,basename:w})),[n,x,w]);return t.createElement(t.Fragment,null,t.createElement(Bt.Provider,{value:E},t.createElement(Ut.Provider,{value:s},t.createElement(ve.Provider,{value:v.current},t.createElement(ge.Provider,{value:u},t.createElement(he,{basename:w,location:s.location,navigationType:s.historyAction,navigator:x,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},s.initialized||n.future.v7_partialHydration?t.createElement(Ee,{routes:n.routes,future:n.future,state:s}):r))))),null)}function Ee(t){let{routes:e,future:r,state:n}=t;return $t(e,void 0,n,r)}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Te,Se;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Se||(Se={}));function Ae(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ce=function(){return Ce=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ce.apply(this,arguments)};Object.create;function Re(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}Object.create;var Pe=r(613),Ie=r.n(Pe),Me="-ms-",ke="-moz-",De="-webkit-",Oe="comm",Ne="rule",Le="decl",Fe="@import",Be="@keyframes",Ue="@layer",Ge=Math.abs,ze=String.fromCharCode,je=Object.assign;function He(t){return t.trim()}function We(t,e){return(t=e.exec(t))?t[0]:t}function Ve(t,e,r){return t.replace(e,r)}function Xe(t,e,r){return t.indexOf(e,r)}function Ye(t,e){return 0|t.charCodeAt(e)}function qe(t,e,r){return t.slice(e,r)}function $e(t){return t.length}function Ke(t){return t.length}function Qe(t,e){return e.push(t),t}function Ze(t,e){return t.filter((function(t){return!We(t,e)}))}var Je=1,tr=1,er=0,rr=0,nr=0,ir="";function sr(t,e,r,n,i,s,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:Je,column:tr,length:o,return:"",siblings:a}}function or(t,e){return je(sr("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ar(t){for(;t.root;)t=or(t.root,{children:[t]});Qe(t,t.siblings)}function lr(){return nr=rr>0?Ye(ir,--rr):0,tr--,10===nr&&(tr=1,Je--),nr}function ur(){return nr=rr<er?Ye(ir,rr++):0,tr++,10===nr&&(tr=1,Je++),nr}function hr(){return Ye(ir,rr)}function cr(){return rr}function dr(t,e){return qe(ir,t,e)}function fr(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pr(t){return Je=tr=1,er=$e(ir=t),rr=0,[]}function mr(t){return ir="",t}function gr(t){return He(dr(rr-1,_r(91===t?t+2:40===t?t+1:t)))}function vr(t){for(;(nr=hr())&&nr<33;)ur();return fr(t)>2||fr(nr)>3?"":" "}function yr(t,e){for(;--e&&ur()&&!(nr<48||nr>102||nr>57&&nr<65||nr>70&&nr<97););return dr(t,cr()+(e<6&&32==hr()&&32==ur()))}function _r(t){for(;ur();)switch(nr){case t:return rr;case 34:case 39:34!==t&&39!==t&&_r(nr);break;case 40:41===t&&_r(t);break;case 92:ur()}return rr}function br(t,e){for(;ur()&&t+nr!==57&&(t+nr!==84||47!==hr()););return"/*"+dr(e,rr-1)+"*"+ze(47===t?t:ur())}function xr(t){for(;!fr(hr());)ur();return dr(t,rr)}function wr(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function Er(t,e,r,n){switch(t.type){case Ue:if(t.children.length)break;case Fe:case Le:return t.return=t.return||t.value;case Oe:return"";case Be:return t.return=t.value+"{"+wr(t.children,n)+"}";case Ne:if(!$e(t.value=t.props.join(",")))return""}return $e(r=wr(t.children,n))?t.return=t.value+"{"+r+"}":""}function Tr(t,e,r){switch(function(t,e){return 45^Ye(t,0)?(((e<<2^Ye(t,0))<<2^Ye(t,1))<<2^Ye(t,2))<<2^Ye(t,3):0}(t,e)){case 5103:return De+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return De+t+t;case 4789:return ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return De+t+ke+t+Me+t+t;case 5936:switch(Ye(t,e+11)){case 114:return De+t+Me+Ve(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return De+t+Me+Ve(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return De+t+Me+Ve(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return De+t+Me+t+t;case 6165:return De+t+Me+"flex-"+t+t;case 5187:return De+t+Ve(t,/(\w+).+(:[^]+)/,De+"box-$1$2"+Me+"flex-$1$2")+t;case 5443:return De+t+Me+"flex-item-"+Ve(t,/flex-|-self/g,"")+(We(t,/flex-|baseline/)?"":Me+"grid-row-"+Ve(t,/flex-|-self/g,""))+t;case 4675:return De+t+Me+"flex-line-pack"+Ve(t,/align-content|flex-|-self/g,"")+t;case 5548:return De+t+Me+Ve(t,"shrink","negative")+t;case 5292:return De+t+Me+Ve(t,"basis","preferred-size")+t;case 6060:return De+"box-"+Ve(t,"-grow","")+De+t+Me+Ve(t,"grow","positive")+t;case 4554:return De+Ve(t,/([^-])(transform)/g,"$1"+De+"$2")+t;case 6187:return Ve(Ve(Ve(t,/(zoom-|grab)/,De+"$1"),/(image-set)/,De+"$1"),t,"")+t;case 5495:case 3959:return Ve(t,/(image-set\([^]*)/,De+"$1$`$1");case 4968:return Ve(Ve(t,/(.+:)(flex-)?(.*)/,De+"box-pack:$3"+Me+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+De+t+t;case 4200:if(!We(t,/flex-|baseline/))return Me+"grid-column-align"+qe(t,e)+t;break;case 2592:case 3360:return Me+Ve(t,"template-","")+t;case 4384:case 3616:return r&&r.some((function(t,r){return e=r,We(t.props,/grid-\w+-end/)}))?~Xe(t+(r=r[e].value),"span",0)?t:Me+Ve(t,"-start","")+t+Me+"grid-row-span:"+(~Xe(r,"span",0)?We(r,/\d+/):+We(r,/\d+/)-+We(t,/\d+/))+";":Me+Ve(t,"-start","")+t;case 4896:case 4128:return r&&r.some((function(t){return We(t.props,/grid-\w+-start/)}))?t:Me+Ve(Ve(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ve(t,/(.+)-inline(.+)/,De+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($e(t)-1-e>6)switch(Ye(t,e+1)){case 109:if(45!==Ye(t,e+4))break;case 102:return Ve(t,/(.+:)(.+)-([^]+)/,"$1"+De+"$2-$3$1"+ke+(108==Ye(t,e+3)?"$3":"$2-$3"))+t;case 115:return~Xe(t,"stretch",0)?Tr(Ve(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Ve(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(e,r,n,i,s,o,a){return Me+r+":"+n+a+(i?Me+r+"-span:"+(s?o:+o-+n)+a:"")+t}));case 4949:if(121===Ye(t,e+6))return Ve(t,":",":"+De)+t;break;case 6444:switch(Ye(t,45===Ye(t,14)?18:11)){case 120:return Ve(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+De+(45===Ye(t,14)?"inline-":"")+"box$3$1"+De+"$2$3$1"+Me+"$2box$3")+t;case 100:return Ve(t,":",":"+Me)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ve(t,"scroll-","scroll-snap-")+t}return t}function Sr(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case Le:return void(t.return=Tr(t.value,t.length,r));case Be:return wr([or(t,{value:Ve(t.value,"@","@"+De)})],n);case Ne:if(t.length)return function(t,e){return t.map(e).join("")}(r=t.props,(function(e){switch(We(e,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ar(or(t,{props:[Ve(e,/:(read-\w+)/,":"+ke+"$1")]})),ar(or(t,{props:[e]})),je(t,{props:Ze(r,n)});break;case"::placeholder":ar(or(t,{props:[Ve(e,/:(plac\w+)/,":"+De+"input-$1")]})),ar(or(t,{props:[Ve(e,/:(plac\w+)/,":"+ke+"$1")]})),ar(or(t,{props:[Ve(e,/:(plac\w+)/,Me+"input-$1")]})),ar(or(t,{props:[e]})),je(t,{props:Ze(r,n)})}return""}))}}function Ar(t){return mr(Cr("",null,null,null,[""],t=pr(t),0,[0],t))}function Cr(t,e,r,n,i,s,o,a,l){for(var u=0,h=0,c=o,d=0,f=0,p=0,m=1,g=1,v=1,y=0,_="",b=i,x=s,w=n,E=_;g;)switch(p=y,y=ur()){case 40:if(108!=p&&58==Ye(E,c-1)){-1!=Xe(E+=Ve(gr(y),"&","&\f"),"&\f",Ge(u?a[u-1]:0))&&(v=-1);break}case 34:case 39:case 91:E+=gr(y);break;case 9:case 10:case 13:case 32:E+=vr(p);break;case 92:E+=yr(cr()-1,7);continue;case 47:switch(hr()){case 42:case 47:Qe(Pr(br(ur(),cr()),e,r,l),l);break;default:E+="/"}break;case 123*m:a[u++]=$e(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+h:-1==v&&(E=Ve(E,/\f/g,"")),f>0&&$e(E)-c&&Qe(f>32?Ir(E+";",n,r,c-1,l):Ir(Ve(E," ","")+";",n,r,c-2,l),l);break;case 59:E+=";";default:if(Qe(w=Rr(E,e,r,u,h,i,a,_,b=[],x=[],c,s),s),123===y)if(0===h)Cr(E,e,w,w,b,s,c,a,x);else switch(99===d&&110===Ye(E,3)?100:d){case 100:case 108:case 109:case 115:Cr(t,w,w,n&&Qe(Rr(t,w,w,0,0,i,a,_,i,b=[],c,x),x),i,x,c,a,n?b:x);break;default:Cr(E,w,w,w,[""],x,0,a,x)}}u=h=f=0,m=v=1,_=E="",c=o;break;case 58:c=1+$e(E),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==lr())continue;switch(E+=ze(y),y*m){case 38:v=h>0?1:(E+="\f",-1);break;case 44:a[u++]=($e(E)-1)*v,v=1;break;case 64:45===hr()&&(E+=gr(ur())),d=hr(),h=c=$e(_=E+=xr(cr())),y++;break;case 45:45===p&&2==$e(E)&&(m=0)}}return s}function Rr(t,e,r,n,i,s,o,a,l,u,h,c){for(var d=i-1,f=0===i?s:[""],p=Ke(f),m=0,g=0,v=0;m<n;++m)for(var y=0,_=qe(t,d+1,d=Ge(g=o[m])),b=t;y<p;++y)(b=He(g>0?f[y]+" "+_:Ve(_,/&\f/g,f[y])))&&(l[v++]=b);return sr(t,e,r,0===i?Ne:a,l,u,h,c)}function Pr(t,e,r,n){return sr(t,e,r,Oe,ze(nr),qe(t,2,-2),0,n)}function Ir(t,e,r,n,i){return sr(t,e,r,Le,qe(t,0,n),qe(t,n+1,-1),n,i)}const Mr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var kr="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Dr="active",Or="data-styled-version",Nr="6.1.6",Lr="/*!sc*/\n",Fr="undefined"!=typeof window&&"HTMLElement"in window,Br=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Ur=(new Set,Object.freeze([])),Gr=Object.freeze({});function zr(t,e,r){return void 0===r&&(r=Gr),t.theme!==r.theme&&t.theme||e||r.theme}var jr=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Hr=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Wr=/(^-|-$)/g;function Vr(t){return t.replace(Hr,"-").replace(Wr,"")}var Xr=/(a)(d)/gi,Yr=52,qr=function(t){return String.fromCharCode(t+(t>25?39:97))};function $r(t){var e,r="";for(e=Math.abs(t);e>Yr;e=e/Yr|0)r=qr(e%Yr)+r;return(qr(e%Yr)+r).replace(Xr,"$1-$2")}var Kr,Qr=5381,Zr=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},Jr=function(t){return Zr(Qr,t)};function tn(t){return $r(Jr(t)>>>0)}function en(t){return t.displayName||t.name||"Component"}function rn(t){return"string"==typeof t&&!0}var nn="function"==typeof Symbol&&Symbol.for,sn=nn?Symbol.for("react.memo"):60115,on=nn?Symbol.for("react.forward_ref"):60112,an={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ln={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},un={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hn=((Kr={})[on]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Kr[sn]=un,Kr);function cn(t){return("type"in(e=t)&&e.type.$$typeof)===sn?un:"$$typeof"in t?hn[t.$$typeof]:an;var e}var dn=Object.defineProperty,fn=Object.getOwnPropertyNames,pn=Object.getOwnPropertySymbols,mn=Object.getOwnPropertyDescriptor,gn=Object.getPrototypeOf,vn=Object.prototype;function yn(t,e,r){if("string"!=typeof e){if(vn){var n=gn(e);n&&n!==vn&&yn(t,n,r)}var i=fn(e);pn&&(i=i.concat(pn(e)));for(var s=cn(t),o=cn(e),a=0;a<i.length;++a){var l=i[a];if(!(l in ln||r&&r[l]||o&&l in o||s&&l in s)){var u=mn(e,l);try{dn(t,l,u)}catch(t){}}}}return t}function _n(t){return"function"==typeof t}function bn(t){return"object"==typeof t&&"styledComponentId"in t}function xn(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function wn(t,e){if(0===t.length)return"";for(var r=t[0],n=1;n<t.length;n++)r+=e?e+t[n]:t[n];return r}function En(t){return null!==t&&"object"==typeof t&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Tn(t,e,r){if(void 0===r&&(r=!1),!r&&!En(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=Tn(t[n],e[n]);else if(En(e))for(var n in e)t[n]=Tn(t[n],e[n]);return t}function Sn(t,e){Object.defineProperty(t,"toString",{value:e})}function An(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Cn=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return t.prototype.indexOfGroup=function(t){for(var e=0,r=0;r<t;r++)e+=this.groupSizes[r];return e},t.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;t>=i;)if((i<<=1)<0)throw An(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=n;s<i;s++)this.groupSizes[s]=0}for(var o=this.indexOfGroup(t+1),a=(s=0,e.length);s<a;s++)this.tag.insertRule(o,e[s])&&(this.groupSizes[t]++,o++)},t.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],r=this.indexOfGroup(t),n=r+e;this.groupSizes[t]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var r=this.groupSizes[t],n=this.indexOfGroup(t),i=n+r,s=n;s<i;s++)e+="".concat(this.tag.getRule(s)).concat(Lr);return e},t}(),Rn=new Map,Pn=new Map,In=1,Mn=function(t){if(Rn.has(t))return Rn.get(t);for(;Pn.has(In);)In++;var e=In++;return Rn.set(t,e),Pn.set(e,t),e},kn=function(t,e){In=e+1,Rn.set(t,e),Pn.set(e,t)},Dn="style[".concat(kr,"][").concat(Or,'="').concat(Nr,'"]'),On=new RegExp("^".concat(kr,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Nn=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},Ln=function(t,e){for(var r,n=(null!==(r=e.textContent)&&void 0!==r?r:"").split(Lr),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var l=a.match(On);if(l){var u=0|parseInt(l[1],10),h=l[2];0!==u&&(kn(h,u),Nn(t,h,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function Fn(){return r.nc}var Bn=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(t){var e=Array.from(t.querySelectorAll("style[".concat(kr,"]")));return e[e.length-1]}(r),s=void 0!==i?i.nextSibling:null;n.setAttribute(kr,Dr),n.setAttribute(Or,Nr);var o=Fn();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},Un=function(){function t(t){this.element=Bn(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,r=0,n=e.length;r<n;r++){var i=e[r];if(i.ownerNode===t)return i}throw An(17)}(this.element),this.length=0}return t.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},t.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},t.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},t}(),Gn=function(){function t(t){this.element=Bn(t),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var r=document.createTextNode(e);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},t.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),zn=function(){function t(t){this.rules=[],this.length=0}return t.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},t.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},t.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),jn=Fr,Hn={isServer:!Fr,useCSSOMInjection:!Br},Wn=function(){function t(t,e,r){void 0===t&&(t=Gr),void 0===e&&(e={});var n=this;this.options=Ce(Ce({},Hn),t),this.gs=e,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Fr&&jn&&(jn=!1,function(t){for(var e=document.querySelectorAll(Dn),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(kr)!==Dr&&(Ln(t,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Sn(this,(function(){return function(t){for(var e=t.getTag(),r=e.length,n="",i=function(r){var i=function(t){return Pn.get(t)}(r);if(void 0===i)return"continue";var s=t.names.get(i),o=e.getGroup(r);if(void 0===s||0===o.length)return"continue";var a="".concat(kr,".g").concat(r,'[id="').concat(i,'"]'),l="";void 0!==s&&s.forEach((function(t){t.length>0&&(l+="".concat(t,","))})),n+="".concat(o).concat(a,'{content:"').concat(l,'"}').concat(Lr)},s=0;s<r;s++)i(s);return n}(n)}))}return t.registerId=function(t){return Mn(t)},t.prototype.reconstructWithOptions=function(e,r){return void 0===r&&(r=!0),new t(Ce(Ce({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(t=function(t){var e=t.useCSSOMInjection,r=t.target;return t.isServer?new zn(r):e?new Un(r):new Gn(r)}(this.options),new Cn(t)));var t},t.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},t.prototype.registerName=function(t,e){if(Mn(t),this.names.has(t))this.names.get(t).add(e);else{var r=new Set;r.add(e),this.names.set(t,r)}},t.prototype.insertRules=function(t,e,r){this.registerName(t,e),this.getTag().insertRules(Mn(t),r)},t.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},t.prototype.clearRules=function(t){this.getTag().clearGroup(Mn(t)),this.clearNames(t)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Vn=/&/g,Xn=/^\s*\/\/.*$/gm;function Yn(t,e){return t.map((function(t){return"rule"===t.type&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map((function(t){return"".concat(e," ").concat(t)}))),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=Yn(t.children,e)),t}))}function qn(t){var e,r,n,i=void 0===t?Gr:t,s=i.options,o=void 0===s?Gr:s,a=i.plugins,l=void 0===a?Ur:a,u=function(t,n,i){return i.startsWith(r)&&i.endsWith(r)&&i.replaceAll(r,"").length>0?".".concat(e):t},h=l.slice();h.push((function(t){t.type===Ne&&t.value.includes("&")&&(t.props[0]=t.props[0].replace(Vn,r).replace(n,u))})),o.prefix&&h.push(Sr),h.push(Er);var c=function(t,i,s,a){void 0===i&&(i=""),void 0===s&&(s=""),void 0===a&&(a="&"),e=a,r=i,n=new RegExp("\\".concat(r,"\\b"),"g");var l=t.replace(Xn,""),u=Ar(s||i?"".concat(s," ").concat(i," { ").concat(l," }"):l);o.namespace&&(u=Yn(u,o.namespace));var c,d=[];return wr(u,function(t){var e=Ke(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}(h.concat((c=function(t){return d.push(t)},function(t){t.root||(t=t.return)&&c(t)})))),d};return c.hash=l.length?l.reduce((function(t,e){return e.name||An(15),Zr(t,e.name)}),Qr).toString():"",c}var $n=new Wn,Kn=qn(),Qn=t.createContext({shouldForwardProp:void 0,styleSheet:$n,stylis:Kn}),Zn=(Qn.Consumer,t.createContext(void 0));function Jn(){return(0,t.useContext)(Qn)}function ti(e){var r=(0,t.useState)(e.stylisPlugins),n=r[0],i=r[1],s=Jn().styleSheet,o=(0,t.useMemo)((function(){var t=s;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,s]),a=(0,t.useMemo)((function(){return qn({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,t.useEffect)((function(){Ie()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var l=(0,t.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:a}}),[e.shouldForwardProp,o,a]);return t.createElement(Qn.Provider,{value:l},t.createElement(Zn.Provider,{value:a},e.children))}var ei=function(){function t(t,e){var r=this;this.inject=function(t,e){void 0===e&&(e=Kn);var n=r.name+e.hash;t.hasNameForId(r.id,n)||t.insertRules(r.id,n,e(r.rules,n,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,Sn(this,(function(){throw An(12,String(r.name))}))}return t.prototype.getName=function(t){return void 0===t&&(t=Kn),this.name+t.hash},t}(),ri=function(t){return t>="A"&&t<="Z"};function ni(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(1===r&&"-"===n&&"-"===t[0])return t;ri(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var ii=function(t){return null==t||!1===t||""===t},si=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!ii(s)&&(Array.isArray(s)&&s.isCss||_n(s)?n.push("".concat(ni(i),":"),s,";"):En(s)?n.push.apply(n,Re(Re(["".concat(i," {")],si(s),!1),["}"],!1)):n.push("".concat(ni(i),": ").concat((e=i,null==(r=s)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||e in Mr||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function oi(t,e,r,n){return ii(t)?[]:bn(t)?[".".concat(t.styledComponentId)]:_n(t)?!_n(i=t)||i.prototype&&i.prototype.isReactComponent||!e?[t]:oi(t(e),e,r,n):t instanceof ei?r?(t.inject(r,n),[t.getName(n)]):[t]:En(t)?si(t):Array.isArray(t)?Array.prototype.concat.apply(Ur,t.map((function(t){return oi(t,e,r,n)}))):[t.toString()];var i}function ai(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(_n(r)&&!bn(r))return!1}return!0}var li=Jr(Nr),ui=function(){function t(t,e,r){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&ai(t),this.componentId=e,this.baseHash=Zr(li,e),this.baseStyle=r,Wn.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))n=xn(n,this.staticRulesId);else{var i=wn(oi(this.rules,t,e,r)),s=$r(Zr(this.baseHash,i)>>>0);if(!e.hasNameForId(this.componentId,s)){var o=r(i,".".concat(s),void 0,this.componentId);e.insertRules(this.componentId,s,o)}n=xn(n,s),this.staticRulesId=s}else{for(var a=Zr(this.baseHash,r.hash),l="",u=0;u<this.rules.length;u++){var h=this.rules[u];if("string"==typeof h)l+=h;else if(h){var c=wn(oi(h,t,e,r));a=Zr(a,c+u),l+=c}}if(l){var d=$r(a>>>0);e.hasNameForId(this.componentId,d)||e.insertRules(this.componentId,d,r(l,".".concat(d),void 0,this.componentId)),n=xn(n,d)}}return n},t}(),hi=t.createContext(void 0);hi.Consumer;var ci={};new Set;function di(e,r,n){var i=bn(e),s=e,o=!rn(e),a=r.attrs,l=void 0===a?Ur:a,u=r.componentId,h=void 0===u?function(t,e){var r="string"!=typeof t?"sc":Vr(t);ci[r]=(ci[r]||0)+1;var n="".concat(r,"-").concat(tn(Nr+r+ci[r]));return e?"".concat(e,"-").concat(n):n}(r.displayName,r.parentComponentId):u,c=r.displayName,d=void 0===c?function(t){return rn(t)?"styled.".concat(t):"Styled(".concat(en(t),")")}(e):c,f=r.displayName&&r.componentId?"".concat(Vr(r.displayName),"-").concat(r.componentId):r.componentId||h,p=i&&s.attrs?s.attrs.concat(l).filter(Boolean):l,m=r.shouldForwardProp;if(i&&s.shouldForwardProp){var g=s.shouldForwardProp;if(r.shouldForwardProp){var v=r.shouldForwardProp;m=function(t,e){return g(t,e)&&v(t,e)}}else m=g}var y=new ui(n,f,i?s.componentStyle:void 0);function _(e,r){return function(e,r,n){var i=e.attrs,s=e.componentStyle,o=e.defaultProps,a=e.foldedComponentIds,l=e.styledComponentId,u=e.target,h=t.useContext(hi),c=Jn(),d=e.shouldForwardProp||c.shouldForwardProp,f=zr(r,h,o)||Gr,p=function(t,e,r){for(var n,i=Ce(Ce({},e),{className:void 0,theme:r}),s=0;s<t.length;s+=1){var o=_n(n=t[s])?n(i):n;for(var a in o)i[a]="className"===a?xn(i[a],o[a]):"style"===a?Ce(Ce({},i[a]),o[a]):o[a]}return e.className&&(i.className=xn(i.className,e.className)),i}(i,r,f),m=p.as||u,g={};for(var v in p)void 0===p[v]||"$"===v[0]||"as"===v||"theme"===v&&p.theme===f||("forwardedAs"===v?g.as=p.forwardedAs:d&&!d(v,m)||(g[v]=p[v]));var y=function(t,e){var r=Jn();return t.generateAndInjectStyles(e,r.styleSheet,r.stylis)}(s,p),_=xn(a,l);return y&&(_+=" "+y),p.className&&(_+=" "+p.className),g[rn(m)&&!jr.has(m)?"class":"className"]=_,g.ref=n,(0,t.createElement)(m,g)}(b,e,r)}_.displayName=d;var b=t.forwardRef(_);return b.attrs=p,b.componentStyle=y,b.displayName=d,b.shouldForwardProp=m,b.foldedComponentIds=i?xn(s.foldedComponentIds,s.styledComponentId):"",b.styledComponentId=f,b.target=i?s.target:e,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,i=e;n<i.length;n++)Tn(t,i[n],!0);return t}({},s.defaultProps,t):t}}),Sn(b,(function(){return".".concat(b.styledComponentId)})),o&&yn(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function fi(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var pi=function(t){return Object.assign(t,{isCss:!0})};function mi(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(_n(t)||En(t))return pi(oi(fi(Ur,Re([t],e,!0))));var n=t;return 0===e.length&&1===n.length&&"string"==typeof n[0]?oi(n):pi(oi(fi(n,e)))}function gi(t,e,r){if(void 0===r&&(r=Gr),!e)throw An(1,e);var n=function(n){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return t(e,r,mi.apply(void 0,Re([n],i,!1)))};return n.attrs=function(n){return gi(t,e,Ce(Ce({},r),{attrs:Array.prototype.concat(r.attrs,n).filter(Boolean)}))},n.withConfig=function(n){return gi(t,e,Ce(Ce({},r),n))},n}var vi=function(t){return gi(di,t)},yi=vi;jr.forEach((function(t){yi[t]=vi(t)}));!function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=ai(t),Wn.registerId(this.componentId+1)}t.prototype.createStyles=function(t,e,r,n){var i=n(wn(oi(this.rules,e,r,n)),""),s=this.componentId+t;r.insertRules(s,s,i)},t.prototype.removeStyles=function(t,e){e.clearRules(this.componentId+t)},t.prototype.renderStyles=function(t,e,r,n){t>2&&Wn.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,e,r,n)}}();var _i,bi,xi,wi,Ei,Ti,Si;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),r=Fn(),n=wn([r&&'nonce="'.concat(r,'"'),"".concat(kr,'="true"'),"".concat(Or,'="').concat(Nr,'"')].filter(Boolean)," ");return"<style ".concat(n,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw An(2);return e._emitSheetCSS()},this.getStyleElement=function(){var r;if(e.sealed)throw An(2);var n=((r={})[kr]="",r[Or]=Nr,r.dangerouslySetInnerHTML={__html:e.instance.toString()},r),i=Fn();return i&&(n.nonce=i),[t.createElement("style",Ce({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Wn({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw An(2);return t.createElement(ti,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(t){throw An(3)}})(),"__sc-".concat(kr,"__");const Ai=mi(_i||(_i=Ae(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0px;\n    left: 0px;\n"]))),Ci=mi(bi||(bi=Ae(["\n    ","\n    position: fixed;\n"])),Ai),Ri=mi(xi||(xi=Ae(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]))),Pi=mi(wi||(wi=Ae(["\n    ","\n    flex-direction: row;\n"])),Ri),Ii=mi(Ei||(Ei=Ae(["\n    background-color: rgba(0, 0, 0, 0.8);\n"]))),Mi=mi(Ti||(Ti=Ae(["\n    overflow-x: hidden;\n    overflow-y: auto;\n    &::-webkit-scrollbar {\n        display: none;\n    }\n"])));mi(Si||(Si=Ae(["\n    overflow-x: auto;\n    overflow-y: hidden;\n    &::-webkit-scrollbar {\n        display: none;\n    }\n"])));var ki,Di=r(184);const Oi=e=>{let{children:r}=e;const[n,i]=(0,t.useState)(window.innerWidth<window.innerHeight);return(0,t.useLayoutEffect)((()=>{const t=()=>{i(window.innerWidth<window.innerHeight)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[]),(0,Di.jsx)(Ni,{style:{transform:n?"translate(-50%, -50%) rotate(90deg)":"translate(-50%, -50%)",width:"100dvmax",height:"100dvmin"},children:r})},Ni=yi.div(ki||(ki=Ae(["\n    ","\n    top: 50%;\n    left: 50%;\n"])),Ci),Li="/map",Fi="/maze-game";var Bi,Ui,Gi,zi,ji;const Hi=()=>{const t=Yt();return(0,Di.jsxs)(Wi,{children:[(0,Di.jsx)(Vi,{children:(0,Di.jsx)(Xi,{children:"Map"})}),(0,Di.jsx)(Yi,{children:(0,Di.jsx)(qi,{onClick:()=>{t(Fi)},children:(0,Di.jsx)("div",{children:"Maze game"})})})]})},Wi=yi.div(Bi||(Bi=Ae(["\n    ","\n    ","\n"])),Ai,Ri),Vi=yi.div(Ui||(Ui=Ae(["\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    ","\n"])),Ri),Xi=yi.div(Gi||(Gi=Ae(["\n    color: #000;\n"]))),Yi=yi.div(zi||(zi=Ae(["\n\n"]))),qi=yi.div(ji||(ji=Ae(["\n    border: 1px solid #000;\n    padding: 10px 20px;\n"])));var $i,Ki;const Qi=yi.div($i||($i=Ae(["\n    background-image: url(",');\n    background-size: "cover";\n    background-repeat: "no-repeat";\n    background-position: "center";\n'])),(t=>{let{src:e}=t;return e})),Zi=yi.div(Ki||(Ki=Ae(["\n    padding: 5px 10px;\n    border: 1px solid #000;\n    ","\n"])),Pi),Ji={map1:"".concat(".","/mazeGame/map-1.png"),map3:"".concat(".","/mazeGame/map-3.png"),map5:"".concat(".","/mazeGame/map-5.png"),player:"".concat(".","/mazeGame/player.png")},ts=1280;let es=function(t){return t[t.platform=0]="platform",t[t.object=1]="object",t}({});const rs=28;let ns=function(t){return t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t}({});var is,ss;const os=t=>{var e;let{level:r}=t;const n=["",Ji.map1,Ji.map3,Ji.map5],i=null!==(e=null===n||void 0===n?void 0:n[r])&&void 0!==e?e:"";return(0,Di.jsx)(as,{children:(0,Di.jsx)(ls,{src:i})})},as=yi.div(is||(is=Ae(["\n    ","\n    ","\n"])),Ai,Ri),ls=yi((t=>{let{children:e,className:r,src:n}=t;return(0,Di.jsx)(Qi,{className:r,src:n,children:e})}))(ss||(ss=Ae(["\n    /* width: calc(","*29/","*100vmax);\n    height: calc(","*21/","*100vmax);\n    background-size: 100% 100%; */\n\n    width: 100%;\n    height: 100%;\n    background-size: calc(","*29/","*100dvmax) calc(","*21/","*100dvmax);\n    background-position: center;\n    background-repeat: no-repeat;\n"])),rs,ts,rs,ts,rs,ts,rs,ts);var us=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(us||{}),hs=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(hs||{}),cs=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(cs||{}),ds=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ds||{}),fs=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(fs||{}),ps=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ps||{}),ms=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ms||{}),gs=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(gs||{}),vs=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(vs||{}),ys=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ys||{}),_s=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(_s||{}),bs=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(bs||{}),xs=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(xs||{}),ws=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ws||{}),Es=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Es||{}),Ts=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Ts||{}),Ss=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Ss||{}),As=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(As||{}),Cs=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Cs||{});const Rs={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return null!==(t=document.baseURI)&&void 0!==t?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>(new DOMParser).parseFromString(t,"text/xml")},Ps={ADAPTER:Rs,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Is,Ms=/iPhone/i,ks=/iPod/i,Ds=/iPad/i,Os=/\biOS-universal(?:.+)Mac\b/i,Ns=/\bAndroid(?:.+)Mobile\b/i,Ls=/Android/i,Fs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Bs=/Silk/i,Us=/Windows Phone/i,Gs=/\bWindows(?:.+)ARM\b/i,zs=/BlackBerry/i,js=/BB10/i,Hs=/Opera Mini/i,Ws=/\b(CriOS|Chrome)(?:.+)Mobile/i,Vs=/Mobile(?:.+)Firefox\b/i,Xs=function(t){return"undefined"!==typeof t&&"MacIntel"===t.platform&&"number"===typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"===typeof MSStream};function Ys(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"===typeof navigator?"string"===typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,n=r.split("[FBAN");"undefined"!==typeof n[1]&&(r=n[0]),"undefined"!==typeof(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(t){return function(e){return e.test(t)}}(r),s={apple:{phone:i(Ms)&&!i(Us),ipod:i(ks),tablet:!i(Ms)&&(i(Ds)||Xs(e))&&!i(Us),universal:i(Os),device:(i(Ms)||i(ks)||i(Ds)||i(Os)||Xs(e))&&!i(Us)},amazon:{phone:i(Fs),tablet:!i(Fs)&&i(Bs),device:i(Fs)||i(Bs)},android:{phone:!i(Us)&&i(Fs)||!i(Us)&&i(Ns),tablet:!i(Us)&&!i(Fs)&&!i(Ns)&&(i(Bs)||i(Ls)),device:!i(Us)&&(i(Fs)||i(Bs)||i(Ns)||i(Ls))||i(/\bokhttp\b/i)},windows:{phone:i(Us),tablet:i(Gs),device:i(Us)||i(Gs)},other:{blackberry:i(zs),blackberry10:i(js),opera:i(Hs),firefox:i(Vs),chrome:i(Ws),device:i(zs)||i(js)||i(Hs)||i(Vs)||i(Ws)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const qs=(null!==(Is=Ys.default)&&void 0!==Is?Is:Ys)(globalThis.navigator);Ps.RETINA_PREFIX=/@([0-9\.]+)x/,Ps.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var $s=r(143),Ks=r(89);r(114);const Qs={};function Zs(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(Qs[e])return;let n=(new Error).stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(e,"\nDeprecated since v").concat(t)),console.warn(n))),Qs[e]=!0}function Js(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(t)))}function to(t){return t.split("?")[0].split("#")[0]}const eo={toPosix:t=>function(t,e,r){return t.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r)}(t,"\\","/"),isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:t=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t),isBlobUrl:t=>t.startsWith("blob:"),hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Js(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Js(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=to(this.toPosix(null!==e&&void 0!==e?e:Ps.ADAPTER.getBaseUrl())),i=to(this.toPosix(null!==r&&void 0!==r?r:this.rootname(n)));return(t=this.toPosix(t)).startsWith("/")?eo.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Js(t),0===t.length)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;let e="";const r=(t=this.toPosix(t)).startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return(t=function(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(47===o)break;o=47}if(47===o){if(i!==a-1&&1!==s)if(i!==a-1&&2===s){if(r.length<2||2!==n||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){const t=r.lastIndexOf("/");if(t!==r.length-1){-1===t?(r="",n=0):(r=r.slice(0,t),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(2===r.length||1===r.length){r="",n=0,i=a,s=0;continue}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/".concat(t.slice(i+1,a)):r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else 46===o&&-1!==s?++s:s=-1}return r}(t,!1)).length>0&&n&&(t+="/"),r?"/".concat(t):e+t},isAbsolute(t){return Js(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join(){if(0===arguments.length)return".";let t;for(let r=0;r<arguments.length;++r){const n=r<0||arguments.length<=r?void 0:arguments[r];if(Js(n),n.length>0)if(void 0===t)t=n;else{var e;const i=null!==(e=r-1<0||arguments.length<=r-1?void 0:arguments[r-1])&&void 0!==e?e:"";this.extname(i)?t+="/../".concat(n):t+="/".concat(n)}}return void 0===t?".":this.normalize(t)},dirname(t){if(Js(t),0===t.length)return".";let e=(t=this.toPosix(t)).charCodeAt(0);const r=47===e;let n=-1,i=!0;const s=this.getProtocol(t),o=t;for(let a=(t=t.slice(s.length)).length-1;a>=1;--a)if(e=t.charCodeAt(a),47===e){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":this.isUrl(o)?s+t:s:r&&1===n?"//":s+t.slice(0,n)},rootname(t){Js(t);let e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);e=-1!==r?t.slice(0,r):t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Js(t),e&&Js(e),t=to(this.toPosix(t));let r,n=0,i=-1,s=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(r=t.length-1;r>=0;--r){const l=t.charCodeAt(r);if(47===l){if(!s){n=r+1;break}}else-1===a&&(s=!1,a=r+1),o>=0&&(l===e.charCodeAt(o)?-1===--o&&(i=r):(o=-1,i=a))}return n===i?i=a:-1===i&&(i=t.length),t.slice(n,i)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!s){n=r+1;break}}else-1===i&&(s=!1,i=r+1);return-1===i?"":t.slice(n,i)},extname(t){Js(t);let e=-1,r=0,n=-1,i=!0,s=0;for(let o=(t=to(this.toPosix(t))).length-1;o>=0;--o){const a=t.charCodeAt(o);if(47!==a)-1===n&&(i=!1,n=o+1),46===a?-1===e?e=o:1!==s&&(s=1):-1!==e&&(s=-1);else if(!i){r=o+1;break}}return-1===e||-1===n||0===s||1===s&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Js(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;let r=(t=to(this.toPosix(t))).charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),i=n||this.hasProtocol(t)?1:0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,h=0;for(;u>=i;--u)if(r=t.charCodeAt(u),47!==r)-1===a&&(l=!1,a=u+1),46===r?-1===s?s=u:1!==h&&(h=1):-1!==s&&(h=-1);else if(!l){o=u+1;break}return-1===s||-1===a||0===h||1===h&&s===a-1&&s===o+1?-1!==a&&(e.base=e.name=0===o&&n?t.slice(1,a):t.slice(o,a)):(0===o&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let ro,no;async function io(){var t;return null!==(t=ro)&&void 0!==t||(ro=(async t=>{const e=document.createElement("canvas").getContext("webgl");if(!e)return xs.UNPACK;const r=await new Promise((t=>{const e=document.createElement("video");e.onloadeddata=()=>t(e),e.onerror=()=>t(null),e.autoplay=!1,e.crossOrigin="anonymous",e.preload="auto",e.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",e.load()}));if(!r)return xs.UNPACK;const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(n),null!==(t=e.getExtension("WEBGL_lose_context"))&&void 0!==t&&t.loseContext(),s[0]<=s[3]?xs.PMA:xs.UNPACK})()),ro}var so={grad:.9,turn:360,rad:360/(2*Math.PI)},oo=function(t){return"string"==typeof t?t.length>0:"number"==typeof t},ao=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},lo=function(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),t>r?r:t>e?t:e},uo=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ho=function(t){return{r:lo(t.r,0,255),g:lo(t.g,0,255),b:lo(t.b,0,255),a:lo(t.a)}},co=function(t){return{r:ao(t.r),g:ao(t.g),b:ao(t.b),a:ao(t.a,3)}},fo=/^#([0-9a-f]{3,8})$/i,po=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},mo=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},go=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},vo=function(t){return{h:uo(t.h),s:lo(t.s,0,100),l:lo(t.l,0,100),a:lo(t.a)}},yo=function(t){return{h:ao(t.h),s:ao(t.s),l:ao(t.l),a:ao(t.a,3)}},_o=function(t){return go((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},bo=function(t){return{h:(e=mo(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},xo=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wo=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Eo=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,To=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,So={string:[[function(t){var e=fo.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?ao(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?ao(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Eo.exec(t)||To.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ho({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=xo.exec(t)||wo.exec(t);if(!e)return null;var r,n,i=vo({h:(r=e[1],n=e[2],void 0===n&&(n="deg"),Number(r)*(so[n]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)});return _o(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=void 0===i?1:i;return oo(e)&&oo(r)&&oo(n)?ho({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=void 0===i?1:i;if(!oo(e)||!oo(r)||!oo(n))return null;var o=vo({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return _o(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=void 0===i?1:i;if(!oo(e)||!oo(r)||!oo(n))return null;var o=function(t){return{h:uo(t.h),s:lo(t.s,0,100),v:lo(t.v,0,100),a:lo(t.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return go(o)},"hsv"]]},Ao=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Co=function(t){return"string"==typeof t?Ao(t.trim(),So.string):"object"==typeof t&&null!==t?Ao(t,So.object):[null,void 0]},Ro=function(t,e){var r=bo(t);return{h:r.h,s:lo(r.s+100*e,0,100),l:r.l,a:r.a}},Po=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Io=function(t,e){var r=bo(t);return{h:r.h,s:r.s,l:lo(r.l+100*e,0,100),a:r.a}},Mo=function(){function t(t){this.parsed=Co(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return null!==this.parsed},t.prototype.brightness=function(){return ao(Po(this.rgba),2)},t.prototype.isDark=function(){return Po(this.rgba)<.5},t.prototype.isLight=function(){return Po(this.rgba)>=.5},t.prototype.toHex=function(){return e=(t=co(this.rgba)).r,r=t.g,n=t.b,s=(i=t.a)<1?po(ao(255*i)):"","#"+po(e)+po(r)+po(n)+s;var t,e,r,n,i,s},t.prototype.toRgb=function(){return co(this.rgba)},t.prototype.toRgbString=function(){return e=(t=co(this.rgba)).r,r=t.g,n=t.b,(i=t.a)<1?"rgba("+e+", "+r+", "+n+", "+i+")":"rgb("+e+", "+r+", "+n+")";var t,e,r,n,i},t.prototype.toHsl=function(){return yo(bo(this.rgba))},t.prototype.toHslString=function(){return e=(t=yo(bo(this.rgba))).h,r=t.s,n=t.l,(i=t.a)<1?"hsla("+e+", "+r+"%, "+n+"%, "+i+")":"hsl("+e+", "+r+"%, "+n+"%)";var t,e,r,n,i},t.prototype.toHsv=function(){return t=mo(this.rgba),{h:ao(t.h),s:ao(t.s),v:ao(t.v),a:ao(t.a,3)};var t},t.prototype.invert=function(){return ko({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},t.prototype.saturate=function(t){return void 0===t&&(t=.1),ko(Ro(this.rgba,t))},t.prototype.desaturate=function(t){return void 0===t&&(t=.1),ko(Ro(this.rgba,-t))},t.prototype.grayscale=function(){return ko(Ro(this.rgba,-1))},t.prototype.lighten=function(t){return void 0===t&&(t=.1),ko(Io(this.rgba,t))},t.prototype.darken=function(t){return void 0===t&&(t=.1),ko(Io(this.rgba,-t))},t.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},t.prototype.alpha=function(t){return"number"==typeof t?ko({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):ao(this.rgba.a,3);var e},t.prototype.hue=function(t){var e=bo(this.rgba);return"number"==typeof t?ko({h:t,s:e.s,l:e.l,a:e.a}):ao(e.h)},t.prototype.isEqual=function(t){return this.toHex()===ko(t).toHex()},t}(),ko=function(t){return t instanceof Mo?t:new Mo(t)},Do=[];!function(t){t.forEach((function(t){Do.indexOf(t)<0&&(t(Mo,So),Do.push(t))}))}([function(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(e){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,o,a=n[this.toHex()];if(a)return a;if(null==e?void 0:e.closest){var l=this.toRgb(),u=1/0,h="black";if(!s.length)for(var c in r)s[c]=new t(r[c]).toRgb();for(var d in r){var f=(i=l,o=s[d],Math.pow(i.r-o.r,2)+Math.pow(i.g-o.g,2)+Math.pow(i.b-o.b,2));f<u&&(u=f,h=d)}return h}},e.string.push([function(e){var n=e.toLowerCase(),i="transparent"===n?"#0000":r[n];return i?new t(i).toRgb():null},"name"])}]);const Oo=class t{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215;this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(e){if(e instanceof t)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(null===e)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(t){return"string"==typeof t||"number"==typeof t||t instanceof Number||null===t?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):"object"==typeof t&&null!==t?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if("number"===r||"string"===r||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length===e.length&&t.every(((t,r)=>t===e[r]));if(null!==t&&null!==e){const r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every((r=>t[r]===e[r]))}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return"rgba(".concat(t,",").concat(e,",").concat(r,",").concat(this.alpha,")")}toUint8RgbArray(t){var e;const[r,n,i]=this._components;return(t=null!==(e=t)&&void 0!==e?e:[])[0]=Math.round(255*r),t[1]=Math.round(255*n),t[2]=Math.round(255*i),t}toRgbArray(t){var e;t=null!==(e=t)&&void 0!==e?e:[];const[r,n,i]=this._components;return t[0]=r,t[1]=n,t[2]=i,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(65280&t)+((255&t)<<16)}multiply(e){const[r,n,i,s]=t.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(1===t)return(255<<24)+this._int;if(0===t)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=255&this._int;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(255*t<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return"#".concat("000000".substring(0,6-t.length)+t)}toHexa(){const t=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){var e;t=null!==(e=t)&&void 0!==e?e:[];const[r,n,i,s]=this._components;return t[0]=r,t[1]=n,t[2]=i,t[3]=s,t}normalize(e){let r,n,i,s;if(("number"==typeof e||e instanceof Number)&&e>=0&&e<=16777215){r=(e>>16&255)/255,n=(e>>8&255)/255,i=(255&e)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if("string"==typeof e||"object"==typeof e){if("string"==typeof e){const r=t.HEX_PATTERN.exec(e);r&&(e="#".concat(r[2]))}const o=ko(e);o.isValid()&&(({r:r,g:n,b:i,a:s}=o.rgba),r/=255,n/=255,i/=255)}if(void 0===r)throw new Error("Unable to convert color ".concat(e));this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt()}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(255*t<<16)+(255*e<<8)+(255*r|0)}_clamp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof t?Math.min(Math.max(t,e),r):(t.forEach(((n,i)=>{t[i]=Math.min(Math.max(n,e),r)})),t)}};Oo.shared=new Oo,Oo.temp=new Oo,Oo.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let No=Oo;const Lo=function(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ds.NORMAL_NPM]=ds.NORMAL,t[ds.ADD_NPM]=ds.ADD,t[ds.SCREEN_NPM]=ds.SCREEN,e[ds.NORMAL]=ds.NORMAL_NPM,e[ds.ADD]=ds.ADD_NPM,e[ds.SCREEN]=ds.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}();function Fo(t,e){return Lo[e?1:0][t]}function Bo(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function Uo(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function Go(t){return!(t&t-1)&&!!t}function zo(t){let e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,r=((t>>>=r)>15?1:0)<<2,e|=r,r=((t>>>=r)>3?1:0)<<1,e|=r,e|(t>>>=r)>>1}function jo(t,e,r){const n=t.length;let i;if(e>=n||0===r)return;const s=n-(r=e+r>n?n-e:r);for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Ho(t){return 0===t?0:t<0?-1:1}let Wo=0;function Vo(){return++Wo}const Xo=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Xo.EMPTY=new Xo(0,0,0,0);let Yo=Xo;const qo={},$o=Object.create(null),Ko=Object.create(null);class Qo{constructor(t,e,r){this._canvas=Ps.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||Ps.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Zo(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(0!==t[i+3])return!1;return!0}function Jo(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(0!==t[a+3])return!1;return!0}function ta(t){const e=function(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(null===n)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,l=r-1;for(;o<r&&Zo(i,e,o);)++o;if(o===r)return Yo.EMPTY;for(;Zo(i,e,l);)--l;for(;Jo(i,e,s,o,l);)++s;for(;Jo(i,e,a,o,l);)--a;return++a,++l,new Yo(s,o,a,l)}(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(null===s)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function ea(t){var e;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=null===(e=Ps.RETINA_PREFIX)||void 0===e?void 0:e.exec(t);return n?parseFloat(n[1]):r}var ra=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ra||{});const na=t=>{if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={..."object"!=typeof t.extension?{type:t.extension}:t.extension,ref:t}}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t={...t}).type&&(t.type=[t.type]),t},ia=(t,e)=>{var r;return null!==(r=na(t).priority)&&void 0!==r?r:e},sa={_addHandlers:{},_removeHandlers:{},_queue:{},remove(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.map(na).forEach((t=>{t.type.forEach((e=>{var r,n;return null===(r=(n=this._removeHandlers)[e])||void 0===r?void 0:r.call(n,t)}))})),this},add(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.map(na).forEach((t=>{t.type.forEach((e=>{const r=this._addHandlers,n=this._queue;r[e]?r[e](t):(n[e]=n[e]||[],n[e].push(t))}))})),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error("Extension type ".concat(t," already has a handler"));n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach((t=>e(t))),delete s[t]),this},handleByMap(t,e){return this.handle(t,(t=>{e[t.name]=t.ref}),(t=>{delete e[t.name]}))},handleByList(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(t,(t=>{e.includes(t.ref)||(e.push(t.ref),e.sort(((t,e)=>ia(e,r)-ia(t,r))))}),(t=>{const r=e.indexOf(t.ref);-1!==r&&e.splice(r,1)}))}};class oa{constructor(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this["".concat(t,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(t," isn't a valid view type"))}}}const aa=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function la(t){let e="";for(let r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == ".concat(r,".0){}"));return e}class ua{constructor(){this.data=0,this.blendMode=ds.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(t){!!(1&this.data)!==t&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(t){!!(2&this.data)!==t&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(t){!!(4&this.data)!==t&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(t){!!(8&this.data)!==t&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(t){!!(32&this.data)!==t&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(t){!!(16&this.data)!==t&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==ds.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new ua;return t.depthTest=!1,t.blend=!0,t}}ua.prototype.toString=function(){return"[@pixi/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")};const ha=[];function ca(t,e){if(!t)return null;let r="";if("string"==typeof t){const e=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);e&&(r=e[1].toLowerCase())}for(let n=ha.length-1;n>=0;--n){const i=ha[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class da{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,r,n,i,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:u}=this;this._aliasCount++;for(let h=0,c=u.length;h<c;h++)u[h][l](t,e,r,n,i,s,o,a);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(da.prototype,{dispatch:{value:da.prototype.emit},run:{value:da.prototype.emit}});class fa{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new da("setRealSize"),this.onUpdate=new da("update"),this.onError=new da("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}class pa extends fa{constructor(t,e){var r;const{width:n,height:i}=e||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=t,this.unpackAlignment=null!==(r=e.unpackAlignment)&&void 0!==r?r:4}upload(t,e,r){const n=t.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===xs.UNPACK);const i=e.realWidth,s=e.realHeight;return r.width===i&&r.height===s?n.texSubImage2D(e.target,0,0,0,i,s,e.format,r.type,this.data):(r.width=i,r.height=s,n.texImage2D(e.target,0,r.internalFormat,i,s,0,e.format,r.type,this.data)),!0}dispose(){this.data=null}static test(t){return null===t||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const ma={scaleMode:ys.NEAREST,alphaMode:xs.NPM},ga=class t extends $s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),r=Object.assign({},t.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:l,wrapMode:u,format:h,type:c,target:d,resolution:f,resourceOptions:p}=r;e&&!(e instanceof fa)&&(e=ca(e,p),e.internal=!0),this.resolution=f||Ps.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=u,this._scaleMode=o,this.format=h,this.type=c,this.target=d,this.alphaMode=n,this.uid=Vo(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Go(this.realWidth)&&Go(this.realHeight)}setResolution(t){const e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ko[this.cacheId],delete $o[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ps.STRICT_TEXTURE_CACHE;const i="string"==typeof e;let s=null;if(i)s=e;else{if(!e._pixiId){const t=(null===r||void 0===r?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId="".concat(t,"_").concat(Vo())}s=e._pixiId}let o=Ko[s];if(i&&n&&!o)throw new Error('The cacheId "'.concat(s,'" does not exist in BaseTextureCache.'));return o||(o=new t(e,r),o.cacheId=s,t.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new pa(e,{width:r,height:n,...null===i||void 0===i?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=ps.RGBA,a=gs.FLOAT):e instanceof Int32Array?(o=ps.RGBA_INTEGER,a=gs.INT):e instanceof Uint32Array?(o=ps.RGBA_INTEGER,a=gs.UNSIGNED_INT):e instanceof Int16Array?(o=ps.RGBA_INTEGER,a=gs.SHORT):e instanceof Uint16Array?(o=ps.RGBA_INTEGER,a=gs.UNSIGNED_SHORT):e instanceof Int8Array?(o=ps.RGBA,a=gs.BYTE):(o=ps.RGBA,a=gs.UNSIGNED_BYTE),s.internal=!0,new t(s,Object.assign({},ma,{type:a,format:o},i))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Ko[e]&&Ko[e]!==t&&console.warn("BaseTexture added to the cache with an id [".concat(e,"] that already had an entry")),Ko[e]=t)}static removeFromCache(t){if("string"==typeof t){const e=Ko[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Ko[t],e}}else if(null!==t&&void 0!==t&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Ko[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};ga.defaultOptions={mipmap:bs.POW2,anisotropicLevel:0,scaleMode:ys.LINEAR,wrapMode:_s.CLAMP,alphaMode:xs.UNPACK,target:ms.TEXTURE_2D,format:ps.RGBA,type:gs.UNSIGNED_BYTE},ga._globalBatch=0;let va=ga;class ya{constructor(){this.texArray=null,this.blend=0,this.type=fs.TRIANGLES,this.start=0,this.size=0,this.data=null}}let _a=0;class ba{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=_a++,this.disposeRunner=new da("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?Cs.ELEMENT_ARRAY_BUFFER:Cs.ARRAY_BUFFER}get index(){return this.type===Cs.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new ba(t)}}class xa{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gs.FLOAT,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;this.buffer=t,this.size=e,this.normalized=r,this.type=n,this.stride=i,this.start=s,this.instance=o,this.divisor=a}destroy(){this.buffer=null}static from(t,e,r,n,i){return new xa(t,e,r,n,i)}}const wa={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};const Ea={5126:4,5123:2,5121:1};let Ta=0;const Sa={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};class Aa{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ta++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new da("disposeGeometry"),this.refCount=0}addAttribute(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ba||(e instanceof Array&&(e=new Float32Array(e)),e=new ba(e));const l=t.split("|");if(l.length>1){for(let t=0;t<l.length;t++)this.addAttribute(l[t],e,r,n,i);return this}let u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new xa(u,r,n,i,s,o,a),this.instanced=this.instanced||a,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof ba||(t instanceof Array&&(t=new Uint16Array(t)),t=new ba(t)),t.type=Cs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const t=[],e=[],r=new ba;let n;for(n in this.attributes){const r=this.attributes[n],i=this.buffers[r.buffer];t.push(i.data),e.push(r.size*Ea[r.type]/4),r.buffer=0}for(r.data=function(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(4*r);let o=null,a=0;for(let l=0;l<t.length;l++){const r=e[l],u=t[l],h=Bo(u);i[h]||(i[h]=new wa[h](s)),o=i[h];for(let t=0;t<u.length;t++)o[(t/r|0)*n+a+t%r]=u[t];a+=r}return new Float32Array(s)}(t,e),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new Aa;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new ba(this.buffers[e].data.slice(0));for(const e in this.attributes){const r=this.attributes[e];t.attributes[e]=new xa(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Cs.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new Aa,r=[],n=[],i=[];let s;for(let o=0;o<t.length;o++){s=t[o];for(let t=0;t<s.buffers.length;t++)n[t]=n[t]||0,n[t]+=s.buffers[t].data.length,i[t]=0}for(let o=0;o<s.buffers.length;o++)r[o]=new(Sa[Bo(s.buffers[o].data)])(n[o]),e.buffers[o]=new ba(r[o]);for(let o=0;o<t.length;o++){s=t[o];for(let t=0;t<s.buffers.length;t++)r[t].set(s.buffers[t].data,i[t]),i[t]+=s.buffers[t].data.length}if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Cs.ELEMENT_ARRAY_BUFFER;let r=0,n=0,i=0,o=0;for(let t=0;t<s.buffers.length;t++)if(s.buffers[t]!==s.indexBuffer){o=t;break}for(const t in s.attributes){const e=s.attributes[t];(0|e.buffer)===o&&(n+=e.size*Ea[e.type]/4)}for(let s=0;s<t.length;s++){const a=t[s].indexBuffer.data;for(let t=0;t<a.length;t++)e.indexBuffer.data[t+i]+=r;r+=t[s].buffers[o].data.length/n,i+=a.length}}return e}}class Ca extends Aa{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(),this._buffer=new ba(null,t,!1),this._indexBuffer=new ba(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,gs.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,gs.FLOAT).addAttribute("aColor",this._buffer,4,!0,gs.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,gs.FLOAT).addIndex(this._indexBuffer)}}const Ra=2*Math.PI,Pa=180/Math.PI,Ia=Math.PI/180;var Ma=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ma||{});class ka{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new ka(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.x=t,this.y=e,this}}ka.prototype.toString=function(){return"[@pixi/math:Point x=".concat(this.x," y=").concat(this.y,"]")};const Da=[new ka,new ka,new ka,new ka];class Oa{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(n),this.type=Ma.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Oa(0,0,0,0)}clone(){return new Oa(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)}intersects(t,e){if(!e){const e=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=e)return!1;const r=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>r}const r=this.left,n=this.right,i=this.top,s=this.bottom;if(n<=r||s<=i)return!1;const o=Da[0].set(t.left,t.top),a=Da[1].set(t.left,t.bottom),l=Da[2].set(t.right,t.top),u=Da[3].set(t.right,t.bottom);if(l.x<=o.x||a.y<=o.y)return!1;const h=Math.sign(e.a*e.d-e.b*e.c);if(0===h||(e.apply(o,o),e.apply(a,a),e.apply(l,l),e.apply(u,u),Math.max(o.x,a.x,l.x,u.x)<=r||Math.min(o.x,a.x,l.x,u.x)>=n||Math.max(o.y,a.y,l.y,u.y)<=i||Math.min(o.y,a.y,l.y,u.y)>=s))return!1;const c=h*(a.y-o.y),d=h*(o.x-a.x),f=c*r+d*i,p=c*n+d*i,m=c*r+d*s,g=c*n+d*s;if(Math.max(f,p,m,g)<=c*o.x+d*o.y||Math.min(f,p,m,g)>=c*u.x+d*u.y)return!1;const v=h*(o.y-l.y),y=h*(l.x-o.x),_=v*r+y*i,b=v*n+y*i,x=v*r+y*s,w=v*n+y*s;return!(Math.max(_,b,x,w)<=v*o.x+y*o.y||Math.min(_,b,x,w)>=v*u.x+y*u.y)}pad(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this}fit(t){const e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0),this}ceil(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001;const r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=n,this.height=i-n,this}}Oa.prototype.toString=function(){return"[@pixi/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Na{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=t,this.y=e,this.radius=r,this.type=Ma.CIRC}clone(){return new Na(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const r=this.radius*this.radius;let n=this.x-t,i=this.y-e;return n*=n,i*=i,n+i<=r}getBounds(){return new Oa(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}Na.prototype.toString=function(){return"[@pixi/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")};class La{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.x=t,this.y=e,this.width=r,this.height=n,this.type=Ma.ELIP}clone(){return new La(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let r=(t-this.x)/this.width,n=(e-this.y)/this.height;return r*=r,n*=n,r+n<=1}getBounds(){return new Oa(this.x-this.width,this.y-this.height,this.width,this.height)}}La.prototype.toString=function(){return"[@pixi/math:Ellipse x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")};class Fa{constructor(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];let n=Array.isArray(e[0])?e[0]:e;if("number"!=typeof n[0]){const t=[];for(let e=0,r=n.length;e<r;e++)t.push(n[e].x,n[e].y);n=t}this.points=n,this.type=Ma.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new Fa(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let r=!1;const n=this.points.length/2;for(let i=0,s=n-1;i<n;s=i++){const n=this.points[2*i],o=this.points[2*i+1],a=this.points[2*s],l=this.points[2*s+1];o>e!=l>e&&t<(e-o)/(l-o)*(a-n)+n&&(r=!r)}return r}}Fa.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke=".concat(this.closeStroke,"points=").concat(this.points.reduce(((t,e)=>"".concat(t,", ").concat(e)),""),"]")};class Ba{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;this.x=t,this.y=e,this.width=r,this.height=n,this.radius=i,this.type=Ma.RREC}clone(){return new Ba(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let n=t-(this.x+r),i=e-(this.y+r);const s=r*r;if(n*n+i*i<=s||(n=t-(this.x+this.width-r),n*n+i*i<=s)||(i=e-(this.y+this.height-r),n*n+i*i<=s)||(n=t-(this.x+r),n*n+i*i<=s))return!0}return!1}}Ba.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")};class Ua{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.array=null,this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=s}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,r,n,i,s){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=s,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,e){e=e||new ka;const r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e}applyInverse(t,e){e=e||new ka;const r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,s=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=s*e-this.ty*r,this.ty=s*r+this.ty*e,this}append(t){const e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this}setTransform(t,e,r,n,i,s,o,a,l){return this.a=Math.cos(o+l)*i,this.b=Math.sin(o+l)*i,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this}prepend(t){const e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){const e=this.a,r=this.c;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,r=this.b,n=this.c,i=this.d,s=t.pivot,o=-Math.atan2(-n,i),a=Math.atan2(r,e),l=Math.abs(o+a);return l<1e-5||Math.abs(Ra-l)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx+(s.x*e+s.y*n),t.position.y=this.ty+(s.x*r+s.y*i),t}invert(){const t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,s=t*n-e*r;return this.a=n/s,this.b=-e/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-n*i)/s,this.ty=-(t*this.ty-e*i)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Ua;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new Ua}static get TEMP_MATRIX(){return new Ua}}Ua.prototype.toString=function(){return"[@pixi/math:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")};const Ga=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],za=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ja=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ha=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Wa=[],Va=[],Xa=Math.sign;!function(){for(let t=0;t<16;t++){const e=[];Wa.push(e);for(let r=0;r<16;r++){const n=Xa(Ga[t]*Ga[r]+ja[t]*za[r]),i=Xa(za[t]*Ga[r]+Ha[t]*za[r]),s=Xa(Ga[t]*ja[r]+ja[t]*Ha[r]),o=Xa(za[t]*ja[r]+Ha[t]*Ha[r]);for(let t=0;t<16;t++)if(Ga[t]===n&&za[t]===i&&ja[t]===s&&Ha[t]===o){e.push(t);break}}}for(let t=0;t<16;t++){const e=new Ua;e.set(Ga[t],za[t],ja[t],Ha[t],0,0),Va.push(e)}}();const Ya={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ga[t],uY:t=>za[t],vX:t=>ja[t],vY:t=>Ha[t],inv:t=>8&t?15&t:7&-t,add:(t,e)=>Wa[t][e],sub:(t,e)=>Wa[t][Ya.inv(e)],rotate180:t=>4^t,isVertical:t=>2===(3&t),byDirection:(t,e)=>2*Math.abs(t)<=Math.abs(e)?e>=0?Ya.S:Ya.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ya.E:Ya.W:e>0?t>0?Ya.SE:Ya.SW:t>0?Ya.NE:Ya.NW,matrixAppendRotationInv:function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=Va[Ya.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class qa{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._x=r,this._y=n,this.cb=t,this.scope=e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope;return new qa(t,e,this._x,this._y)}set(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}qa.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=".concat(this.x," y=").concat(this.y," scope=").concat(this.scope,"]")};const $a=class{constructor(){this.worldTransform=new Ua,this.localTransform=new Ua,this.position=new qa(this.onChange,this,0,0),this.scale=new qa(this.onChange,this,1,1),this.pivot=new qa(this.onChange,this,0,0),this.skew=new qa(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};$a.IDENTITY=new $a;let Ka=$a;Ka.prototype.toString=function(){return"[@pixi/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")};const Qa=[{test:t=>"float"===t.type&&1===t.size&&!t.isArray,code:t=>'\n            if(uv["'.concat(t,'"] !== ud["').concat(t,'"].value)\n            {\n                ud["').concat(t,'"].value = uv["').concat(t,'"]\n                gl.uniform1f(ud["').concat(t,'"].location, uv["').concat(t,'"])\n            }\n            ')},{test:(t,e)=>("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray&&(null==e||void 0!==e.castToBaseTexture),code:t=>'t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'.concat(t,'"], t);\n\n            if(ud["').concat(t,'"].value !== t)\n            {\n                ud["').concat(t,'"].value = t;\n                gl.uniform1i(ud["').concat(t,'"].location, t);\n; // eslint-disable-line max-len\n            }')},{test:(t,e)=>"mat3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.a,code:t=>'\n            gl.uniformMatrix3fv(ud["'.concat(t,'"].location, false, uv["').concat(t,'"].toArray(true));\n            '),codeUbo:t=>"\n                var ".concat(t,"_matrix = uv.").concat(t,".toArray(true);\n\n                data[offset] = ").concat(t,"_matrix[0];\n                data[offset+1] = ").concat(t,"_matrix[1];\n                data[offset+2] = ").concat(t,"_matrix[2];\n        \n                data[offset + 4] = ").concat(t,"_matrix[3];\n                data[offset + 5] = ").concat(t,"_matrix[4];\n                data[offset + 6] = ").concat(t,"_matrix[5];\n        \n                data[offset + 8] = ").concat(t,"_matrix[6];\n                data[offset + 9] = ").concat(t,"_matrix[7];\n                data[offset + 10] = ").concat(t,"_matrix[8];\n            ")},{test:(t,e)=>"vec2"===t.type&&1===t.size&&!t.isArray&&void 0!==e.x,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["').concat(t,'"].location, v.x, v.y);\n                }'),codeUbo:t=>"\n                v = uv.".concat(t,";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            ")},{test:t=>"vec2"===t.type&&1===t.size&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["').concat(t,'"].location, v[0], v[1]);\n                }\n            ')},{test:(t,e)=>"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.width,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.x, v.y, v.width, v.height)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                ")},{test:(t,e)=>"vec4"===t.type&&1===t.size&&!t.isArray&&void 0!==e.red,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["').concat(t,'"].location, v.red, v.green, v.blue, v.alpha)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                ")},{test:(t,e)=>"vec3"===t.type&&1===t.size&&!t.isArray&&void 0!==e.red,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["').concat(t,'"].location, v.red, v.green, v.blue)\n                }'),codeUbo:t=>"\n                    v = uv.".concat(t,";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                ")},{test:t=>"vec4"===t.type&&1===t.size&&!t.isArray,code:t=>'\n                cv = ud["'.concat(t,'"].value;\n                v = uv["').concat(t,'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["').concat(t,'"].location, v[0], v[1], v[2], v[3])\n                }')}],Za={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},Ja={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};const tl={};let el,rl=tl;function nl(){if(!el){el=Ts.MEDIUM;const t=function(){var t;if(rl===tl||null!==(t=rl)&&void 0!==t&&t.isContextLost()){const t=Ps.ADAPTER.createCanvas();let e;Ps.PREFER_ENV>=us.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),rl=e}return rl}();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(el=e.precision?Ts.HIGH:Ts.MEDIUM)}}return el}const il={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function sl(t){return il[t]}let ol=null;const al={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ll(t,e){if(!ol){const e=Object.keys(al);ol={};for(let r=0;r<e.length;++r){const n=e[r];ol[t[n]]=al[n]}}return ol[e]}function ul(t,e,r){if("precision"!==t.substring(0,9)){let n=e;return e===Ts.HIGH&&r!==Ts.HIGH&&(n=Ts.MEDIUM),"precision ".concat(n," float;\n").concat(t)}return r!==Ts.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}let hl=0;const cl={},dl=class t{constructor(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pixi-shader",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.extra={},this.id=hl++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),cl[n]?(cl[n]++,n+="-".concat(cl[n])):cl[n]=1,this.vertexSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.vertexSrc),this.fragmentSrc="#define SHADER_NAME ".concat(n,"\n").concat(this.fragmentSrc),this.vertexSrc=ul(this.vertexSrc,t.defaultVertexPrecision,Ts.HIGH),this.fragmentSrc=ul(this.fragmentSrc,t.defaultFragmentPrecision,nl())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"}static from(e,r,n){const i=e+r;let s=qo[i];return s||(qo[i]=s=new t(e,r,n)),s}};dl.defaultVertexPrecision=Ts.HIGH,dl.defaultFragmentPrecision=qs.apple.device?Ts.HIGH:Ts.MEDIUM;let fl=dl,pl=0;class ml{constructor(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=pl++,this.static=!!e,this.ubo=!!r,t instanceof ba?(this.buffer=t,this.buffer.type=Cs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new ba(new Float32Array(1)),this.buffer.type=Cs.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new ml(e,r)}static from(t,e,r){return new ml(t,e,r)}static uboFrom(t,e){return new ml(t,null===e||void 0===e||e,!0)}}class gl{constructor(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof ml?e:new ml(e):new ml({}),this.disposeRunner=new da("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const r in e.uniforms){const n=e.uniforms[r];if(!0===n.group&&this.checkUniformExists(t,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,r){const n=fl.from(t,e);return new gl(n,r)}}class vl{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const e=new Int32Array(t);for(let n=0;n<t;n++)e[n]=n;this.defaultGroupCache[t]=ml.from({uSamplers:e},!0);let r=this.fragTemplate;r=r.replace(/%count%/gi,"".concat(t)),r=r.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new fl(this.vertexSrc,r)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ua,default:this.defaultGroupCache[t]};return new gl(this.programCache[t],e)}generateSampleSrc(t){let e="";e+="\n",e+="\n";for(let r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < ".concat(r,".5)")),e+="\n{",e+="\n\tcolor = texture2D(uSamplers[".concat(r,"], vTextureCoord);"),e+="\n}";return e+="\n",e+="\n",e}}class yl{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}class _l{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}const bl=class t extends _l{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=Ca,this.vertexSize=6,this.state=ua.for2d(),this.size=4*t.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var t;return this._defaultMaxTextures=null!==(t=this._defaultMaxTextures)&&void 0!==t?t:function(t){let e=!0;const r=Ps.ADAPTER.getNavigator();if(qs.tablet||qs.phone){if(qs.apple.device){const t=r.userAgent.match(/OS (\d+)_(\d+)?/);t&&parseInt(t[1],10)<11&&(e=!1)}if(qs.android.device){const t=r.userAgent.match(/Android\s([0-9.]*)/);t&&parseInt(t[1],10)<7&&(e=!1)}}return e?t:4}(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){var t;return this._canUploadSameBuffer=null!==(t=this._canUploadSameBuffer)&&void 0!==t?t:!qs.apple.device,this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Zs("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n"}static get defaultFragmentTemplate(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n"}setShaderGenerator(){let{vertex:e=t.defaultVertexSrc,fragment:r=t.defaultFragmentTemplate}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shaderGenerator=new vl(e,r)}contextChange(){const e=this.renderer.gl;Ps.PREFER_ENV===us.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),t.defaultMaxTextures),this.maxTextures=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=aa.replace(/%forloop%/gi,la(t));if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=t,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new ya);for(;r.length<i;)r.push(new yl);for(let t=0;t<this.maxTextures;t++)this._tempBoundTextures[t]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=t._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++va._globalBatch,l=0,u=n[0],h=0;i.copyBoundTextures(s,r);for(let t=0;t<this._bufferSize;++t){const c=e[t];e[t]=null,c._batchEnabled!==a&&(u.count>=r&&(i.boundArray(u,s,a,r),this.buildDrawCalls(u,h,t),h=t,u=n[++l],++a),c._batchEnabled=a,c.touched=o,u.elements[u.count++]=c)}u.count>0&&(i.boundArray(u,s,a,r),this.buildDrawCalls(u,h,this._bufferSize),++l,++a);for(let t=0;t<s.length;t++)s[t]=null;va._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,l=t._drawCallPool;let u=this._dcIndex,h=this._aIndex,c=this._iIndex,d=l[u];d.start=this._iIndex,d.texArray=e;for(let t=r;t<n;++t){const n=i[t],f=n._texture.baseTexture,p=Lo[f.alphaMode?1:0][n.blendMode];i[t]=null,r<t&&d.blend!==p&&(d.size=c-d.start,r=t,d=l[++u],d.texArray=e,d.start=c),this.packInterleavedGeometry(n,s,o,h,c),h+=n.vertexData.length/2*a,c+=n.indices.length,d.blend=p}r<n&&(d.size=c-d.start,++u),this._dcIndex=u,this._aIndex=h,this._iIndex=c}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;t.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=t._drawCallPool;let s=null;for(let t=0;t<e;t++){const{texArray:e,type:o,size:a,start:l,blend:u}=i[t];s!==e&&(s=e,this.bindAndClearTexArray(e)),this.state.blendMode=u,n.set(this.state),r.drawElements(o,a,r.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),t.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Uo(Math.ceil(t/8)),r=zo(e),n=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new oa(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=Uo(Math.ceil(t/12)),r=zo(e),n=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,l=t.uvs,u=t.indices,h=t.vertexData,c=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),f=No.shared.setValue(t._tintRGB).toPremultiplied(d,t._texture.baseTexture.alphaMode>0);for(let p=0;p<h.length;p+=2)o[n++]=h[p],o[n++]=h[p+1],o[n++]=l[p],o[n++]=l[p+1],s[n++]=f,o[n++]=c;for(let p=0;p<u.length;p++)r[i++]=a+u[p]}};bl.defaultBatchSize=4096,bl.extension={name:"batch",type:ra.RendererPlugin},bl._drawCallPool=[],bl._textureArrayPool=[];let xl=bl;sa.add(xl);const wl=class t extends gl{constructor(e,r,n){super(fl.from(e||t.defaultVertexSrc,r||t.defaultFragmentSrc),n),this.padding=0,this.resolution=t.defaultResolution,this.multisample=t.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ua}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"}static get defaultFragmentSrc(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"}};wl.defaultResolution=1,wl.defaultMultisample=As.NONE;let El=wl;class Tl{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new No(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:r,backgroundAlpha:n}=t,i=null!==r&&void 0!==r?r:e;void 0!==i&&(this.color=i),this.alpha=n}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}Tl.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Tl.extension={type:[ra.RendererSystem,ra.CanvasRendererSystem],name:"background"},sa.add(Tl);class Sl{constructor(t){this.renderer=t,this.emptyRenderer=new _l(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:r}=this.renderer.texture;for(let n=e-1;n>=0;--n)t[n]=r[n]||null,t[n]&&(t[n]._batchLocation=n)}boundArray(t,e,r,n){const{elements:i,ids:s,count:o}=t;let a=0;for(let l=0;l<o;l++){const t=i[l],o=t._batchLocation;if(o>=0&&o<n&&e[o]===t)s[l]=o;else for(;a<n;){const n=e[a];if(!n||n._batchEnabled!==r||n._batchLocation!==a){s[l]=a,t._batchLocation=a,e[a]=t;break}a++}}}destroy(){this.renderer=null}}Sl.extension={type:ra.RendererSystem,name:"batch"},sa.add(Sl);let Al=0;class Cl{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Al++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,r=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:r,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Al++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;void 0!==e.addEventListener&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let r;if(Ps.PREFER_ENV>=us.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,void 0!==t.removeEventListener&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Cl.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Cl.extension={type:ra.RendererSystem,name:"context"},sa.add(Cl);class Rl{constructor(t,e){if(this.width=Math.round(t),this.height=Math.round(e),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new da("disposeFramebuffer"),this.multisample=As.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return this.colorTextures[t]=e||new va(null,{scaleMode:ys.NEAREST,resolution:1,mipmap:bs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new va(null,{scaleMode:ys.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:bs.OFF,format:ps.DEPTH_COMPONENT,type:gs.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),!t||!e)throw new Error("Framebuffer width and height must not be zero");if(t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const n=this.colorTextures[r],i=n.resolution;n.setSize(t/i,e/i)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(t/r,e/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Pl extends va{constructor(){var t,e,r;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"==typeof n){n={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}}n.width=null!==(t=n.width)&&void 0!==t?t:100,n.height=null!==(e=n.height)&&void 0!==e?e:100,null!==(r=n.multisample)&&void 0!==r||(n.multisample=As.NONE),super(null,n),this.mipmap=bs.OFF,this.valid=!0,this._clear=new No([0,0,0,0]),this.framebuffer=new Rl(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=n.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Il extends fa{constructor(t){const e=t;super(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,r){void 0!==r||e.startsWith("data:")?!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous"):t.crossOrigin=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}(e)}upload(t,e,r,n){const i=t.gl,s=e.realWidth,o=e.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||0===n.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===xs.UNPACK),this.noSubImage||e.target!==i.TEXTURE_2D||r.width!==s||r.height!==o?(r.width=s,r.height=o,i.texImage2D(e.target,0,r.internalFormat,e.format,r.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e.format,r.type,n),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(e,r),super.update()}dispose(){this.source=null}}class Ml extends Il{constructor(t,e){var r;if(e=e||{},"string"==typeof t){const r=new Image;Il.crossOrigin(r,t,e.crossorigin),r.src=t,t=r}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(null!==(r=e.createBitmap)&&void 0!==r?r:Ps.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,this.bitmap=null,this._load=null,!1!==e.autoLoad&&this.load()}load(t){return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(((t,e)=>{const r=this.source;this.url=r.src;const n=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};r.complete&&r.src?n():(r.onload=n,r.onerror=t=>{e(t),this.onError.emit(t)})}))),this._load}process(){const t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((t=>t.blob())).then((r=>e(r,0,0,t.width,t.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===xs.UNPACK?"premultiply":"none"}))).then((t=>this.destroyed?Promise.reject():(this.bitmap=t,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(t,e,r){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,r,this.bitmap),!this.preserveBitmap){let t=!0;const n=e._glTextures;for(const i in n){const s=n[i];if(s!==r&&s.dirtyId!==e.dirtyId){t=!1;break}}t&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&("string"==typeof t||t instanceof HTMLImageElement)}}class kl{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,r){const n=e.width,i=e.height;if(r){const e=t.width/2/n,s=t.height/2/i,o=t.x/n+e,a=t.y/i+s;r=Ya.add(r,Ya.NW),this.x0=o+e*Ya.uX(r),this.y0=a+s*Ya.uY(r),r=Ya.add(r,2),this.x1=o+e*Ya.uX(r),this.y1=a+s*Ya.uY(r),r=Ya.add(r,2),this.x2=o+e*Ya.uX(r),this.y2=a+s*Ya.uY(r),r=Ya.add(r,2),this.x3=o+e*Ya.uX(r),this.y3=a+s*Ya.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}kl.prototype.toString=function(){return"[@pixi/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")};const Dl=new kl;function Ol(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Nl extends $s{constructor(t,e,r,n,i,s,o){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new Oa(0,0,1,1)),t instanceof Nl&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=Dl,this.uvMatrix=null,this.orig=r||e,this._rotate=Number(i||0),!0===i)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new ka(s.x,s.y):new ka(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:t}=this.baseTexture;null!==t&&void 0!==t&&t.url&&$o[t.url]&&Nl.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Nl.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var t;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new Nl(this.baseTexture,!this.noFrame&&e,r,null===(t=this.trim)||void 0===t?void 0:t.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===Dl&&(this._uvs=new kl),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ps.STRICT_TEXTURE_CACHE;const n="string"==typeof t;let i=null;if(n)i=t;else if(t instanceof va){if(!t.cacheId){const r=(null===e||void 0===e?void 0:e.pixiIdPrefix)||"pixiid";t.cacheId="".concat(r,"-").concat(Vo()),va.addToCache(t,t.cacheId)}i=t.cacheId}else{if(!t._pixiId){const r=(null===e||void 0===e?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId="".concat(r,"_").concat(Vo())}i=t._pixiId}let s=$o[i];if(n&&r&&!s)throw new Error('The cacheId "'.concat(i,'" does not exist in TextureCache.'));return s||t instanceof va?!s&&t instanceof va&&(s=new Nl(t),Nl.addToCache(s,i)):(e.resolution||(e.resolution=ea(t)),s=new Nl(new va(t,e)),s.baseTexture.cacheId=i,va.addToCache(s.baseTexture,i),Nl.addToCache(s,i)),s}static fromURL(t,e){const r=Object.assign({autoLoad:!1},null===e||void 0===e?void 0:e.resourceOptions),n=Nl.from(t,Object.assign({resourceOptions:r},e),!1),i=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):i.load().then((()=>Promise.resolve(n)))}static fromBuffer(t,e,r,n){return new Nl(va.fromBuffer(t,e,r,n))}static fromLoader(t,e,r,n){const i=new va(t,Object.assign({scaleMode:va.defaultOptions.scaleMode,resolution:ea(e)},n)),{resource:s}=i;s instanceof Ml&&(s.url=e);const o=new Nl(i);return r||(r=e),va.addToCache(o.baseTexture,r),Nl.addToCache(o,r),r!==e&&(va.addToCache(o.baseTexture,e),Nl.addToCache(o,e)),o.baseTexture.valid?Promise.resolve(o):new Promise((t=>{o.baseTexture.once("loaded",(()=>t(o)))}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),$o[e]&&$o[e]!==t&&console.warn("Texture added to the cache with an id [".concat(e,"] that already had an entry")),$o[e]=t)}static removeFromCache(t){if("string"==typeof t){const e=$o[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete $o[t],e}}else if(null!==t&&void 0!==t&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)$o[t.textureCacheIds[e]]===t&&delete $o[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:r,width:n,height:i}=t,s=e+n>this.baseTexture.width,o=r+i>this.baseTexture.height;if(s||o){const t=s&&o?"and":"or",a="X: ".concat(e," + ").concat(n," = ").concat(e+n," > ").concat(this.baseTexture.width),l="Y: ".concat(r," + ").concat(i," = ").concat(r+i," > ").concat(this.baseTexture.height);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: ".concat(a," ").concat(t," ").concat(l))}this.valid=n&&i&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Nl._EMPTY||(Nl._EMPTY=new Nl(new va),Ol(Nl._EMPTY),Ol(Nl._EMPTY.baseTexture)),Nl._EMPTY}static get WHITE(){if(!Nl._WHITE){const t=Ps.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),Nl._WHITE=new Nl(va.from(t)),Ol(Nl._WHITE),Ol(Nl._WHITE.baseTexture)}return Nl._WHITE}}class Ll extends Nl{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this.baseTexture.resolution,i=Math.round(t*n)/n,s=Math.round(e*n)/n;this.valid=i>0&&s>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=s,r&&this.baseTexture.resize(i,s),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new Ll(new Pl(t))}}class Fl{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:As.NONE;const n=new Pl(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new Ll(n)}getOptimalTexture(t,e){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:As.NONE;t=Math.max(Math.ceil(t*n-1e-6),1),e=Math.max(Math.ceil(e*n-1e-6),1),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?r=i>1?-i:-1:(r=((65535&(t=Uo(t)))<<16|65535&(e=Uo(e)))>>>0,i>1&&(r+=4294967296*i)),this.texturePool[r]||(this.texturePool[r]=[]);let s=this.texturePool[r].pop();return s||(s=this.createTexture(t,e,i)),s.filterPoolKey=r,s.setResolution(n),s}getFilterTexture(t,e,r){const n=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||As.NONE);return n.filterFrame=t.filterFrame,n}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=!1!==t)for(const e in this.texturePool){const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this.texturePool={}}setScreenSize(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){this.enableFullScreen=t.width>0&&t.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}Fl.SCREEN_KEY=-1;class Bl extends Aa{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Ul extends Aa{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ba(this.vertices),this.uvBuffer=new ba(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Gl{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=As.NONE,this.sourceFrame=new Oa,this.destinationFrame=new Oa,this.bindingSourceFrame=new Oa,this.bindingDestinationFrame=new Oa,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const zl=[new ka,new ka,new ka,new ka],jl=new Ua;class Hl{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Fl,this.statePool=[],this.quad=new Bl,this.quadUv=new Ul,this.tempRect=new Oa,this.activeState={},this.globalUniforms=new ml({outputFrame:new Oa,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){var r,n;const i=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new Gl,a=i.renderTexture;let l,u;if(a.current){const t=a.current;l=t.resolution,u=t.multisample}else l=i.resolution,u=i.multisample;let h=e[0].resolution||l,c=null!==(r=e[0].multisample)&&void 0!==r?r:u,d=e[0].padding,f=e[0].autoFit,p=null===(n=e[0].legacy)||void 0===n||n;for(let _=1;_<e.length;_++){var m,g;const t=e[_];h=Math.min(h,t.resolution||l),c=Math.min(c,null!==(m=t.multisample)&&void 0!==m?m:u),d=this.useMaxPadding?Math.max(d,t.padding):d+t.padding,f=f&&t.autoFit,p=p||null===(g=t.legacy)||void 0===g||g}1===s.length&&(this.defaultFilterStack[0].renderTexture=a.current),s.push(o),o.resolution=h,o.multisample=c,o.legacy=p,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(d);const v=this.tempRect.copyFrom(a.sourceFrame);i.projection.transform&&this.transformAABB(jl.copyFrom(i.projection.transform).invert(),v),f?(o.sourceFrame.fit(v),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(v)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,h,c),o.filters=e,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const y=this.tempRect;y.x=0,y.y=0,y.width=o.sourceFrame.width,y.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(a.sourceFrame),o.bindingDestinationFrame.copyFrom(a.destinationFrame),o.transform=i.projection.transform,i.projection.transform=null,a.bind(o.renderTexture,o.sourceFrame,y),i.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;const n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;const i=n.inputSize,s=n.inputPixel,o=n.inputClamp;if(i[0]=e.destinationFrame.width,i[1]=e.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],s[0]=Math.round(i[0]*e.resolution),s[1]=Math.round(i[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*i[2]-.5*s[2],o[3]=e.sourceFrame.height*i[3]-.5*s[3],e.legacy){const t=n.filterArea;t[0]=e.destinationFrame.width,t[1]=e.destinationFrame.height,t[2]=e.sourceFrame.x,t[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const a=t[t.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,a.renderTexture,ws.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let t=e.renderTexture,n=this.getOptimalFilterTexture(t.width,t.height,e.resolution);n.filterFrame=t.filterFrame;let i=0;for(i=0;i<r.length-1;++i){1===i&&e.multisample>1&&(n=this.getOptimalFilterTexture(t.width,t.height,e.resolution),n.filterFrame=t.filterFrame),r[i].apply(this,t,n,ws.CLEAR,e);const s=t;t=n,n=s}r[i].apply(this,t,a.renderTexture,ws.BLEND,e),i>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(t),this.returnFilterTexture(n)}e.clear(),this.statePool.push(e)}bindAndClear(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ws.CLEAR;const{renderTexture:r,state:n}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null!==t&&void 0!==t&&t.filterFrame){const e=this.tempRect;e.x=0,e.y=0,e.width=t.filterFrame.width,e.height=t.filterFrame.height,r.bind(t,t.filterFrame,e)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const i=1&n.stateId||this.forceClear;(e===ws.CLEAR||e===ws.BLIT&&i)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,r,n){const i=this.renderer;i.state.set(t.state),this.bindAndClear(r,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(fs.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(fs.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:r,destinationFrame:n}=this.activeState,{orig:i}=e._texture,s=t.set(n.width,0,0,n.height,r.x,r.y),o=e.worldTransform.copyTo(Ua.TEMP_MATRIX);return o.invert(),s.prepend(o),s.scale(1/i.width,1/i.height),s.translate(e.anchor.x,e.anchor.y),s}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:As.NONE;return this.texturePool.getOptimalTexture(t,e,r,n)}getFilterTexture(t,e,r){if("number"==typeof t){const r=t;t=e,e=r}t=t||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,r||As.NONE);return n.filterFrame=t.filterFrame,n}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const r=zl[0],n=zl[1],i=zl[2],s=zl[3];r.set(e.left,e.top),n.set(e.left,e.bottom),i.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(r,r),t.apply(n,n),t.apply(i,i),t.apply(s,s);const o=Math.min(r.x,n.x,i.x,s.x),a=Math.min(r.y,n.y,i.y,s.y),l=Math.max(r.x,n.x,i.x,s.x),u=Math.max(r.y,n.y,i.y,s.y);e.x=o,e.y=a,e.width=l-o,e.height=u-a}roundFrame(t,e,r,n,i){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(i){const{a:t,b:e,c:r,d:n}=i;if((Math.abs(e)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4))return}(i=i?jl.copyFrom(i):jl.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.transformAABB(i,t),t.ceil(e),this.transformAABB(i.invert(),t)}}}Hl.extension={type:ra.RendererSystem,name:"filter"},sa.add(Hl);class Wl{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=As.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Vl=new Oa;class Xl{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Rl(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Oa,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Ps.PREFER_ENV===us.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=t=>e.drawBuffersWEBGL(t):(this.hasMRT=!1,t.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{gl:n}=this;if(t){const i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,i.mipLevel=r),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,i.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let e=0;e<t.colorTextures.length;e++){const r=t.colorTextures[e];this.renderer.texture.unbind(r.parentTextureArray||r)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const t=e.width>>r,n=e.height>>r,i=t/e.width;this.setViewport(e.x*i,e.y*i,t,n)}else{const e=t.width>>r,n=t.height>>r;this.setViewport(0,0,e,n)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,r,n){const i=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),n=Math.round(n),(i.width!==r||i.height!==n||i.x!==t||i.y!==e)&&(i.x=t,i.y=e,i.width=r,i.height=n,this.gl.viewport(t,e,r,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cs.COLOR|cs.DEPTH;const{gl:s}=this;s.clearColor(t,e,r,n),s.clear(i)}initFramebuffer(t){const{gl:e}=this,r=new Wl(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r}resizeFramebuffer(t){const{gl:e}=this,r=t.glFramebuffers[this.CONTEXT_UID];if(r.stencil){let n;e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),n=1===this.renderer.context.webGLVersion?e.DEPTH_STENCIL:t.depth&&t.stencil?e.DEPTH24_STENCIL8:t.depth?e.DEPTH_COMPONENT24:e.STENCIL_INDEX8,r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,n,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,n,t.width,t.height)}const n=t.colorTextures;let i=n.length;e.drawBuffers||(i=Math.min(i,1));for(let s=0;s<i;s++){const i=n[s],o=i.parentTextureArray||i;this.renderer.texture.bind(o,0),0===s&&r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:r}=this,n=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1)),n.multisample>1&&this.canMultisampleFramebuffer(t)?n.msaaBuffer=n.msaaBuffer||r.createRenderbuffer():n.msaaBuffer&&(r.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const o=[];for(let a=0;a<s;a++){const s=i[a],l=s.parentTextureArray||s;this.renderer.texture.bind(l,0),0===a&&n.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,n.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,s.target,l._glTextures[this.CONTEXT_UID].texture,e),o.push(r.COLOR_ATTACHMENT0+a))}if(o.length>1&&r.drawBuffers(o),t.depthTexture&&this.writeDepthTexture){const n=t.depthTexture;this.renderer.texture.bind(n,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n._glTextures[this.CONTEXT_UID].texture,e)}if(!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture)n.stencil&&(r.deleteRenderbuffer(n.stencil),n.stencil=null);else{let e,i;n.stencil=n.stencil||r.createRenderbuffer(),1===this.renderer.context.webGLVersion?(e=r.DEPTH_STENCIL_ATTACHMENT,i=r.DEPTH_STENCIL):t.depth&&t.stencil?(e=r.DEPTH_STENCIL_ATTACHMENT,i=r.DEPTH24_STENCIL8):t.depth?(e=r.DEPTH_ATTACHMENT,i=r.DEPTH_COMPONENT24):(e=r.STENCIL_ATTACHMENT,i=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,i,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,i,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,e,r.RENDERBUFFER,n.stencil)}}canMultisampleFramebuffer(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let r=As.NONE;if(t<=1||null===e)return r;for(let n=0;n<e.length;n++)if(e[n]<=t){r=e[n];break}return 1===r&&(r=As.NONE),r}blit(t,e,r){const{current:n,renderer:i,gl:s,CONTEXT_UID:o}=this;if(2!==i.context.webGLVersion||!n)return;const a=n.glFramebuffers[o];if(!a)return;if(!t){if(!a.msaaBuffer)return;const e=n.colorTextures[0];if(!e)return;a.blitFramebuffer||(a.blitFramebuffer=new Rl(n.width,n.height),a.blitFramebuffer.addColorTexture(0,e)),(t=a.blitFramebuffer).colorTextures[0]!==e&&(t.colorTextures[0]=e,t.dirtyId++,t.dirtyFormat++),(t.width!==n.width||t.height!==n.height)&&(t.width=n.width,t.height=n.height,t.dirtyId++,t.dirtySize++)}e||((e=Vl).width=n.width,e.height=n.height),r||(r=e);const l=e.width===r.width&&e.height===r.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,a.framebuffer),s.blitFramebuffer(e.left,e.top,e.right,e.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,l?s.NEAREST:s.LINEAR),s.bindFramebuffer(s.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!r)return;delete t.glFramebuffers[this.CONTEXT_UID];const i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&n.deleteRenderbuffer(r.msaaBuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil&&t.stencil)return;t.stencil=!0;const r=t.width,n=t.height,i=this.gl,s=e.stencil=i.createRenderbuffer();let o,a;i.bindRenderbuffer(i.RENDERBUFFER,s),1===this.renderer.context.webGLVersion?(o=i.DEPTH_STENCIL_ATTACHMENT,a=i.DEPTH_STENCIL):t.depth?(o=i.DEPTH_STENCIL_ATTACHMENT,a=i.DEPTH24_STENCIL8):(o=i.STENCIL_ATTACHMENT,a=i.STENCIL_INDEX8),e.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,e.multisample,a,r,n):i.renderbufferStorage(i.RENDERBUFFER,a,r,n),i.framebufferRenderbuffer(i.FRAMEBUFFER,o,i.RENDERBUFFER,s)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Oa}destroy(){this.renderer=null}}Xl.extension={type:ra.RendererSystem,name:"framebuffer"},sa.add(Xl);const Yl={5126:4,5123:2,5121:1};class ql{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){let e=this.renderer.context.extensions.vertexArrayObject;Ps.PREFER_ENV===us.WEBGL_LEGACY&&(e=null),e?(t.createVertexArray=()=>e.createVertexArrayOES(),t.bindVertexArray=t=>e.bindVertexArrayOES(t),t.deleteVertexArray=t=>e.deleteVertexArrayOES(t)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(2!==e.webGLVersion){const e=t.getExtension("ANGLE_instanced_arrays");e?(t.vertexAttribDivisor=(t,r)=>e.vertexAttribDivisorANGLE(t,r),t.drawElementsInstanced=(t,r,n,i,s)=>e.drawElementsInstancedANGLE(t,r,n,i,s),t.drawArraysInstanced=(t,r,n,i)=>e.drawArraysInstancedANGLE(t,r,n,i)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:r}=this;let n=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);const s=n[e.program.id]||this.initGeometryVao(t,e,i);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let r=0;r<t.buffers.length;r++){const n=t.buffers[r];e.update(n)}}checkCompatibility(t,e){const r=t.attributes,n=e.attributeData;for(const i in n)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(i,'" attribute'))}getSignature(t,e){const r=t.attributes,n=e.attributeData,i=["g",t.id];for(const s in r)n[s]&&i.push(s,n[s].location);return i.join("-")}initGeometryVao(t,e){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.program;o.glPrograms[i]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,o);const a=this.getSignature(t,o),l=t.glVertexArrayObjects[this.CONTEXT_UID];let u=l[a];if(u)return l[o.id]=u,u;const h=t.buffers,c=t.attributes,d={},f={};for(const p in h)d[p]=0,f[p]=0;for(const p in c)!c[p].size&&o.attributeData[p]?c[p].size=o.attributeData[p].size:c[p].size||console.warn("PIXI Geometry attribute '".concat(p,"' size cannot be determined (likely the bound shader does not have the attribute)")),d[c[p].buffer]+=c[p].size*Yl[c[p].type];for(const p in c){const t=c[p],e=t.size;void 0===t.stride&&(d[t.buffer]===e*Yl[t.type]?t.stride=0:t.stride=d[t.buffer]),void 0===t.start&&(t.start=f[t.buffer],f[t.buffer]+=e*Yl[t.type])}u=n.createVertexArray(),n.bindVertexArray(u);for(let p=0;p<h.length;p++){const t=h[p];s.bind(t),r&&t._glBuffers[i].refCount++}return this.activateVao(t,o),l[o.id]=u,l[a]=u,n.bindVertexArray(null),s.unbind(Cs.ARRAY_BUFFER),u}disposeGeometry(t,e){var r;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=t.buffers,o=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(t.disposeRunner.remove(this),n){if(o)for(let t=0;t<s.length;t++){const r=s[t]._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0===r.refCount&&!e&&o.dispose(s[t],e))}if(!e)for(const t in n)if("g"===t[0]){const e=n[t];this._activeVao===e&&this.unbind(),i.deleteVertexArray(e)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)}activateVao(t,e){const r=this.gl,n=this.CONTEXT_UID,i=this.renderer.buffer,s=t.buffers,o=t.attributes;t.indexBuffer&&i.bind(t.indexBuffer);let a=null;for(const l in o){const t=o[l],u=s[t.buffer],h=u._glBuffers[n];if(e.attributeData[l]){a!==h&&(i.bind(u),a=h);const n=e.attributeData[l].location;if(r.enableVertexAttribArray(n),r.vertexAttribPointer(n,t.size,t.type||r.FLOAT,t.normalized,t.stride,t.start),t.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(n,t.divisor)}}}}draw(t,e,r,n){const{gl:i}=this,s=this._activeGeometry;if(s.indexBuffer){const o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?i.drawElementsInstanced(t,e||s.indexBuffer.data.length,a,(r||0)*o,n||1):i.drawElements(t,e||s.indexBuffer.data.length,a,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?i.drawArraysInstanced(t,r,e||s.getSize(),n||1):i.drawArrays(t,r,e||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}ql.extension={type:ra.RendererSystem,name:"geometry"},sa.add(ql);const $l=new Ua;class Kl{constructor(t,e){this._texture=t,this.mapCoord=new Ua,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){void 0===e&&(e=t);const r=this.mapCoord;for(let n=0;n<t.length;n+=2){const i=t[n],s=t[n+1];e[n]=i*r.a+s*r.c+r.tx,e[n+1]=i*r.b+s*r.d+r.ty}return e}update(t){const e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,i=e.trim;i&&($l.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append($l));const s=e.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,l=this.clampOffset;return o[0]=(e._frame.x+a+l)/s.width,o[1]=(e._frame.y+a+l)/s.height,o[2]=(e._frame.x+e._frame.width-a+l)/s.width,o[3]=(e._frame.y+e._frame.height-a+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0}}class Ql extends El{constructor(t,e,r){let n=null;"string"!=typeof t&&void 0===e&&void 0===r&&(n=t,t=void 0,e=void 0,r=void 0),super(t||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",e||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r),this.maskSprite=n,this.maskMatrix=new Ua}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,r,n){const i=this._maskSprite,s=i._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Kl(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,t.applyFilter(this,e,r,n))}}class Zl{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.type=Ss.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=El.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ss.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Jl{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let r=e;if(!r.isMaskData){const t=this.maskDataPool.pop()||new Zl;t.pooled=!0,t.maskObject=e,r=t}const n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(n),r._colorMask=n?n._colorMask:15,r.autoDetect&&this.detect(r),r._target=t,r.type!==Ss.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Ss.SCISSOR:this.renderer.scissor.push(r);break;case Ss.STENCIL:this.renderer.stencil.push(r);break;case Ss.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Ss.COLOR:this.pushColorMask(r)}r.type===Ss.SPRITE&&this.maskStack.push(r)}pop(t){const e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case Ss.SCISSOR:this.renderer.scissor.pop(e);break;case Ss.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Ss.SPRITE:this.popSpriteMask(e);break;case Ss.COLOR:this.popColorMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){const t=this.maskStack[this.maskStack.length-1];t.type===Ss.SPRITE&&t._filters&&(t._filters[0].maskSprite=t.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=Ss.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Ss.SCISSOR:t.type=Ss.STENCIL:t.type=Ss.COLOR}pushSpriteMask(t){const{maskObject:e}=t,r=t._target;let n=t._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Ql])),n[0].resolution=t.resolution,n[0].multisample=t.multisample,n[0].maskSprite=e;const i=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,n),r.filterArea=i,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,r=t._colorMask=e&t.colorMask;r!==e&&this.renderer.gl.colorMask(0!==(1&r),0!==(2&r),0!==(4&r),0!==(8&r))}popColorMask(t){const e=t._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==e&&this.renderer.gl.colorMask(0!==(1&r),0!==(2&r),0!==(4&r),0!==(8&r))}destroy(){this.renderer=null}}Jl.extension={type:ra.RendererSystem,name:"mask"},sa.add(Jl);class tu{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,r=this.getStackLength();this.maskStack=t;const n=this.getStackLength();n!==r&&(0===n?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const eu=new Ua,ru=[],nu=class t extends tu{constructor(t){super(t),this.glConst=Ps.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){var e;if(t._scissorRectLocal)return;const r=t._scissorRect,{maskObject:n}=t,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,null!==(e=ru.pop())&&void 0!==e?e:new Oa);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),t._scissorRectLocal=o}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||t.isMatrixRotated(r.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){t.isMatrixRotated(s)||((s=s?eu.copyFrom(s):eu.identity()).translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&ru.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};nu.extension={type:ra.RendererSystem,name:"scissor"};let iu=nu;sa.add(iu);class su extends tu{constructor(t){super(t),this.glConst=Ps.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:r}=this.renderer,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),t._stencilCounter++;const i=t._colorMask;0!==i&&(t._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,n,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==i&&(t._colorMask=i,r.colorMask(0!==(1&i),0!==(2&i),0!==(4&i),0!==(8&i))),this._useCurrent()}pop(t){const e=this.renderer.gl;if(0===this.getStackLength())e.disable(e.STENCIL_TEST);else{const r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,n=r?r._colorMask:15;0!==n&&(r._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==n&&(r._colorMask=n,e.colorMask(0!==(1&n),0!==(2&n),0!==(4&n),0!==(8&n))),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}su.extension={type:ra.RendererSystem,name:"stencil"},sa.add(su);class ou{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(Zs("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract)},prepare:{enumerable:!1,get:()=>(Zs("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare)},interaction:{enumerable:!1,get:()=>(Zs("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events)}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}ou.extension={type:[ra.RendererSystem,ra.CanvasRendererSystem],name:"_plugin"},sa.add(ou);class au{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ua,this.transform=null}update(t,e,r,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);const i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}calculateProjection(t,e,r,n){const i=this.projectionMatrix,s=n?-1:1;i.identity(),i.a=1/e.width*2,i.d=s*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-s-e.y*i.d}setTransform(t){}destroy(){this.renderer=null}}au.extension={type:ra.RendererSystem,name:"projection"},sa.add(au);const lu=new Ka,uu=new Oa;class hu{constructor(t){this.renderer=t,this._tempMatrix=new Ua}generateTexture(t,e){var r;const{region:n,...i}=e||{},s=(null===n||void 0===n?void 0:n.copyTo(uu))||t.getLocalBounds(uu,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,null!==(r=i.multisample)&&void 0!==r||(i.multisample=this.renderer.multisample);const a=Ll.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=t.transform;return t.transform=lu,this.renderer.render(t,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=l,a}destroy(){}}hu.extension={type:[ra.RendererSystem,ra.CanvasRendererSystem],name:"textureGenerator"},sa.add(hu);const cu=new Oa,du=new Oa;class fu{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Oa,this.destinationFrame=new Oa,this.viewportFrame=new Oa}contextChange(){var t;const e=null===(t=this.renderer)||void 0===t?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;const n=this.renderer;let i,s,o;this.current=t,t?(i=t.baseTexture,o=i.resolution,e||(cu.width=t.frame.width,cu.height=t.frame.height,e=cu),r||(du.x=t.frame.x,du.y=t.frame.y,du.width=e.width,du.height=e.height,r=du),s=i.framebuffer):(o=n.resolution,e||(cu.width=n._view.screen.width,cu.height=n._view.screen.height,e=cu),r||(r=cu,r.width=e.width,r.height=e.height));const a=this.viewportFrame;a.x=r.x*o,a.y=r.y*o,a.width=r.width*o,a.height=r.height*o,t||(a.y=n.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(s,a),this.renderer.projection.update(r,e,o,!s),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)}clear(t,e){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=No.shared.setValue(t||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const i=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer._view.screen,o=i.width!==s.width||i.height!==s.height;if(o){let{x:t,y:e,width:r,height:n}=this.viewportFrame;t=Math.round(t),e=Math.round(e),r=Math.round(r),n=Math.round(n),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(t,e,r,n)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,e),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}fu.extension={type:ra.RendererSystem,name:"renderTexture"},sa.add(fu);class pu{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function mu(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function gu(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function vu(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return gu(2*e);case"bvec3":return gu(3*e);case"bvec4":return gu(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function yu(t,e){const r=t.getShaderSource(e).split("\n").map(((t,e)=>"".concat(e,": ").concat(t))),n=t.getShaderInfoLog(e),i=n.split("\n"),s={},o=i.map((t=>parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((t=>!(!t||s[t])&&(s[t]=!0,!0))),a=[""];o.forEach((t=>{r[t-1]="%c".concat(r[t-1],"%c"),a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const l=r.join("\n");a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function _u(t,e){var r;const n=mu(t,t.VERTEX_SHADER,e.vertexSrc),i=mu(t,t.FRAGMENT_SHADER,e.fragmentSrc),s=t.createProgram();t.attachShader(s,n),t.attachShader(s,i);const o=null===(r=e.extra)||void 0===r?void 0:r.transformFeedbackVaryings;if(o&&("function"!=typeof t.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(s,o.names,"separate"===o.bufferMode?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||function(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||yu(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||yu(t,n),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}(t,s,n,i),e.attributeData=function(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const n=e.getActiveAttrib(t,i);if(n.name.startsWith("gl_"))continue;const s=ll(e,n.type),o={type:s,name:n.name,size:sl(s),location:e.getAttribLocation(t,n.name)};r[n.name]=o}return r}(s,t),e.uniformData=function(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const n=e.getActiveUniform(t,i),s=n.name.replace(/\[.*?\]$/,""),o=!!n.name.match(/\[.*?\]$/),a=ll(e,n.type);r[s]={name:s,index:i,type:a,size:n.size,isArray:o,value:vu(a,n.size)}}return r}(s,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const r=Object.keys(e.attributeData);r.sort(((t,e)=>t>e?1:-1));for(let n=0;n<r.length;n++)e.attributeData[r[n]].location=n,t.bindAttribLocation(s,n,r[n]);t.linkProgram(s)}t.deleteShader(n),t.deleteShader(i);const a={};for(const l in e.uniformData){const r=e.uniformData[l];a[l]={location:t.getUniformLocation(s,l),value:vu(r.type,r.size)}}return new pu(s,a)}function bu(t,e,r,n,i){r.buffer.update(i)}const xu={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},wu={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Eu(t,e){if(!t.autoManage)return{size:0,syncFunc:bu};const r=function(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort(((t,e)=>t.index-e.index)),r}(t.uniforms,e),{uboElements:n,size:i}=function(t){const e=t.map((t=>({data:t,offset:0,dataLen:0,dirty:0})));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const t=e[s];if(r=wu[t.data.type],t.data.size>1&&(r=Math.max(r,16)*t.data.size),t.dataLen=r,n%r!==0&&n<16){const t=n%r%16;n+=t,i+=t}n+r>16?(i=16*Math.ceil(i/16),t.offset=i,i+=r,n=r):(t.offset=i,n+=r,i+=r)}return i=16*Math.ceil(i/16),{uboElements:e,size:i}}(r),s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let o=0;o<n.length;o++){const e=n[o],r=t.uniforms[e.data.name],i=e.data.name;let a=!1;for(let t=0;t<Qa.length;t++){const n=Qa[t];if(n.codeUbo&&n.test(e.data,r)){s.push("offset = ".concat(e.offset/4,";"),Qa[t].codeUbo(e.data.name,r)),a=!0;break}}if(!a)if(e.data.size>1){const t=sl(e.data.type),r=Math.max(wu[e.data.type]/16,1),n=t/r,o=(4-n%4)%4;s.push("\n                cv = ud.".concat(i,".value;\n                v = uv.").concat(i,";\n                offset = ").concat(e.offset/4,";\n\n                t = 0;\n\n                for(var i=0; i < ").concat(e.data.size*r,"; i++)\n                {\n                    for(var j = 0; j < ").concat(n,"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ").concat(o,";\n                }\n\n                "))}else{const t=xu[e.data.type];s.push("\n                cv = ud.".concat(i,".value;\n                v = uv.").concat(i,";\n                offset = ").concat(e.offset/4,";\n                ").concat(t,";\n                "))}}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}let Tu;let Su=0;const Au={textureCount:0,uboCount:0};class Cu{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Su++}systemCheck(){if(!function(){if("boolean"==typeof Tu)return Tu;try{Tu=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch{Tu=!1}return Tu}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const r=t.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),e||(Au.textureCount=0,Au.uboCount=0,this.syncUniformGroup(t.uniformGroup,Au)),n}setUniforms(t){const e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)}syncUniformGroup(t,e){const r=this.getGlProgram();(!t.static||t.dirtyId!==r.uniformDirtyGroups[t.id])&&(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))}syncUniforms(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){const r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const i in t.uniforms){const s=e[i];if(!s){var n;!0===(null===(n=t.uniforms[i])||void 0===n?void 0:n.group)&&(t.uniforms[i].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv.".concat(i,", '").concat(i,"');\n                    ")):r.push("\n                        renderer.shader.syncUniformGroup(uv.".concat(i,", syncData);\n                    ")));continue}const o=t.uniforms[i];let a=!1;for(let t=0;t<Qa.length;t++)if(Qa[t].test(s,o)){r.push(Qa[t].code(i,o)),a=!0;break}if(!a){const t=(1!==s.size||s.isArray?Ja:Za)[s.type].replace("location",'ud["'.concat(i,'"].location'));r.push('\n            cu = ud["'.concat(i,'"];\n            cv = cu.value;\n            v = uv["').concat(i,'"];\n            ').concat(t,";"))}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const r=this.getGlProgram();if(!t.static||0!==t.dirtyId||!r.uniformGroups[t.id]){t.dirtyId=0;const n=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),n(r.uniformData,t.uniforms,this.renderer,Au,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])}createSyncBufferGroup(t,e,r){const{gl:n}=this.renderer;this.renderer.buffer.bind(t.buffer);const i=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,n.uniformBlockBinding(e.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;const s=this.getSignature(t,this.shader.program.uniformData,"ubo");let o=this._uboCache[s];if(o||(o=this._uboCache[s]=Eu(t,this.shader.program.uniformData)),t.autoManage){const e=new Float32Array(o.size/4);t.buffer.update(e)}return e.uniformGroups[t.id]=o.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,r){const n=t.uniforms,i=["".concat(r,"-")];for(const s in n)i.push(s),e[s]&&i.push(e[s].type);return i.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,r=t.program,n=_u(e,r);return r.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Cu.extension={type:ra.RendererSystem,name:"shader"},sa.add(Cu);class Ru{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log("PixiJS 7.3.2 - ".concat(e.rendererLogId," - https://pixijs.com")),e.resize(e.screen.width,e.screen.height)}destroy(){}}Ru.defaultOptions={hello:!1},Ru.extension={type:[ra.RendererSystem,ra.CanvasRendererSystem],name:"startup"},sa.add(Ru);const Pu=class t{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ds.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new ua,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[ds.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.ADD]=[t.ONE,t.ONE],e[ds.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.NONE]=[0,0],e[ds.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ds.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ds.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ds.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ds.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ds.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ds.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ds.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ds.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ds.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ds.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):!e&&-1!==r&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};Pu.extension={type:ra.RendererSystem,name:"state"};let Iu=Pu;sa.add(Iu);class Mu extends $s{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){var e;this.addRunners(...t.runners);const r=(null!==(e=t.priority)&&void 0!==e?e:[]).filter((e=>t.systems[e])),n=[...r,...Object.keys(t.systems).filter((t=>!r.includes(t)))];for(const i of n)this.addSystem(t.systems[i],i)}addRunners(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((t=>{this.runners[t]=new da(t)}))}addSystem(t,e){const r=new t(this);if(this[e])throw new Error('Whoops! The name "'.concat(e,'" is already in use'));this[e]=r,this._systemsHash[e]=r;for(const n in this.runners)this.runners[n].add(r);return this}emitWithCustomOptions(t,e){const r=Object.keys(this._systemsHash);t.items.forEach((n=>{const i=r.find((t=>this._systemsHash[t]===n));n[t.name](e[i])}))}destroy(){Object.values(this.runners).forEach((t=>{t.destroy()})),this._systemsHash={}}}const ku=class t{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=t.defaultMaxIdle,this.checkCountMax=t.defaultCheckCountMax,this.mode=t.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Es.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];i.resource&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let t=0;for(let r=0;r<e.length;r++)null!==e[r]&&(e[t++]=e[r]);e.length=t}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};ku.defaultMode=Es.AUTO,ku.defaultMaxIdle=3600,ku.defaultCheckCountMax=600,ku.extension={type:ra.RendererSystem,name:"textureGC"};let Du=ku;sa.add(Du);class Ou{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=gs.UNSIGNED_BYTE,this.internalFormat=ps.RGBA,this.samplerType=0}}class Nu{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new va,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(t){let e;return e="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?{[gs.UNSIGNED_BYTE]:{[ps.RGBA]:t.RGBA8,[ps.RGB]:t.RGB8,[ps.RG]:t.RG8,[ps.RED]:t.R8,[ps.RGBA_INTEGER]:t.RGBA8UI,[ps.RGB_INTEGER]:t.RGB8UI,[ps.RG_INTEGER]:t.RG8UI,[ps.RED_INTEGER]:t.R8UI,[ps.ALPHA]:t.ALPHA,[ps.LUMINANCE]:t.LUMINANCE,[ps.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[gs.BYTE]:{[ps.RGBA]:t.RGBA8_SNORM,[ps.RGB]:t.RGB8_SNORM,[ps.RG]:t.RG8_SNORM,[ps.RED]:t.R8_SNORM,[ps.RGBA_INTEGER]:t.RGBA8I,[ps.RGB_INTEGER]:t.RGB8I,[ps.RG_INTEGER]:t.RG8I,[ps.RED_INTEGER]:t.R8I},[gs.UNSIGNED_SHORT]:{[ps.RGBA_INTEGER]:t.RGBA16UI,[ps.RGB_INTEGER]:t.RGB16UI,[ps.RG_INTEGER]:t.RG16UI,[ps.RED_INTEGER]:t.R16UI,[ps.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[gs.SHORT]:{[ps.RGBA_INTEGER]:t.RGBA16I,[ps.RGB_INTEGER]:t.RGB16I,[ps.RG_INTEGER]:t.RG16I,[ps.RED_INTEGER]:t.R16I},[gs.UNSIGNED_INT]:{[ps.RGBA_INTEGER]:t.RGBA32UI,[ps.RGB_INTEGER]:t.RGB32UI,[ps.RG_INTEGER]:t.RG32UI,[ps.RED_INTEGER]:t.R32UI,[ps.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[gs.INT]:{[ps.RGBA_INTEGER]:t.RGBA32I,[ps.RGB_INTEGER]:t.RGB32I,[ps.RG_INTEGER]:t.RG32I,[ps.RED_INTEGER]:t.R32I},[gs.FLOAT]:{[ps.RGBA]:t.RGBA32F,[ps.RGB]:t.RGB32F,[ps.RG]:t.RG32F,[ps.RED]:t.R32F,[ps.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[gs.HALF_FLOAT]:{[ps.RGBA]:t.RGBA16F,[ps.RGB]:t.RGB16F,[ps.RG]:t.RG16F,[ps.RED]:t.R16F},[gs.UNSIGNED_SHORT_5_6_5]:{[ps.RGB]:t.RGB565},[gs.UNSIGNED_SHORT_4_4_4_4]:{[ps.RGBA]:t.RGBA4},[gs.UNSIGNED_SHORT_5_5_5_1]:{[ps.RGBA]:t.RGB5_A1},[gs.UNSIGNED_INT_2_10_10_10_REV]:{[ps.RGBA]:t.RGB10_A2,[ps.RGBA_INTEGER]:t.RGB10_A2UI},[gs.UNSIGNED_INT_10F_11F_11F_REV]:{[ps.RGB]:t.R11F_G11F_B10F},[gs.UNSIGNED_INT_5_9_9_9_REV]:{[ps.RGB]:t.RGB9_E5},[gs.UNSIGNED_INT_24_8]:{[ps.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[gs.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ps.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:{[gs.UNSIGNED_BYTE]:{[ps.RGBA]:t.RGBA,[ps.RGB]:t.RGB,[ps.ALPHA]:t.ALPHA,[ps.LUMINANCE]:t.LUMINANCE,[ps.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[gs.UNSIGNED_SHORT_5_6_5]:{[ps.RGB]:t.RGB},[gs.UNSIGNED_SHORT_4_4_4_4]:{[ps.RGBA]:t.RGBA},[gs.UNSIGNED_SHORT_5_5_5_1]:{[ps.RGBA]:t.RGBA}},e}(t),this.samplerTypes=function(t){let e;return e="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?{[t.RGB]:vs.FLOAT,[t.RGBA]:vs.FLOAT,[t.ALPHA]:vs.FLOAT,[t.LUMINANCE]:vs.FLOAT,[t.LUMINANCE_ALPHA]:vs.FLOAT,[t.R8]:vs.FLOAT,[t.R8_SNORM]:vs.FLOAT,[t.RG8]:vs.FLOAT,[t.RG8_SNORM]:vs.FLOAT,[t.RGB8]:vs.FLOAT,[t.RGB8_SNORM]:vs.FLOAT,[t.RGB565]:vs.FLOAT,[t.RGBA4]:vs.FLOAT,[t.RGB5_A1]:vs.FLOAT,[t.RGBA8]:vs.FLOAT,[t.RGBA8_SNORM]:vs.FLOAT,[t.RGB10_A2]:vs.FLOAT,[t.RGB10_A2UI]:vs.FLOAT,[t.SRGB8]:vs.FLOAT,[t.SRGB8_ALPHA8]:vs.FLOAT,[t.R16F]:vs.FLOAT,[t.RG16F]:vs.FLOAT,[t.RGB16F]:vs.FLOAT,[t.RGBA16F]:vs.FLOAT,[t.R32F]:vs.FLOAT,[t.RG32F]:vs.FLOAT,[t.RGB32F]:vs.FLOAT,[t.RGBA32F]:vs.FLOAT,[t.R11F_G11F_B10F]:vs.FLOAT,[t.RGB9_E5]:vs.FLOAT,[t.R8I]:vs.INT,[t.R8UI]:vs.UINT,[t.R16I]:vs.INT,[t.R16UI]:vs.UINT,[t.R32I]:vs.INT,[t.R32UI]:vs.UINT,[t.RG8I]:vs.INT,[t.RG8UI]:vs.UINT,[t.RG16I]:vs.INT,[t.RG16UI]:vs.UINT,[t.RG32I]:vs.INT,[t.RG32UI]:vs.UINT,[t.RGB8I]:vs.INT,[t.RGB8UI]:vs.UINT,[t.RGB16I]:vs.INT,[t.RGB16UI]:vs.UINT,[t.RGB32I]:vs.INT,[t.RGB32UI]:vs.UINT,[t.RGBA8I]:vs.INT,[t.RGBA8UI]:vs.UINT,[t.RGBA16I]:vs.INT,[t.RGBA16UI]:vs.UINT,[t.RGBA32I]:vs.INT,[t.RGBA32UI]:vs.UINT,[t.DEPTH_COMPONENT16]:vs.FLOAT,[t.DEPTH_COMPONENT24]:vs.FLOAT,[t.DEPTH_COMPONENT32F]:vs.FLOAT,[t.DEPTH_STENCIL]:vs.FLOAT,[t.DEPTH24_STENCIL8]:vs.FLOAT,[t.DEPTH32F_STENCIL8]:vs.FLOAT}:{[t.RGB]:vs.FLOAT,[t.RGBA]:vs.FLOAT,[t.ALPHA]:vs.FLOAT,[t.LUMINANCE]:vs.FLOAT,[t.LUMINANCE_ALPHA]:vs.FLOAT,[t.DEPTH_STENCIL]:vs.FLOAT},e}(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};const r=new Ou(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Ou(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(t){var e,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{gl:i}=this;if(null!==(r=t=null===(e=t)||void 0===e?void 0:e.castToBaseTexture())&&void 0!==r&&r.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const e=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[n]!==t&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(t.target,e.texture)),e.dirtyId!==t.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),this.updateTexture(t)):e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[n]=t}else this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let t=0;t<r.length;t++)r[t]===this.unknownTexture&&this.bind(null,t)}for(let n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[n]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:r,CONTEXT_UID:n}=this;if(r)for(let i=t-1;i>=0;--i){const t=e[i];t&&t._glTextures[n].samplerType!==vs.FLOAT&&this.renderer.texture.unbind(t)}}initTexture(t){const e=new Ou(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){var r,n,i;e.internalFormat=null!==(r=null===(n=this.internalFormats[t.type])||void 0===n?void 0:n[t.format])&&void 0!==r?r:t.format,e.samplerType=null!==(i=this.samplerTypes[e.internalFormat])&&void 0!==i?i:vs.FLOAT,2===this.webGLVersion&&t.type===gs.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){var e;const r=t._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(t,r),null!==(e=t.resource)&&void 0!==e&&e.upload(n,t,r))r.samplerType!==vs.FLOAT&&(this.hasIntegerTextures=!0);else{const e=t.realWidth,i=t.realHeight,s=n.gl;(r.width!==e||r.height!==i||r.dirtyId<0)&&(r.width=e,r.height=i,s.texImage2D(t.target,0,r.internalFormat,e,i,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:r}=this;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const e=this.managedTextures.indexOf(t);-1!==e&&jo(this.managedTextures,e,1)}}updateTextureStyle(t){var e;const r=t._glTextures[this.CONTEXT_UID];r&&(t.mipmap!==bs.POW2&&2===this.webGLVersion||t.isPowerOfTwo?r.mipmap=t.mipmap>=1:r.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?r.wrapMode=t.wrapMode:r.wrapMode=_s.CLAMP,null!==(e=t.resource)&&void 0!==e&&e.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const r=this.gl;if(e.mipmap&&t.mipmap!==bs.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===ys.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const e=this.renderer.context.extensions.anisotropicFiltering;if(e&&t.anisotropicLevel>0&&t.scaleMode===ys.LINEAR){const n=Math.min(t.anisotropicLevel,r.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,e.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===ys.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===ys.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}Nu.extension={type:ra.RendererSystem,name:"texture"},sa.add(Nu);class Lu{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:r}=this,n=t._glTransformFeedbacks[r]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:r,renderer:n}=this;e&&n.shader.bind(e),r.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:r,CONTEXT_UID:n}=this,i=e.createTransformFeedback();t._glTransformFeedbacks[n]=i,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,i);for(let s=0;s<t.buffers.length;s++){const i=t.buffers[s];i&&(r.buffer.update(i),i._glBuffers[n].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,s,i._glBuffers[n].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),i}disposeTransformFeedback(t,e){const r=t._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this);const i=this.renderer.buffer;if(i)for(let s=0;s<t.buffers.length;s++){const r=t.buffers[s];if(!r)continue;const n=r._glBuffers[this.CONTEXT_UID];n&&(n.refCount--,0===n.refCount&&!e&&i.dispose(r,e))}r&&(e||n.deleteTransformFeedback(r),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Lu.extension={type:ra.RendererSystem,name:"transformFeedback"},sa.add(Lu);class Fu{constructor(t){this.renderer=t}init(t){this.screen=new Oa(0,0,t.width,t.height),this.element=t.view||Ps.ADAPTER.createCanvas(),this.resolution=t.resolution||Ps.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const r=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=r,this.screen.height=n,this.autoDensity&&(this.element.style.width="".concat(r,"px"),this.element.style.height="".concat(n,"px")),this.renderer.emit("resize",r,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var e;t&&null!==(e=this.element.parentNode)&&void 0!==e&&e.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}Fu.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Fu.extension={type:[ra.RendererSystem,ra.CanvasRendererSystem],name:"_view"},sa.add(Fu),Ps.PREFER_ENV=us.WEBGL2,Ps.STRICT_TEXTURE_CACHE=!1,Ps.RENDER_OPTIONS={...Cl.defaultOptions,...Tl.defaultOptions,...Fu.defaultOptions,...Ru.defaultOptions},Object.defineProperties(Ps,{WRAP_MODE:{get:()=>va.defaultOptions.wrapMode,set(t){Zs("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),va.defaultOptions.wrapMode=t}},SCALE_MODE:{get:()=>va.defaultOptions.scaleMode,set(t){Zs("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),va.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get:()=>va.defaultOptions.mipmap,set(t){Zs("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),va.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get:()=>va.defaultOptions.anisotropicLevel,set(t){Zs("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),va.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get:()=>(Zs("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),El.defaultResolution),set(t){El.defaultResolution=t}},FILTER_MULTISAMPLE:{get:()=>(Zs("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),El.defaultMultisample),set(t){El.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get:()=>xl.defaultMaxTextures,set(t){Zs("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),xl.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get:()=>xl.defaultBatchSize,set(t){Zs("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),xl.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get:()=>xl.canUploadSameBuffer,set(t){Zs("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),xl.canUploadSameBuffer=t}},GC_MODE:{get:()=>Du.defaultMode,set(t){Zs("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Du.defaultMode=t}},GC_MAX_IDLE:{get:()=>Du.defaultMaxIdle,set(t){Zs("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Du.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get:()=>Du.defaultCheckCountMax,set(t){Zs("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Du.defaultCheckCountMax=t}},PRECISION_VERTEX:{get:()=>fl.defaultVertexPrecision,set(t){Zs("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),fl.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get:()=>fl.defaultFragmentPrecision,set(t){Zs("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),fl.defaultFragmentPrecision=t}}});var Bu=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Bu||{});class Uu{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=n}match(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const Gu=class t{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Uu(null,null,1/0),this.deltaMS=1/t.targetFPMS,this.elapsedMS=1/t.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bu.NORMAL;return this._addListener(new Uu(t,e,r))}addOnce(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bu.NORMAL;return this._addListener(new Uu(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(){let e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(r>this.lastTime){if(e=this.elapsedMS=r-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const t=r-this._lastFrame|0;if(t<this._minElapsedMS)return;this._lastFrame=r-t%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*t.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,t.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(0===t)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!t._shared){const e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared}static get system(){if(!t._system){const e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system}};Gu.targetFPMS=.06;let zu=Gu;Object.defineProperties(Ps,{TARGET_FPMS:{get:()=>zu.targetFPMS,set(t){Zs("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),zu.targetFPMS=t}}});class ju{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Bu.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?zu.shared:new zu,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}ju.extension=ra.Application,sa.add(ju);const Hu=[];sa.handleByList(ra.Renderer,Hu);const Wu="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";class Vu{constructor(t){this.renderer=t}contextChange(t){let e;if(1===this.renderer.context.webGLVersion){const r=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,r)}else{const r=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,r)}e>=As.HIGH?this.multisample=As.HIGH:e>=As.MEDIUM?this.multisample=As.MEDIUM:e>=As.LOW?this.multisample=As.LOW:this.multisample=As.NONE}destroy(){}}Vu.extension={type:ra.RendererSystem,name:"_multisample"},sa.add(Vu);class Xu{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Yu{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:r}=this,n=t._glBuffers[r]||this.createGLBuffer(t);e.bindBuffer(t.type,n.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:r,CONTEXT_UID:n}=this;if(this.boundBufferBases[e]!==t){const i=t._glBuffers[n]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,i.buffer)}}bindBufferRange(t,e,r){const{gl:n,CONTEXT_UID:i}=this;r=r||0;const s=t._glBuffers[i]||this.createGLBuffer(t);n.bindBufferRange(n.UNIFORM_BUFFER,e||0,s.buffer,256*r,256)}update(t){const{gl:e,CONTEXT_UID:r}=this,n=t._glBuffers[r]||this.createGLBuffer(t);if(t._updateID!==n.updateID)if(n.updateID=t._updateID,e.bindBuffer(t.type,n.buffer),n.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const r=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,r)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const r=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),r&&(e||n.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:r}=this;return t._glBuffers[e]=new Xu(r.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}Yu.extension={type:ra.RendererSystem,name:"buffer"},sa.add(Yu);class qu{constructor(t){this.renderer=t}render(t,e){const r=this.renderer;let n,i,s,o;if(e&&(n=e.renderTexture,i=e.clear,s=e.transform,o=e.skipUpdateTransform),this.renderingToScreen=!n,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=s,!r.context.isLost){var a;if(n||(this.lastObjectRendered=t),!o){const e=t.enableTempParent();t.updateTransform(),t.disableTempParent(e)}r.renderTexture.bind(n),r.batch.currentRenderer.start(),(null!==(a=i)&&void 0!==a?a:r.background.clearBeforeRender)&&r.renderTexture.clear(),t.render(r),r.batch.currentRenderer.flush(),n&&(e.blit&&r.framebuffer.blit(),n.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}qu.extension={type:ra.RendererSystem,name:"objectRenderer"},sa.add(qu);const $u=class t extends Mu{constructor(e){super(),this.type=hs.WEBGL,e=Object.assign({},Ps.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ml({projectionMatrix:new Ua},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:t.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Zs("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,e.backgroundAlpha=!1===e.useContextAlpha?1:e.backgroundAlpha),this._plugin.rendererPlugins=t.__plugins,this.options=e,this.startup.run(this.options)}static test(t){return(null===t||void 0===t||!t.forceCanvas)&&(typeof no>"u"&&(no=function(){const t={stencil:!0,failIfMajorPerformanceCaveat:Ps.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{var e;if(!Ps.ADAPTER.getWebGLRenderingContext())return!1;const r=Ps.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!(null===(e=n)||void 0===e||null===(e=e.getContextAttributes())||void 0===e||!e.stencil);if(n){const t=n.getExtension("WEBGL_lose_context");t&&t.loseContext()}return n=null,i}catch{return!1}}()),no)}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return"WebGL ".concat(this.context.webGLVersion)}get clearBeforeRender(){return Zs("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Zs("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Zs("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Zs("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Zs("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Zs("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Zs("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Zs("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};$u.extension={type:ra.Renderer,priority:1},$u.__plugins={},$u.__systems={};let Ku=$u;sa.handleByMap(ra.RendererPlugin,Ku.__plugins),sa.handleByMap(ra.RendererSystem,Ku.__systems),sa.add(Ku);class Qu extends fa{constructor(t,e){const{width:r,height:n}=e||{};super(r,n),this.items=[],this.itemDirtyIds=[];for(let i=0;i<t;i++){const t=new va;this.items.push(t),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof fa?this.addResourceAt(t[r],r):this.addResourceAt(ca(t[r],e),r))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error("Index ".concat(e," is out of bounds"));return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map((t=>t.resource)).filter((t=>t)).map((t=>t.load()));return this._load=Promise.all(t).then((()=>{const{realWidth:t,realHeight:e}=this.items[0];return this.resize(t,e),this.update(),Promise.resolve(this)})),this._load}}const Zu=class t extends Qu{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got ".concat(e.length,", expected 6"));super(6,{width:n,height:i});for(let a=0;a<t.SIDES;a++)this.items[a].target=ms.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=!1!==o,e&&this.initFromArray(e,r),!1!==s&&this.load()}bind(t){super.bind(t),t.target=ms.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index ".concat(e," is out of bounds"));if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=ms.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<t.SIDES;s++){const t=this.items[s];(i[s]<t.dirtyId||n.dirtyId<r.dirtyId)&&(t.valid&&t.resource?(t.resource.upload(e,t,n),i[s]=t.dirtyId):i[s]<-1&&(e.gl.texImage2D(t.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===t.SIDES}};Zu.SIDES=6;let Ju=Zu;class th extends Il{constructor(t,e){var r,n;let i,s,o;e=e||{},"string"==typeof t?(i=th.EMPTY,s=t,o=!0):(i=t,s=null,o=!1),super(i),this.url=s,this.crossOrigin=null===(r=e.crossOrigin)||void 0===r||r,this.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,this.ownsImageBitmap=null!==(n=e.ownsImageBitmap)&&void 0!==n?n:o,this._load=null,!1!==e.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((async(t,e)=>{if(null!==this.url)try{const e=await Ps.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const r=await e.blob();if(this.destroyed)return;const n=await createImageBitmap(r,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===xs.UNPACK?"premultiply":"none"});if(this.destroyed)return void n.close();this.source=n,this.update(),t(this)}catch(r){if(this.destroyed)return;e(r),this.onError.emit(r)}else t(this)}))),this._load}upload(t,e,r){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),super.upload(t,e,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof t||t instanceof ImageBitmap)}static get EMPTY(){var t;return th._EMPTY=null!==(t=th._EMPTY)&&void 0!==t?t:Ps.ADAPTER.createCanvas(0,0),th._EMPTY}}const eh=class t extends Il{constructor(t,e){e=e||{},super(Ps.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,!1!==e.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((e=>{if(this._resolve=()=>{this.update(),e(this)},t.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg="data:image/svg+xml;base64,".concat(btoa(unescape(encodeURIComponent(this.svg))))}this._loadSvg()}))),this._load}_loadSvg(){const t=new Image;Il.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId="canvas_".concat(Vo()),s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(e){const r=t.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return"svg"===r||"string"==typeof e&&e.startsWith("data:image/svg+xml")||"string"==typeof e&&t.SVG_XML.test(e)}};eh.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,eh.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let rh=eh;const nh=class t extends Il{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");!1!==r.autoLoad&&n.setAttribute("preload","auto"),!1!==r.playsinline&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),!0===r.muted&&(n.setAttribute("muted",""),n.muted=!0),!0===r.loop&&n.setAttribute("loop",""),!1!==r.autoPlay&&n.setAttribute("autoplay",""),"string"==typeof e&&(e=[e]);const i=e[0].src||e[0];Il.crossOrigin(n,i,r.crossorigin);for(let r=0;r<e.length;++r){const i=document.createElement("source");let{src:s,mime:o}=e[r];if(s=s||e[r],s.startsWith("data:"))o=s.slice(5,s.indexOf(";"));else if(!s.startsWith("blob:")){const e=s.split("?").shift().toLowerCase(),r=e.slice(e.lastIndexOf(".")+1);o=o||t.MIME_TYPES[r]||"video/".concat(r)}i.src=s,o&&(i.type=o),n.appendChild(i)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==r.autoLoad&&this.load()}update(){if(!this.destroyed){if(this._updateFPS){const t=zu.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(((e,r)=>{this.valid?e(this):(this._resolve=e,this._reject=r,t.load())})),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!e&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(zu.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(zu.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(zu.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.includes(r)}};nh.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],nh.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ih=nh;ha.push(th,Ml,class extends Il{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return!!(e&&t instanceof e)||globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}},ih,rh,pa,Ju,class extends Qu{constructor(t,e){const{width:r,height:n}=e||{};let i,s;Array.isArray(t)?(i=t,s=t.length):s=t,super(s,{width:r,height:n}),i&&this.initFromArray(i,e)}addBaseTextureAt(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this}bind(t){super.bind(t),t.target=ms.TEXTURE_2D_ARRAY}upload(t,e,r){const{length:n,itemDirtyIds:i,items:s}=this,{gl:o}=t;r.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,n,0,e.format,r.type,null);for(let a=0;a<n;a++){const t=s[a];i[a]<t.dirtyId&&(i[a]=t.dirtyId,t.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,t.resource.width,t.resource.height,1,e.format,r.type,t.resource.source))}return!0}});class sh{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Oa.EMPTY:((t=t||new Oa(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:r,b:n,c:i,d:s,tx:o,ty:a}=t,l=r*e.x+i*e.y+o,u=n*e.x+s*e.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(t){let e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,s=t[0],o=t[1];e=s<e?s:e,r=o<r?o:r,n=s>n?s:n,i=o>i?o:i,s=t[2],o=t[3],e=s<e?s:e,r=o<r?o:r,n=s>n?s:n,i=o>i?o:i,s=t[4],o=t[5],e=s<e?s:e,r=o<r?o:r,n=s>n?s:n,i=o>i?o:i,s=t[6],o=t[7],e=s<e?s:e,r=o<r?o:r,n=s>n?s:n,i=o>i?o:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}addFrame(t,e,r,n,i){this.addFrameMatrix(t.worldTransform,e,r,n,i)}addFrameMatrix(t,e,r,n,i){const s=t.a,o=t.b,a=t.c,l=t.d,u=t.tx,h=t.ty;let c=this.minX,d=this.minY,f=this.maxX,p=this.maxY,m=s*e+a*r+u,g=o*e+l*r+h;c=m<c?m:c,d=g<d?g:d,f=m>f?m:f,p=g>p?g:p,m=s*n+a*r+u,g=o*n+l*r+h,c=m<c?m:c,d=g<d?g:d,f=m>f?m:f,p=g>p?g:p,m=s*e+a*i+u,g=o*e+l*i+h,c=m<c?m:c,d=g<d?g:d,f=m>f?m:f,p=g>p?g:p,m=s*n+a*i+u,g=o*n+l*i+h,c=m<c?m:c,d=g<d?g:d,f=m>f?m:f,p=g>p?g:p,this.minX=c,this.minY=d,this.maxX=f,this.maxY=p}addVertexData(t,e,r){let n=this.minX,i=this.minY,s=this.maxX,o=this.maxY;for(let a=e;a<r;a+=2){const e=t[a],r=t[a+1];n=e<n?e:n,i=r<i?r:i,s=e>s?e:s,o=r>o?r:o}this.minX=n,this.minY=i,this.maxX=s,this.maxY=o}addVertices(t,e,r,n){this.addVerticesMatrix(t.worldTransform,e,r,n)}addVerticesMatrix(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i;const o=t.a,a=t.b,l=t.c,u=t.d,h=t.tx,c=t.ty;let d=this.minX,f=this.minY,p=this.maxX,m=this.maxY;for(let g=r;g<n;g+=2){const t=e[g],r=e[g+1],n=o*t+l*r+h,v=u*r+a*t+c;d=Math.min(d,n-i),p=Math.max(p,n+i),f=Math.min(f,v-s),m=Math.max(m,v+s)}this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addBounds(t){const e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i}addBoundsMask(t,e){const r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=s){const t=this.minX,e=this.minY,o=this.maxX,a=this.maxY;this.minX=r<t?r:t,this.minY=n<e?n:e,this.maxX=i>o?i:o,this.maxY=s>a?s:a}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=s){const t=this.minX,e=this.minY,o=this.maxX,a=this.maxY;this.minX=r<t?r:t,this.minY=n<e?n:e,this.maxX=i>o?i:o,this.maxY=s>a?s:a}}pad(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,r,n,i,s){t-=i,e-=s,r+=i,n+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n}}class oh extends $s{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Ka,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new sh,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let r=0;r<e.length;++r){const n=e[r];Object.defineProperty(oh.prototype,n,Object.getOwnPropertyDescriptor(t,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Oa),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){var e;t||(this._localBoundsRect||(this._localBoundsRect=new Oa),t=this._localBoundsRect),this._localBounds||(this._localBounds=new sh);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=null!==(e=null===n||void 0===n?void 0:n.worldAlpha)&&void 0!==e?e:1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,t);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;null===(t=this.parent)||void 0===t||t.removeChild(this)}setTransform(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=l,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new ah),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*Pa}set angle(t){this.transform.rotation=t*Ia}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1))}if(this._mask=t,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(0===t._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class ah extends oh{constructor(){super(...arguments),this.sortDirty=null}}oh.prototype.displayObjectUpdateTransform=oh.prototype.updateTransform;const lh=new Ua;function uh(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const hh=class t extends oh{constructor(){super(),this.children=[],this.sortableChildren=t.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(){if(arguments.length>1)for(let t=0;t<arguments.length;t++)this.addChild(t<0||arguments.length<=t?void 0:arguments[t]);else{const t=arguments.length<=0?void 0:arguments[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return arguments.length<=0?void 0:arguments[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error("".concat(t,"addChildAt: The index ").concat(e," supplied is out of bounds ").concat(this.children.length));return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error("The index ".concat(e," supplied is out of bounds ").concat(this.children.length));const r=this.getChildIndex(t);jo(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index (".concat(t,") does not exist."));return this.children[t]}removeChild(){if(arguments.length>1)for(let t=0;t<arguments.length;t++)this.removeChild(t<0||arguments.length<=t?void 0:arguments[t]);else{const t=arguments.length<=0?void 0:arguments[0],e=this.children.indexOf(t);if(-1===e)return null;t.parent=null,t.transform._parentID=-1,jo(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e)}return arguments.length<=0?void 0:arguments[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,jo(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.children.length;const r=t,n=e-r;let i;if(n>0&&n<=e){i=this.children.splice(r,n);for(let t=0;t<i.length;++t)i[t].parent=null,i[t].transform&&(i[t].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let t=0;t<i.length;++t)i[t].emit("removed",this),this.emit("childRemoved",i[t],this,t);return i}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&0!==r.zIndex&&(t=!0)}t&&this.children.length>1&&this.children.sort(uh),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const e=this.children[t];e.visible&&e.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){const t=e._mask.isMaskData?e._mask.maskObject:e._mask;t?(t.calculateBounds(),this._bounds.addBoundsMask(e._bounds,t._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const t=this.children[n];t.visible&&t.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==t.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=lh.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let t=0,o=this.children.length;t<o;++t){const r=this.children[t],n=r.cullable;r.cullable=n||!this.cullArea,r.render(e),r.cullable=n}}render(t){var e;if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||null!==(e=this.filters)&&void 0!==e&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}}renderAdvanced(t){var e,r,n;const i=this.filters,s=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let t=0;t<i.length;t++)i[t].enabled&&this._enabledFilters.push(i[t])}const o=i&&(null===(e=this._enabledFilters)||void 0===e?void 0:e.length)||s&&(!s.isMaskData||s.enabled&&(s.autoDetect||s.type!==Ss.NONE));if(o&&t.batch.flush(),i&&null!==(r=this._enabledFilters)&&void 0!==r&&r.length&&t.filter.push(this,this._enabledFilters),s&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}o&&t.batch.flush(),s&&t.mask.pop(this),i&&(null===(n=this._enabledFilters)||void 0===n?void 0:n.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e="boolean"==typeof t?t:null===t||void 0===t?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}};hh.defaultSortableChildren=!1;let ch=hh;ch.prototype.containerUpdateTransform=ch.prototype.updateTransform,Object.defineProperties(Ps,{SORTABLE_CHILDREN:{get:()=>ch.defaultSortableChildren,set(t){Zs("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ch.defaultSortableChildren=t}}});const dh=new ka,fh=new Uint16Array([0,1,2,0,2,3]);class ph extends ch{constructor(t){super(),this._anchor=new qa(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new No(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ds.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||Nl.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=fh,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Ps.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ho(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ho(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this.vertexData,u=t.trim,h=t.orig,c=this._anchor;let d=0,f=0,p=0,m=0;if(u?(f=u.x-c._x*h.width,d=f+u.width,m=u.y-c._y*h.height,p=m+u.height):(f=-c._x*h.width,d=f+h.width,m=-c._y*h.height,p=m+h.height),l[0]=r*f+i*m+o,l[1]=s*m+n*f+a,l[2]=r*d+i*m+o,l[3]=s*m+n*d+a,l[4]=r*d+i*p+o,l[5]=s*p+n*d+a,l[6]=r*f+i*p+o,l[7]=s*p+n*f+a,this._roundPixels){const t=Ps.RESOLUTION;for(let e=0;e<l.length;++e)l[e]=Math.round(l[e]*t)/t}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,h=i.ty,c=-n._x*r.width,d=c+r.width,f=-n._y*r.height,p=f+r.height;if(e[0]=s*c+a*f+u,e[1]=l*f+o*c+h,e[2]=s*d+a*f+u,e[3]=l*f+o*d+h,e[4]=s*d+a*p+u,e[5]=l*p+o*d+h,e[6]=s*c+a*p+u,e[7]=l*p+o*c+h,this._roundPixels){const t=Ps.RESOLUTION;for(let r=0;r<e.length;++r)e[r]=Math.round(e[r]*t)/t}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return 0===this.children.length?(this._localBounds||(this._localBounds=new sh),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Oa),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,dh);const e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x;let i=0;return dh.x>=n&&dh.x<n+e&&(i=-r*this.anchor.y,dh.y>=i&&dh.y<i+r)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:null===t||void 0===t?void 0:t.texture){const e="boolean"==typeof t?t:null===t||void 0===t?void 0:t.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const r=t instanceof Nl?t:Nl.from(t,e);return new ph(r)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=Ho(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=Ho(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Nl.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const mh=new Ua;oh.prototype._cacheAsBitmap=!1,oh.prototype._cacheData=null,oh.prototype._cacheAsBitmapResolution=null,oh.prototype._cacheAsBitmapMultisample=null;class gh{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(oh.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;let e;this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new gh),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),oh.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},oh.prototype._initCachedDisplayObject=function(t){var e,r,n;if(null!==(e=this._cacheData)&&void 0!==e&&e.sprite)return;const i=this.alpha;this.alpha=1,t.batch.flush();const s=this.getLocalBounds(new Oa,!0);if(null!==(r=this.filters)&&void 0!==r&&r.length){const t=this.filters[0].padding;s.pad(t)}const o=this.cacheAsBitmapResolution||t.resolution;s.ceil(o),s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o);const a=t.renderTexture.current,l=t.renderTexture.sourceFrame.clone(),u=t.renderTexture.destinationFrame.clone(),h=t.projection.transform,c=Ll.create({width:s.width,height:s.height,resolution:o,multisample:null!==(n=this.cacheAsBitmapMultisample)&&void 0!==n?n:t.multisample}),d="cacheAsBitmap_".concat(Vo());this._cacheData.textureCacheId=d,va.addToCache(c.baseTexture,d),Nl.addToCache(c,d);const f=this.transform.localTransform.copyTo(mh).invert().translate(-s.x,-s.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=h,t.renderTexture.bind(a,l,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const p=new ph(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-s.x/s.width,p.anchor.y=-s.y/s.height,p.alpha=i,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)},oh.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},oh.prototype._initCachedDisplayObjectCanvas=function(t){var e;if(null!==(e=this._cacheData)&&void 0!==e&&e.sprite)return;const r=this.getLocalBounds(new Oa,!0),n=this.alpha;this.alpha=1;const i=t.canvasContext.activeContext,s=t._projTransform,o=this.cacheAsBitmapResolution||t.resolution;r.ceil(o),r.width=Math.max(r.width,1/o),r.height=Math.max(r.height,1/o);const a=Ll.create({width:r.width,height:r.height,resolution:o}),l="cacheAsBitmap_".concat(Vo());this._cacheData.textureCacheId=l,va.addToCache(a.baseTexture,l),Nl.addToCache(a,l);const u=mh;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=r.x,u.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:u,skipUpdateTransform:!1}),t.canvasContext.activeContext=i,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new ph(a);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-r.x/r.width,h.anchor.y=-r.y/r.height,h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)},oh.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},oh.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},oh.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,va.removeFromCache(this._cacheData.textureCacheId),Nl.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},oh.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},oh.prototype.name=null,ch.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const e=this.children[r];if(!e.getChildByName)continue;const n=e.getChildByName(t,!0);if(n)return n}return null},oh.prototype.getGlobalPosition=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ka,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};const vh={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},yh=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");class _h extends El{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:El.defaultResolution,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;const s=function(t,e){const r=Math.ceil(t/2);let n,i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",s="";n=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let t=n.replace("%index%",o.toString());t=t.replace("%sampleIndex%","".concat(o-(r-1),".0")),s+=t,s+="\n"}return i=i.replace("%blur%",s),i=i.replace("%size%",t.toString()),i}(i,t),o=function(t){const e=vh[t],r=e.length;let n,i=yh,s="";for(let o=0;o<t;o++){let i="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());n=o,o>=r&&(n=t-o-1),i=i.replace("%value%",e[n].toString()),s+=i,s+="\n"}return i=i.replace("%blur%",s),i=i.replace("%size%",t.toString()),i}(i);super(s,o),this.horizontal=t,this.resolution=n,this._quality=0,this.quality=r,this.blur=e}apply(t,e,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{const i=t.getFilterTexture(),s=t.renderer;let o=e,a=i;this.state.blend=!1,t.applyFilter(this,o,a,ws.CLEAR);for(let e=1;e<this.passes-1;e++){t.bindAndClear(o,ws.BLIT),this.uniforms.uSampler=a;const e=a;a=o,o=e,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,n),t.returnFilterTexture(i)}}get blur(){return this.strength}set blur(t){this.padding=1+2*Math.abs(t),this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class bh extends El{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Wu,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",t),this.alpha=1}_loadMatrix(t){let e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e}_multiply(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}tint(t,e){const[r,n,i]=No.shared.setValue(t).toArray(),s=[r,0,0,0,0,0,n,0,0,0,0,0,i,0,0,0,0,0,1,0];this._loadMatrix(s,e)}greyscale(t,e){const r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}blackAndWhite(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)}hue(t,e){t=(t||0)/180*Math.PI;const r=Math.cos(t),n=Math.sin(t),i=1/3,s=(0,Math.sqrt)(i),o=[r+(1-r)*i,i*(1-r)-s*n,i*(1-r)+s*n,0,0,i*(1-r)+s*n,r+i*(1-r),i*(1-r)-s*n,0,0,i*(1-r)-s*n,i*(1-r)+s*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(o,e)}contrast(t,e){const r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)}saturate(){let t=arguments.length>1?arguments[1]:void 0;const e=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/3+1,r=-.5*(e-1),n=[e,r,r,0,0,r,e,r,0,0,r,r,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}desaturate(){this.saturate(-1)}negative(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)}sepia(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)}technicolor(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)}polaroid(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)}toBGR(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)}kodachrome(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)}browni(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)}vintage(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)}colorTone(t,e,r,n,i){t=t||.2,e=e||.15,r=r||16770432,n=n||3375104;const s=No.shared,[o,a,l]=s.setValue(r).toArray(),[u,h,c]=s.setValue(n).toArray(),d=[.3,.59,.11,0,0,o,a,l,t,0,u,h,c,e,0,o-u,a-h,l-c,0,0];this._loadMatrix(d,i)}night(t,e){const r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}predator(t,e){const r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)}lsd(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}bh.prototype.grayscale=bh.prototype.greyscale;const xh={AlphaFilter:class extends El{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;super("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}},BlurFilter:class extends El{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:El.defaultResolution,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;super(),this._repeatEdgePixels=!1,this.blurXFilter=new _h(!0,t,e,r,n),this.blurYFilter=new _h(!1,t,e,r,n),this.resolution=r,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,r,n){const i=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(i&&s){const i=t.getFilterTexture();this.blurXFilter.apply(t,e,i,ws.CLEAR),this.blurYFilter.apply(t,i,r,n),t.returnFilterTexture(i)}else s?this.blurYFilter.apply(t,e,r,n):this.blurXFilter.apply(t,e,r,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}},BlurFilterPass:_h,ColorMatrixFilter:bh,DisplacementFilter:class extends El{constructor(t,e){const r=new Ua;t.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=r,null==e&&(e=20),this.scale=new ka(e,e)}apply(t,e,r,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const i=this.maskSprite.worldTransform,s=Math.sqrt(i.a*i.a+i.b*i.b),o=Math.sqrt(i.c*i.c+i.d*i.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=i.a/s,this.uniforms.rotation[1]=i.b/s,this.uniforms.rotation[2]=i.c/o,this.uniforms.rotation[3]=i.d/o),t.applyFilter(this,e,r,n)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}},FXAAFilter:class extends El{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}},NoiseFilter:class extends El{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();super(Wu,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}};Object.entries(xh).forEach((t=>{let[e,r]=t;Object.defineProperty(xh,e,{get:()=>(Zs("7.1.0","filters.".concat(e," has moved to ").concat(e)),r)})}));const wh=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(zu.system.add(this.tickerUpdate,this,Bu.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(zu.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===t.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}};class Eh{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Eh.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ka,this.page=new ka,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,r,n,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Th extends Eh{constructor(){super(...arguments),this.client=new ka,this.movement=new ka,this.offset=new ka,this.global=new ka,this.screen=new ka}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,r,n,i,s,o,a,l,u,h,c,d,f,p){throw new Error("Method not implemented.")}}class Sh extends Th{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ah extends Th{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ah.DOM_DELTA_PIXEL=0,Ah.DOM_DELTA_LINE=1,Ah.DOM_DELTA_PAGE=2;const Ch=new ka,Rh=new ka;class Ph{constructor(t){this.dispatch=new $s,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort(((t,e)=>t.priority-e.priority))}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let r=0,n=e.length;r<n;r++)e[r].fn(t);else console.warn("[EventBoundary]: Event mapping not defined for ".concat(t.type))}hitTest(t,e){wh.pauseUpdate=!0;const r=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,Ch.set(t,e),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(t,e){if(!t.target)return;const r=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let n=0,i=r.length-1;n<i;n++)if(t.currentTarget=r[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(let n=r.length-2;n>=0;n--)if(t.currentTarget=r[n],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0===r.length)return;t.eventPhase=t.BUBBLING_PHASE;const n=Array.isArray(e)?e:[e];for(let i=r.length-1;i>=0;i--)n.forEach((e=>{t.currentTarget=r[i],this.notifyTarget(t,e)}))}propagationPath(t){const e=[t];for(let r=0;r<2048&&t!==this.rootTarget;r++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!1;if(this._interactivePrune(t))return null;if(("dynamic"===t.eventMode||"dynamic"===e)&&(wh.pauseUpdate=!1),t.interactiveChildren&&t.children){const a=t.children;for(let l=a.length-1;l>=0;l--){const u=a[l],h=this.hitTestMoveRecursive(u,this._isInteractive(e)?e:u.eventMode,r,n,i,s||i(t,r));if(h){if(h.length>0&&!h[h.length-1].parent)continue;const e=t.isInteractive();(h.length>0||e)&&(e&&this._allInteractiveElements.push(t),h.push(t)),0===this._hitElements.length&&(this._hitElements=h),o=!0}}}const a=this._isInteractive(e),l=t.isInteractive();return a&&l&&this._allInteractiveElements.push(t),s||this._hitElements.length>0?null:o?this._hitElements:a&&!i(t,r)&&n(t,r)?l?[t]:[]:null}hitTestRecursive(t,e,r,n,i){if(this._interactivePrune(t)||i(t,r))return null;if(("dynamic"===t.eventMode||"dynamic"===e)&&(wh.pauseUpdate=!1),t.interactiveChildren&&t.children){const s=t.children;for(let o=s.length-1;o>=0;o--){const a=s[o],l=this.hitTestRecursive(a,this._isInteractive(e)?e:a.eventMode,r,n,i);if(l){if(l.length>0&&!l[l.length-1].parent)continue;const e=t.isInteractive();return(l.length>0||e)&&l.push(t),l}}}const s=this._isInteractive(e),o=t.isInteractive();return s&&n(t,r)?o?[t]:[]:null}_isInteractive(t){return"static"===t||"dynamic"===t}_interactivePrune(t){return!(t&&!t.isMask&&t.visible&&t.renderable&&"none"!==t.eventMode&&("passive"!==t.eventMode||t.interactiveChildren)&&!t.isMask)}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,Rh),!t.hitArea.contains(Rh.x,Rh.y)))return!0;if(t._mask){var r;const n=t._mask.isMaskData?t._mask.maskObject:t._mask;if(n&&(null===(r=n.containsPoint)||void 0===r||!r.call(n,e)))return!0}return!1}hitTestFn(t,e){return"passive"!==t.eventMode&&(!!t.hitArea||!!t.containsPoint&&t.containsPoint(e))}notifyTarget(t,e){var r,n,i;e=null!==(r=e)&&void 0!==r?r:t.type;const s="on".concat(e);null===(n=(i=t.currentTarget)[s])||void 0===n||n.call(i,t);const o=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?"".concat(e,"capture"):e;this.notifyListeners(t,o),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof Sh))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)this.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){const t=2===e.button;this.dispatchEvent(e,t?"rightdown":"mousedown")}this.trackingData(t.pointerId).pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){var e,r,n;if(!(t instanceof Sh))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const i=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const s="mouse"===i.pointerType||"pen"===i.pointerType,o=this.trackingData(t.pointerId),a=this.findMountedTarget(o.overTargets);if((null===(e=o.overTargets)||void 0===e?void 0:e.length)>0&&a!==i.target){const e="mousemove"===t.type?"mouseout":"pointerout",r=this.createPointerEvent(t,e,a);if(this.dispatchEvent(r,"pointerout"),s&&this.dispatchEvent(r,"mouseout"),!i.composedPath().includes(a)){const e=this.createPointerEvent(t,"pointerleave",a);for(e.eventPhase=e.AT_TARGET;e.target&&!i.composedPath().includes(e.target);)e.currentTarget=e.target,this.notifyTarget(e),s&&this.notifyTarget(e,"mouseleave"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(r)}if(a!==i.target){const e="mousemove"===t.type?"mouseover":"pointerover",r=this.clonePointerEvent(i,e);this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover");let n=null===a||void 0===a?void 0:a.parent;for(;n&&n!==this.rootTarget.parent&&n!==i.target;)n=n.parent;if(!n||n===this.rootTarget.parent){const t=this.clonePointerEvent(i,"pointerenter");for(t.eventPhase=t.AT_TARGET;t.target&&t.target!==a&&t.target!==this.rootTarget.parent;)t.currentTarget=t.target,this.notifyTarget(t),s&&this.notifyTarget(t,"mouseenter"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(r)}const l=[],u=null===(r=this.enableGlobalMoveEvents)||void 0===r||r;this.moveOnAll?l.push("pointermove"):this.dispatchEvent(i,"pointermove"),u&&l.push("globalpointermove"),"touch"===i.pointerType&&(this.moveOnAll?l.splice(1,0,"touchmove"):this.dispatchEvent(i,"touchmove"),u&&l.push("globaltouchmove")),s&&(this.moveOnAll?l.splice(1,0,"mousemove"):this.dispatchEvent(i,"mousemove"),u&&l.push("globalmousemove"),this.cursor=null===(n=i.target)||void 0===n?void 0:n.cursor),l.length>0&&this.all(i,l),this._allInteractiveElements.length=0,this._hitElements.length=0,o.overTargets=i.composedPath(),this.freeEvent(i)}mapPointerOver(t){var e;if(!(t instanceof Sh))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const r=this.trackingData(t.pointerId),n=this.createPointerEvent(t),i="mouse"===n.pointerType||"pen"===n.pointerType;this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),"mouse"===n.pointerType&&(this.cursor=null===(e=n.target)||void 0===e?void 0:e.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(t){if(!(t instanceof Sh))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId);if(e.overTargets){const r="mouse"===t.pointerType||"pen"===t.pointerType,n=this.findMountedTarget(e.overTargets),i=this.createPointerEvent(t,"pointerout",n);this.dispatchEvent(i),r&&this.dispatchEvent(i,"mouseout");const s=this.createPointerEvent(t,"pointerleave",n);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;e.overTargets=null,this.freeEvent(i),this.freeEvent(s)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Sh))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=performance.now(),r=this.createPointerEvent(t);if(this.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)this.dispatchEvent(r,"touchend");else if("mouse"===r.pointerType||"pen"===r.pointerType){const t=2===r.button;this.dispatchEvent(r,t?"rightup":"mouseup")}const n=this.trackingData(t.pointerId),i=this.findMountedTarget(n.pressTargetsByButton[t.button]);let s=i;if(i&&!r.composedPath().includes(i)){let e=i;for(;e&&!r.composedPath().includes(e);){if(r.currentTarget=e,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)this.notifyTarget(r,"touchendoutside");else if("mouse"===r.pointerType||"pen"===r.pointerType){const t=2===r.button;this.notifyTarget(r,t?"rightupoutside":"mouseupoutside")}e=e.parent}delete n.pressTargetsByButton[t.button],s=e}if(s){const i=this.clonePointerEvent(r,"click");i.target=s,i.path=null,n.clicksByButton[t.button]||(n.clicksByButton[t.button]={clickCount:0,target:i.target,timeStamp:e});const o=n.clicksByButton[t.button];if(o.target===i.target&&e-o.timeStamp<200?++o.clickCount:o.clickCount=1,o.target=i.target,o.timeStamp=e,i.detail=o.clickCount,"mouse"===i.pointerType){const t=2===i.button;this.dispatchEvent(i,t?"rightclick":"click")}else"touch"===i.pointerType&&this.dispatchEvent(i,"tap");this.dispatchEvent(i,"pointertap"),this.freeEvent(i)}this.freeEvent(r)}mapPointerUpOutside(t){if(!(t instanceof Sh))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),r=this.findMountedTarget(e.pressTargetsByButton[t.button]),n=this.createPointerEvent(t);if(r){let i=r;for(;i;)n.currentTarget=i,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType?this.notifyTarget(n,"touchendoutside"):("mouse"===n.pointerType||"pen"===n.pointerType)&&this.notifyTarget(n,2===n.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(n)}mapWheel(t){if(!(t instanceof Ah))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let r=1;r<t.length&&t[r].parent===e;r++)e=t[r];return e}createPointerEvent(t,e,r){var n;const i=this.allocateEvent(Sh);return this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=null!==(n=null!==r&&void 0!==r?r:this.hitTest(i.global.x,i.global.y))&&void 0!==n?n:this._hitElements[0],"string"==typeof e&&(i.type=e),i}createWheelEvent(t){const e=this.allocateEvent(Ah);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const r=this.allocateEvent(Sh);return r.nativeEvent=t.nativeEvent,r.originalEvent=t.originalEvent,this.copyPointerData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.target=t.target,r.path=t.composedPath().slice(),r.type=null!==e&&void 0!==e?e:r.type,r}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof Sh&&e instanceof Sh&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof Th&&e instanceof Th&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const r=t.currentTarget._events[e];if(r&&t.currentTarget.isInteractive())if("fn"in r)r.once&&t.currentTarget.removeListener(e,r.fn,void 0,!0),r.fn.call(r.context,t);else for(let n=0,i=r.length;n<i&&!t.propagationImmediatelyStopped;n++)r[n].once&&t.currentTarget.removeListener(e,r[n].fn,void 0,!0),r[n].fn.call(r[n].context,t)}}const Ih={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Mh=class t{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new Ph(null),wh.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Sh(null),this.rootWheelEvent=new Ah(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...t.defaultEventFeatures},{set:(t,e,r)=>("globalMove"===e&&(this.rootBoundary.enableGlobalMoveEvents=r),t[e]=r,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var r,n;const{view:i,resolution:s}=this.renderer;this.setTargetElement(i),this.resolution=s,t._defaultEventMode=null!==(r=e.eventMode)&&void 0!==r?r:"auto",Object.assign(this.features,null!==(n=e.eventFeatures)&&void 0!==n?n:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const t=e[r],n=this.bootstrapEvent(this.rootPointerEvent,t);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,wh.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const t=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const t=this.bootstrapEvent(this.rootPointerEvent,n[i]);t.type+=r,this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const t=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,wh.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;wh.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;wh.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const n=t.changedTouches[r];typeof n.button>"u"&&(n.button=0),typeof n.buttons>"u"&&(n.buttons=1),typeof n.isPrimary>"u"&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),typeof n.width>"u"&&(n.width=n.radiusX||1),typeof n.height>"u"&&(n.height=n.radiusY||1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="touch"),typeof n.pointerId>"u"&&(n.pointerId=n.identifier||0),typeof n.pressure>"u"&&(n.pressure=n.force||.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),typeof n.layerX>"u"&&(n.layerX=n.offsetX=n.clientX),typeof n.layerY>"u"&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,n.type=t.type,e.push(n)}else if(globalThis.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof globalThis.PointerEvent))e.push(t);else{const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=1),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=Ih[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};Mh.extension={name:"events",type:[ra.RendererSystem,ra.CanvasRendererSystem]},Mh.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let kh=Mh;function Dh(t){return"dynamic"===t||"static"===t}sa.add(kh);const Oh={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var t;return null!==(t=this._internalInteractive)&&void 0!==t?t:Dh(kh.defaultEventMode)},set interactive(t){Zs("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){var t;return null!==(t=this._internalEventMode)&&void 0!==t?t:kh.defaultEventMode},set eventMode(t){this._internalInteractive=Dh(t),this._internalEventMode=t},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n="function"==typeof e?void 0:e;t="boolean"==typeof r&&r||"object"==typeof r&&r.capture?"".concat(t,"capture"):t,e="function"==typeof e?e:e.handleEvent,this.on(t,e,n)},removeEventListener(t,e,r){const n="function"==typeof e?void 0:e;t="boolean"==typeof r&&r||"object"==typeof r&&r.capture?"".concat(t,"capture"):t,e="function"==typeof e?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof Eh))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};oh.mixin(Oh);oh.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});const Nh=100;class Lh{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(qs.tablet||qs.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width="".concat(Nh,"px"),e.style.height="".concat(Nh,"px"),e.style.position="absolute",e.style.top="".concat(0,"px"),e.style.left="".concat(0,"px"),e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width="".concat(1,"px"),t.style.height="".concat(1,"px"),t.style.position="absolute",t.style.top="".concat(-1e3,"px"),t.style.left="".concat(-1e3,"px"),t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))}deactivate(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}update(){const t=performance.now();if(qs.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:r,width:n,height:i}=this.renderer.view.getBoundingClientRect(),{width:s,height:o,resolution:a}=this.renderer,l=n/s*a,u=i/o*a;let h=this.div;h.style.left="".concat(e,"px"),h.style.top="".concat(r,"px"),h.style.width="".concat(s,"px"),h.style.height="".concat(o,"px");for(let c=0;c<this.children.length;c++){const t=this.children[c];if(t.renderId!==this.renderId)t._accessibleActive=!1,jo(this.children,c,1),this.div.removeChild(t._accessibleDiv),this.pool.push(t._accessibleDiv),t._accessibleDiv=null,c--;else{h=t._accessibleDiv;let e=t.hitArea;const r=t.worldTransform;t.hitArea?(h.style.left="".concat((r.tx+e.x*r.a)*l,"px"),h.style.top="".concat((r.ty+e.y*r.d)*u,"px"),h.style.width="".concat(e.width*r.a*l,"px"),h.style.height="".concat(e.height*r.d*u,"px")):(e=t.getBounds(),this.capHitArea(e),h.style.left="".concat(e.x*l,"px"),h.style.top="".concat(e.y*u,"px"),h.style.width="".concat(e.width*l,"px"),h.style.height="".concat(e.height*u,"px"),h.title!==t.accessibleTitle&&null!==t.accessibleTitle&&(h.title=t.accessibleTitle),h.getAttribute("aria-label")!==t.accessibleHint&&null!==t.accessibleHint&&h.setAttribute("aria-label",t.accessibleHint)),(t.accessibleTitle!==h.title||t.tabIndex!==h.tabIndex)&&(h.title=t.accessibleTitle,h.tabIndex=t.tabIndex,this.debug&&this.updateDebugHTML(h))}}this.renderId++}updateDebugHTML(t){t.innerHTML="type: ".concat(t.type,"</br> title : ").concat(t.title,"</br> tabIndex: ").concat(t.tabIndex)}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:r}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>r&&(t.height=r-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width="".concat(Nh,"px"),e.style.height="".concat(Nh,"px"),e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject ".concat(t.tabIndex)),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:r}=t.target,n=this.renderer.events.rootBoundary,i=Object.assign(new Eh(n),{target:r});n.rootTarget=this.renderer.lastObjectRendered,e.forEach((t=>n.dispatchEvent(i,t)))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){9===t.keyCode&&this.activate()}_onMouseMove(t){0===t.movementX&&0===t.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Lh.extension={name:"accessibility",type:[ra.RendererPlugin,ra.CanvasRendererPlugin]},sa.add(Lh);const Fh=class t{constructor(e){this.stage=new ch,e=Object.assign({forceCanvas:!1},e),this.renderer=function(t){for(const e of Hu)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}(e),t._plugins.forEach((t=>{t.init.call(this,e)}))}render(){this.renderer.render(this.stage)}get view(){var t;return null===(t=this.renderer)||void 0===t?void 0:t.view}get screen(){var t;return null===(t=this.renderer)||void 0===t?void 0:t.screen}destroy(e,r){const n=t._plugins.slice(0);n.reverse(),n.forEach((t=>{t.destroy.call(this)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Fh._plugins=[];let Bh=Fh;sa.handleByList(ra.Application,Bh._plugins);class Uh{static init(t){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let t,e;if(this.cancelResize(),this._resizeTo===globalThis.window)t=globalThis.innerWidth,e=globalThis.innerHeight;else{const{clientWidth:r,clientHeight:n}=this._resizeTo;t=r,e=n}this.renderer.resize(t,e),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Uh.extension=ra.Application,sa.add(Uh);const Gh={loader:ra.LoadParser,resolver:ra.ResolveParser,cache:ra.CacheParser,detection:ra.DetectionParser};sa.handle(ra.Asset,(t=>{const e=t.ref;Object.entries(Gh).filter((t=>{let[r]=t;return!!e[r]})).forEach((t=>{var r;let[n,i]=t;return sa.add(Object.assign(e[n],{extension:null!==(r=e[n].extension)&&void 0!==r?r:i}))}))}),(t=>{const e=t.ref;Object.keys(Gh).filter((t=>!!e[t])).forEach((t=>sa.remove(e[t])))}));class zh{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach((t=>{this._assetList.push(t)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<e;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function jh(t,e){const r=t.split("?")[0],n=eo.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Hh=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(t)||(t=[t]),e?t.map((t=>"string"==typeof t||r?e(t):t)):t};const Wh=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn("[Assets] Asset id ".concat(t," was not found in the Cache")),e}set(t,e){const r=Hh(t);let n;for(let o=0;o<this.parsers.length;o++){const t=this.parsers[o];if(t.test(e)){n=t.getCacheableAssets(r,e);break}}n||(n={},r.forEach((t=>{n[t]=e})));const i=Object.keys(n),s={cacheKeys:i,keys:r};if(r.forEach((t=>{this._cacheMap.set(t,s)})),i.forEach((t=>{this._cache.has(t)&&this._cache.get(t)!==e&&console.warn("[Cache] already has key:",t),this._cache.set(t,n[t])})),e instanceof Nl){const t=e;r.forEach((e=>{t.baseTexture!==Nl.EMPTY.baseTexture&&va.addToCache(t.baseTexture,e),Nl.addToCache(t,e)}))}}remove(t){if(!this._cacheMap.has(t))return void console.warn("[Assets] Asset id ".concat(t," was not found in the Cache"));const e=this._cacheMap.get(t);e.cacheKeys.forEach((t=>{this._cache.delete(t)})),e.keys.forEach((t=>{this._cacheMap.delete(t)}))}get parsers(){return this._parsers}},Vh=t=>!Array.isArray(t);class Xh{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,r)=>(this._parsersValidated=!1,t[e]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const r={promise:null,parser:null};return r.promise=(async()=>{let n=null,i=null;if(e.loadParser&&(i=this._parserHash[e.loadParser],i||console.warn('[Assets] specified load parser "'.concat(e.loadParser,'" not found while loading ').concat(t))),!i){for(let r=0;r<this.parsers.length;r++){var s;const n=this.parsers[r];if(n.load&&null!==(s=n.test)&&void 0!==s&&s.call(n,t,e,this)){i=n;break}}if(!i)return console.warn("[Assets] ".concat(t," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}n=await i.load(t,e,this),r.parser=i;for(let t=0;t<this.parsers.length;t++){var o;const i=this.parsers[t];i.parse&&i.parse&&await(null===(o=i.testParse)||void 0===o?void 0:o.call(i,n,e,this))&&(n=await i.parse(n,e,this)||n,r.parser=i)}return n})(),r}async load(t,e){this._parsersValidated||this._validateParsers();let r=0;const n={},i=Vh(t),s=Hh(t,(t=>({alias:[t],src:t}))),o=s.length,a=s.map((async t=>{const i=eo.toAbsolute(t.src);if(!n[t.src])try{this.promiseCache[i]||(this.promiseCache[i]=this._getLoadPromiseAndParser(i,t)),n[t.src]=await this.promiseCache[i].promise,e&&e(++r/o)}catch(s){throw delete this.promiseCache[i],delete n[t.src],new Error("[Loader.load] Failed to load ".concat(i,".\n").concat(s))}}));return await Promise.all(a),i?n[s[0].src]:n}async unload(t){const e=Hh(t,(t=>({alias:[t],src:t}))).map((async t=>{const e=eo.toAbsolute(t.src),r=this.promiseCache[e];if(r){var n,i;const s=await r.promise;delete this.promiseCache[e],null===(n=r.parser)||void 0===n||null===(i=n.unload)||void 0===i||i.call(n,s,t,this)}}));await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((t=>t.name)).reduce(((t,e)=>(t[e.name]&&console.warn('[Assets] loadParser name conflict "'.concat(e.name,'"')),{...t,[e.name]:e})),{})}}var Yh=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Yh||{});function qh(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith("data:".concat(r)))return!0;return!1}return t.startsWith("data:".concat(e))}const $h={extension:{type:ra.LoadParser,priority:Yh.Low},name:"loadJson",test:t=>qh(t,"application/json")||jh(t,".json"),load:async t=>await(await Ps.ADAPTER.fetch(t)).json()};sa.add($h);const Kh={name:"loadTxt",extension:{type:ra.LoadParser,priority:Yh.Low},test:t=>qh(t,"text/plain")||jh(t,".txt"),load:async t=>await(await Ps.ADAPTER.fetch(t)).text()};sa.add(Kh);const Qh=["normal","bold","100","200","300","400","500","600","700","800","900"],Zh=[".ttf",".otf",".woff",".woff2"],Jh=["font/ttf","font/otf","font/woff","font/woff2"],tc=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;const ec=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;const rc={extension:{type:ra.LoadParser,priority:Yh.Low},name:"loadWebFont",test:t=>qh(t,Jh)||jh(t,Zh),async load(t,e){const r=Ps.ADAPTER.getFontFaceSet();if(r){var n,i,s,o,a;const u=[],h=null!==(n=null===(i=e.data)||void 0===i?void 0:i.family)&&void 0!==n?n:function(t){const e=eo.extname(t),r=eo.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1)));let n=r.length>0;for(const s of r)if(!s.match(tc)){n=!1;break}let i=r.join(" ");return n||(i='"'.concat(i.replace(/[\\"]/g,"\\$&"),'"')),i}(t),c=null!==(s=null===(o=e.data)||void 0===o||null===(o=o.weights)||void 0===o?void 0:o.filter((t=>Qh.includes(t))))&&void 0!==s?s:["normal"],d=null!==(a=e.data)&&void 0!==a?a:{};for(let e=0;e<c.length;e++){const n=c[e],i=new FontFace(h,"url(".concat((l=t,ec.test(l)?l:encodeURI(l)),")"),{...d,weight:n});await i.load(),r.add(i),u.push(i)}return 1===u.length?u[0]:u}var l;return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach((t=>Ps.ADAPTER.getFontFaceSet().delete(t)))}};sa.add(rc);let nc,ic=0;const sc={id:"checkImageBitmap",code:"\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=","');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    ")},oc="\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };";let ac;const lc=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((t=>{const e=URL.createObjectURL(new Blob([sc.code],{type:"application/javascript"})),r=new Worker(e);r.addEventListener("message",(n=>{r.terminate(),URL.revokeObjectURL(e),t(n.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===nc&&(nc=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<nc&&(ac||(ac=URL.createObjectURL(new Blob([oc],{type:"application/javascript"}))),this._createdWorkers++,t=new Worker(ac),t.addEventListener("message",(t=>{this.complete(t.data),this.returnWorker(t.target),this.next()}))),t}returnWorker(t){this.workerPool.push(t)}complete(t){void 0!==t.error?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const r=new Promise(((r,n)=>{this.queue.push({id:t,arguments:e,resolve:r,reject:n})}));return this.next(),r}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),r=e.id;this.resolveHash[ic]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:ic++,id:r})}};function uc(t,e,r){t.resource.internal=!0;const n=new Nl(t),i=()=>{delete e.promiseCache[r],Wh.has(r)&&Wh.remove(r)};return n.baseTexture.once("destroyed",(()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())})),n.once("destroyed",(()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())})),n}const hc=[".jpeg",".jpg",".png",".webp",".avif"],cc=["image/jpeg","image/png","image/webp","image/avif"];const dc={name:"loadTextures",extension:{type:ra.LoadParser,priority:Yh.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:t=>qh(t,cc)||jh(t,hc),async load(t,e,r){var n,i;const s=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let o;o=s?this.config.preferWorkers&&await lc.isImageBitmapSupported()?await lc.loadImageBitmap(t):await async function(t){const e=await Ps.ADAPTER.fetch(t);if(!e.ok)throw new Error("[loadImageBitmap] Failed to fetch ".concat(t,": ").concat(e.status," ").concat(e.statusText));const r=await e.blob();return await createImageBitmap(r)}(t):await new Promise(((e,r)=>{const n=new Image;n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?e(n):(n.onload=()=>e(n),n.onerror=t=>r(t))}));const a={...e.data};null!==(n=a.resolution)&&void 0!==n||(a.resolution=ea(t)),s&&void 0===(null===(i=a.resourceOptions)||void 0===i?void 0:i.ownsImageBitmap)&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const l=new va(o,a);return l.resource.src=t,uc(l,r,t)},unload(t){t.destroy(!0)}};sa.add(dc);const fc={extension:{type:ra.LoadParser,priority:Yh.High},name:"loadSVG",test:t=>qh(t,"image/svg+xml")||jh(t,".svg"),testParse:async t=>rh.test(t),async parse(t,e,r){var n;const i=new rh(t,null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.resourceOptions);await i.load();const s=new va(i,{resolution:ea(t),...null===e||void 0===e?void 0:e.data});return s.resource.src=e.src,uc(s,r,e.src)},load:async(t,e)=>(await Ps.ADAPTER.fetch(t)).text(),unload:dc.unload};sa.add(fc);const pc=[".mp4",".m4v",".webm",".ogv"],mc=["video/mp4","video/webm","video/ogg"],gc={name:"loadVideo",extension:{type:ra.LoadParser,priority:Yh.High},config:{defaultAutoPlay:!0},test:t=>qh(t,mc)||jh(t,pc),async load(t,e,r){let n;const i=await(await Ps.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{var o;const i={autoPlay:this.config.defaultAutoPlay,...null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.resourceOptions},a=new ih(s,i);await a.load();const l=new va(a,{alphaMode:await io(),resolution:ea(t),...null===e||void 0===e?void 0:e.data});l.resource.src=t,n=uc(l,r,t),n.baseTexture.once("destroyed",(()=>{URL.revokeObjectURL(s)}))}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};function vc(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?vc(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function yc(t){const e=t.match(/\{(.*?)\}/g),r=[];if(e){const n=[];e.forEach((t=>{const e=t.substring(1,t.length-1).split(",");n.push(e)})),vc(t,n,0,e,r)}else r.push(t);return r}sa.add(gc);class _c{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>"".concat(t).concat(this._bundleIdConnector).concat(e),extractAssetIdFromBundle:(t,e)=>e.replace("".concat(t).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){var e,r,n;if(this._bundleIdConnector=null!==(e=t.connector)&&void 0!==e?e:this._bundleIdConnector,this._createBundleAssetId=null!==(r=t.createBundleAssetId)&&void 0!==r?r:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(n=t.extractAssetIdFromBundle)&&void 0!==n?n:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if("string"==typeof t)this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map((t=>"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t])))).join("&")}}getAlias(t){const{alias:e,name:r,src:n,srcs:i}=t;return Hh(e||r||n||i,(t=>{var e;return"string"==typeof t?t:Array.isArray(t)?t.map((t=>{var e,r;return null!==(e=null!==(r=null===t||void 0===t?void 0:t.src)&&void 0!==r?r:null===t||void 0===t?void 0:t.srcs)&&void 0!==e?e:t})):null!==t&&void 0!==t&&t.src||null!==t&&void 0!==t&&t.srcs?null!==(e=t.src)&&void 0!==e?e:t.srcs:t}),!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach((t=>{this.addBundle(t.name,t.assets)}))}addBundle(t,e){const r=[];Array.isArray(e)?e.forEach((e=>{var n,i;const s=null!==(n=e.src)&&void 0!==n?n:e.srcs,o=null!==(i=e.alias)&&void 0!==i?i:e.name;let a;if("string"==typeof o){const e=this._createBundleAssetId(t,o);r.push(e),a=[o,e]}else{const e=o.map((e=>this._createBundleAssetId(t,e)));r.push(...e),a=[...o,...e]}this.add({...e,alias:a,src:s})})):Object.keys(e).forEach((n=>{const i=[n,this._createBundleAssetId(t,n)];if("string"==typeof e[n])this.add({alias:i,src:e[n]});else if(Array.isArray(e[n]))this.add({alias:i,src:e[n]});else{var s;const t=e[n],r=null!==(s=t.src)&&void 0!==s?s:t.srcs;this.add({...t,alias:i,src:Array.isArray(r)?r:[r]})}r.push(...i)})),this._bundles[t]=r}add(t,e,r,n,i){const s=[];let o;"string"==typeof t||Array.isArray(t)&&"string"==typeof t[0]?(Zs("7.2.0","Assets.add now uses an object instead of individual parameters.\nPlease use Assets.add({ alias, src, data, format, loadParser }) instead."),s.push({alias:t,src:e,data:r,format:n,loadParser:i})):Array.isArray(t)?s.push(...t):s.push(t),o=t=>{this.hasKey(t)&&console.warn("[Resolver] already has key: ".concat(t," overwriting"))},Hh(s).forEach((t=>{const{src:e,srcs:r}=t;let{data:n,format:i,loadParser:s}=t;const a=Hh(e||r).map((t=>"string"==typeof t?yc(t):Array.isArray(t)?t:[t])),l=this.getAlias(t);Array.isArray(l)?l.forEach(o):o(l);const u=[];a.forEach((t=>{t.forEach((t=>{var e,r,o;let a={};if("object"!=typeof t){a.src=t;for(let e=0;e<this._parsers.length;e++){const r=this._parsers[e];if(r.test(t)){a=r.parse(t);break}}}else n=null!==(e=t.data)&&void 0!==e?e:n,i=null!==(r=t.format)&&void 0!==r?r:i,s=null!==(o=t.loadParser)&&void 0!==o?o:s,a={...a,...t};if(!l)throw new Error("[Resolver] alias is undefined for this asset: ".concat(a.src));a=this.buildResolvedAsset(a,{aliases:l,data:n,format:i,loadParser:s}),u.push(a)}))})),l.forEach((t=>{this._assetMap[t]=u}))}))}resolveBundle(t){const e=Vh(t);t=Hh(t);const r={};return t.forEach((t=>{const e=this._bundles[t];if(e){const n=this.resolve(e),i={};for(const e in n){const r=n[e];i[this._extractAssetIdFromBundle(t,e)]=r}r[t]=i}})),e?r[t[0]]:r}resolveUrl(t){const e=this.resolve(t);if("string"!=typeof t){const t={};for(const r in e)t[r]=e[r].src;return t}return e.src}resolve(t){const e=Vh(t);t=Hh(t);const r={};return t.forEach((t=>{if(!this._resolverHash[t])if(this._assetMap[t]){var e;let r=this._assetMap[t];const n=r[0],i=this._getPreferredOrder(r);null!==i&&void 0!==i&&i.priority.forEach((t=>{i.params[t].forEach((e=>{const n=r.filter((r=>!!r[t]&&r[t]===e));n.length&&(r=n)}))})),this._resolverHash[t]=null!==(e=r[0])&&void 0!==e?e:n}else this._resolverHash[t]=this.buildResolvedAsset({alias:[t],src:t},{});r[t]=this._resolverHash[t]})),e?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const e=t[0],r=this._preferredOrder.find((t=>t.params.format.includes(e.format)));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return"".concat(t).concat(e).concat(this._defaultSearchParams)}buildResolvedAsset(t,e){var r;const{aliases:n,data:i,loadParser:s,format:o}=e;return(this._basePath||this._rootPath)&&(t.src=eo.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=null!==(r=null!==n&&void 0!==n?n:t.alias)&&void 0!==r?r:[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...i||{},...t.data},t.loadParser=null!==s&&void 0!==s?s:t.loadParser,t.format=null!==o&&void 0!==o?o:eo.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}const bc=new class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new _c,this.loader=new Xh,this.cache=Wh,this._backgroundLoader=new zh(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(){var t,e,r;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._initialized)return void console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");if(this._initialized=!0,n.defaultSearchParams&&this.resolver.setDefaultSearchParams(n.defaultSearchParams),n.basePath&&(this.resolver.basePath=n.basePath),n.bundleIdentifier&&this.resolver.setBundleIdentifier(n.bundleIdentifier),n.manifest){let t=n.manifest;"string"==typeof t&&(t=await this.load(t)),this.resolver.addManifest(t)}const i=null!==(t=null===(e=n.texturePreference)||void 0===e?void 0:e.resolution)&&void 0!==t?t:1,s="number"==typeof i?[i]:i,o=await this._detectFormats({preferredFormats:null===(r=n.texturePreference)||void 0===r?void 0:r.format,skipDetections:n.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:s}}),n.preferences&&this.setPreferences(n.preferences)}add(t,e,r,n,i){this.resolver.add(t,e,r,n,i)}async load(t,e){this._initialized||await this.init();const r=Vh(t),n=Hh(t).map((t=>{if("string"!=typeof t){const e=this.resolver.getAlias(t);return e.some((t=>!this.resolver.hasKey(t)))&&this.add(t),Array.isArray(e)?e[0]:e}return this.resolver.hasKey(t)||this.add({alias:t,src:t}),t})),i=this.resolver.resolve(n),s=await this._mapLoadToResolve(i,e);return r?s[n[0]]:s}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let r=!1;"string"==typeof t&&(r=!0,t=[t]);const n=this.resolver.resolveBundle(t),i={},s=Object.keys(n);let o=0,a=0;const l=()=>{null===e||void 0===e||e(++o/a)},u=s.map((t=>{const e=n[t];return a+=Object.keys(e).length,this._mapLoadToResolve(e,l).then((e=>{i[t]=e}))}));return await Promise.all(u),r?i[t[0]]:i}async backgroundLoad(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach((t=>{this._backgroundLoader.add(Object.values(t))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if("string"==typeof t)return Wh.get(t);const e={};for(let r=0;r<t.length;r++)e[r]=Wh.get(t[r]);return e}async _mapLoadToResolve(t,e){const r=Object.values(t),n=Object.keys(t);this._backgroundLoader.active=!1;const i=await this.loader.load(r,e);this._backgroundLoader.active=!0;const s={};return r.forEach(((t,e)=>{const r=i[t.src],o=[t.src];t.alias&&o.push(...t.alias),s[n[e]]=r,Wh.set(o,r)})),s}async unload(t){this._initialized||await this.init();const e=Hh(t).map((t=>"string"!=typeof t?t.src:t)),r=this.resolver.resolve(e);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=Hh(t);const e=this.resolver.resolveBundle(t),r=Object.keys(e).map((t=>this._unloadFromResolved(e[t])));await Promise.all(r)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach((t=>{Wh.remove(t.src)})),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const r of t.detections)t.skipDetections||await r.test()?e=await r.add(e):t.skipDetections||(e=await r.remove(e));return e=e.filter(((t,r)=>e.indexOf(t)===r)),e}get detections(){return this._detections}get preferWorkers(){return dc.config.preferWorkers}set preferWorkers(t){Zs("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach((e=>{e.config&&Object.keys(e.config).filter((e=>e in t)).forEach((r=>{e.config[r]=t[r]}))}))}};sa.handleByList(ra.LoadParser,bc.loader.parsers).handleByList(ra.ResolveParser,bc.resolver.parsers).handleByList(ra.CacheParser,bc.cache.parsers).handleByList(ra.DetectionParser,bc.detections);const xc={extension:ra.CacheParser,test:t=>Array.isArray(t)&&t.every((t=>t instanceof Nl)),getCacheableAssets:(t,e)=>{const r={};return t.forEach((t=>{e.forEach(((e,n)=>{r[t+(0===n?"":n+1)]=e}))})),r}};async function wc(t){if("Image"in globalThis)return new Promise((e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t}));if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}sa.add(xc);const Ec={extension:{type:ra.DetectionParser,priority:1},test:async()=>wc("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter((t=>"avif"!==t))};sa.add(Ec);const Tc={extension:{type:ra.DetectionParser,priority:0},test:async()=>wc("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter((t=>"webp"!==t))};sa.add(Tc);const Sc=["png","jpg","jpeg"],Ac={extension:{type:ra.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Sc],remove:async t=>t.filter((t=>!Sc.includes(t)))};sa.add(Ac);const Cc="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Rc(t){return!Cc&&""!==document.createElement("video").canPlayType(t)}const Pc={extension:{type:ra.DetectionParser,priority:0},test:async()=>Rc("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter((t=>"webm"!==t))};sa.add(Pc);const Ic={extension:{type:ra.DetectionParser,priority:0},test:async()=>Rc("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter((t=>"mp4"!==t&&"m4v"!==t))};sa.add(Ic);const Mc={extension:{type:ra.DetectionParser,priority:0},test:async()=>Rc("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter((t=>"ogv"!==t))};sa.add(Mc);const kc={extension:ra.ResolveParser,test:dc.test,parse:t=>{var e,r;return{resolution:parseFloat(null!==(e=null===(r=Ps.RETINA_PREFIX.exec(t))||void 0===r?void 0:r[1])&&void 0!==e?e:"1"),format:eo.extname(t).slice(1),src:t}}};sa.add(kc);const Dc=(t,e)=>{const r=e.split("?")[1];return r&&(t+="?".concat(r)),t};var Oc=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Oc||{});const Nc={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Lc,Fc;function Bc(){Fc={s3tc:Lc.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Lc.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Lc.getExtension("WEBGL_compressed_texture_etc"),etc1:Lc.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Lc.getExtension("WEBGL_compressed_texture_pvrtc")||Lc.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Lc.getExtension("WEBGL_compressed_texture_atc"),astc:Lc.getExtension("WEBGL_compressed_texture_astc")}}const Uc={extension:{type:ra.DetectionParser,priority:2},test:async()=>{const t=Ps.ADAPTER.createCanvas().getContext("webgl");return t?(Lc=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Fc||Bc();const e=[];for(const r in Fc)Fc[r]&&e.push(r);return[...e,...t]},remove:async t=>(Fc||Bc(),t.filter((t=>!(t in Fc))))};sa.add(Uc);class Gc extends pa{constructor(t){let e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:1,height:1,autoLoad:!0};"string"==typeof t?(e=t,r=new Uint8Array):(e=null,r=t),super(r,n),this.origin=e,this.buffer=r?new oa(r):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==n.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load||(this._load=fetch(this.origin).then((t=>t.blob())).then((t=>t.arrayBuffer())).then((t=>(this.data=new Uint32Array(t),this.buffer=new oa(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)))),this._load}}class zc extends Gc{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=zc._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||zc._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,r){const n=t.gl;if(!t.context.extensions[this._extension])throw new Error("".concat(this._extension," textures are not supported on the current machine"));if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(let i=0,s=this.levels;i<s;i++){const{levelID:t,levelWidth:e,levelHeight:r,levelBuffer:s}=this._levelBuffers[i];n.compressedTexImage2D(n.TEXTURE_2D,t,this.format,e,r,0,s)}return!0}onBlobLoaded(){this._levelBuffers=zc._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(t,e,r,n,i,s,o){const a=new Array(r);let l=t.byteOffset,u=s,h=o,c=u+n-1&~(n-1),d=h+i-1&~(i-1),f=c*d*Nc[e];for(let p=0;p<r;p++)a[p]={levelID:p,levelWidth:r>1?u:c,levelHeight:r>1?h:d,levelBuffer:new Uint8Array(t.buffer,l,f)},l+=f,u=u>>1||1,h=h>>1||1,c=u+n-1&~(n-1),d=h+i-1&~(i-1),f=c*d*Nc[e];return a}}const jc=124,Hc=3,Wc=4,Vc=7,Xc=19,Yc=2,qc=0,$c=1,Kc=2,Qc=3,Zc={827611204:Oc.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:Oc.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:Oc.COMPRESSED_RGBA_S3TC_DXT5_EXT},Jc={70:Oc.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Oc.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Oc.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Oc.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Oc.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Oc.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Oc.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Oc.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Oc.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};const td=[171,75,84,88,32,49,49,187,13,10,26,10],ed=12,rd=16,nd=24,id=28,sd=36,od=40,ad=44,ld=48,ud=52,hd=56,cd=60,dd=64,fd={[gs.UNSIGNED_BYTE]:1,[gs.UNSIGNED_SHORT]:2,[gs.INT]:4,[gs.UNSIGNED_INT]:4,[gs.FLOAT]:4,[gs.HALF_FLOAT]:8},pd={[ps.RGBA]:4,[ps.RGB]:3,[ps.RG]:2,[ps.RED]:1,[ps.LUMINANCE]:1,[ps.LUMINANCE_ALPHA]:2,[ps.ALPHA]:1},md={[gs.UNSIGNED_SHORT_4_4_4_4]:2,[gs.UNSIGNED_SHORT_5_5_5_1]:2,[gs.UNSIGNED_SHORT_5_6_5]:2};function gd(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=new DataView(e);if(!function(t,e){for(let r=0;r<td.length;r++)if(e.getUint8(r)!==td[r])return console.error("".concat(t," is not a valid *.ktx file!")),!1;return!0}(t,n))return null;const i=67305985===n.getUint32(ed,!0),s=n.getUint32(rd,i),o=n.getUint32(nd,i),a=n.getUint32(id,i),l=n.getUint32(sd,i),u=n.getUint32(od,i)||1,h=n.getUint32(ad,i)||1,c=n.getUint32(ld,i)||1,d=n.getUint32(ud,i),f=n.getUint32(hd,i),p=n.getUint32(cd,i);if(0===u||1!==h)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==c)throw new Error("WebGL does not support array textures");const m=l+3&-4,g=u+3&-4,v=new Array(c);let y,_=l*u;if(0===s&&(_=m*g),y=0!==s?fd[s]?fd[s]*pd[o]:md[s]:Nc[a],void 0===y)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const b=r?function(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(dd+i,r),o=dd+i+4,a=3-(s+3)%4;if(0===s||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&0!==t.getUint8(o+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=(new TextDecoder).decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,h),i+=4+s+a}return n}(n,p,i):null;let x=_*y,w=l,E=u,T=m,S=g,A=dd+p;for(let C=0;C<f;C++){const t=n.getUint32(A,i);let r=A+4;for(let n=0;n<c;n++){let t=v[n];t||(t=v[n]=new Array(f)),t[C]={levelID:C,levelWidth:f>1||0!==s?w:T,levelHeight:f>1||0!==s?E:S,levelBuffer:new Uint8Array(e,r,x)},r+=x}A+=t+4,A=A%4!==0?A+4-A%4:A,w=w>>1||1,E=E>>1||1,T=w+4-1&-4,S=E+4-1&-4,x=T*S*y}return 0!==s?{uncompressed:v.map((t=>{let e=t[0].levelBuffer,r=!1;return s===gs.FLOAT?e=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):s===gs.UNSIGNED_INT?(r=!0,e=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):s===gs.INT&&(r=!0,e=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new pa(e,{width:t[0].levelWidth,height:t[0].levelHeight}),type:s,format:r?vd(o):o}})),kvData:b}:{compressed:v.map((t=>new zc(null,{format:a,width:l,height:u,levels:f,levelBuffers:t}))),kvData:b}}function vd(t){switch(t){case ps.RGBA:return ps.RGBA_INTEGER;case ps.RGB:return ps.RGB_INTEGER;case ps.RG:return ps.RG_INTEGER;case ps.RED:return ps.RED_INTEGER;default:return t}}const yd={extension:{type:ra.LoadParser,priority:Yh.High},name:"loadDDS",test:t=>jh(t,".dds"),async load(t,e,r){const n=function(t){const e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,jc/Uint32Array.BYTES_PER_ELEMENT),n=r[Hc],i=r[Wc],s=r[Vc],o=new Uint32Array(t,Xc*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=o[1];if(4&a){const r=o[Yc];if(808540228!==r){const e=Zc[r],o=new Uint8Array(t,128);return[new zc(o,{format:e,width:i,height:n,levels:s})]}const a=128,l=new Uint32Array(e.buffer,a,20/Uint32Array.BYTES_PER_ELEMENT),u=l[qc],h=l[$c],c=l[Kc],d=l[Qc],f=Jc[u];if(void 0===f)throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(u));if(4===c)throw new Error("DDSParser does not support cubemap textures");if(6===h)throw new Error("DDSParser does not supported 3D texture data");const p=new Array,m=148;if(1===d)p.push(new Uint8Array(t,m));else{const e=Nc[f];let r=0,o=i,a=n;for(let t=0;t<s;t++)r+=Math.max(1,o+3&-4)*Math.max(1,a+3&-4)*e,o>>>=1,a>>>=1;let l=m;for(let n=0;n<d;n++)p.push(new Uint8Array(t,l,r)),l+=r}return p.map((t=>new zc(t,{format:f,width:i,height:n,levels:s})))}throw 64&a?new Error("DDSParser does not support uncompressed texture data."):512&a?new Error("DDSParser does not supported YUV uncompressed texture data."):131072&a?new Error("DDSParser does not support single-channel (lumninance) texture data!"):2&a?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}(await(await Ps.ADAPTER.fetch(t)).arrayBuffer()).map((n=>uc(new va(n,{mipmap:bs.OFF,alphaMode:xs.NO_PREMULTIPLIED_ALPHA,resolution:ea(t),...e.data}),r,t)));return 1===n.length?n[0]:n},unload(t){Array.isArray(t)?t.forEach((t=>t.destroy(!0))):t.destroy(!0)}};sa.add(yd);const _d={extension:{type:ra.LoadParser,priority:Yh.High},name:"loadKTX",test:t=>jh(t,".ktx"),async load(t,e,r){const n=await(await Ps.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=gd(t,n),a=null!==i&&void 0!==i?i:s,l={mipmap:bs.OFF,alphaMode:xs.NO_PREMULTIPLIED_ALPHA,resolution:ea(t),...e.data},u=a.map((e=>{var n;a===s&&Object.assign(l,{type:e.type,format:e.format});const i=null!==(n=e.resource)&&void 0!==n?n:e,u=new va(i,l);return u.ktxKeyValueData=o,uc(u,r,t)}));return 1===u.length?u[0]:u},unload(t){Array.isArray(t)?t.forEach((t=>t.destroy(!0))):t.destroy(!0)}};sa.add(_d);const bd={extension:ra.ResolveParser,test:t=>{const e=eo.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var e,r;const n=eo.extname(t).slice(1);if("ktx"===n){var i,s;const e=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(e.some((e=>t.endsWith(e))))return{resolution:parseFloat(null!==(i=null===(s=Ps.RETINA_PREFIX.exec(t))||void 0===s?void 0:s[1])&&void 0!==i?i:"1"),format:e.find((e=>t.endsWith(e))),src:t}}return{resolution:parseFloat(null!==(e=null===(r=Ps.RETINA_PREFIX.exec(t))||void 0===r?void 0:r[1])&&void 0!==e?e:"1"),format:n,src:t}}};sa.add(bd);const xd=new Oa,wd=class t{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){var t;const e=null===(t=this.renderer)||void 0===t?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(t,e,r,n){const i=new Image;return i.src=await this.base64(t,e,r,n),i}async base64(t,e,r,n){const i=this.canvas(t,n);if(void 0!==i.toBlob)return new Promise(((t,n)=>{i.toBlob((e=>{if(!e)return void n(new Error("ICanvas.toBlob failed!"));const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),e,r)}));if(void 0!==i.toDataURL)return i.toDataURL(e,r);if(void 0!==i.convertToBlob){const t=await i.convertToBlob({type:e,quality:r});return new Promise(((e,r)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=r,n.readAsDataURL(t)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&t._flipY(n,i,s),a&&t._unpremultiplyAlpha(n);const l=new Qo(i,s,1),u=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return l.context.putImageData(u,0,0),l.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&t._flipY(n,i,s),a&&t._unpremultiplyAlpha(n),n}_rawPixels(t,e){var r;const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s,o=!1,a=!1,l=!1;t&&(t instanceof Ll?s=t:(s=n.generateTexture(t,{region:e,resolution:n.resolution,multisample:n.multisample}),l=!0,e&&(xd.width=e.width,xd.height=e.height,e=xd)));const u=n.gl;var h;if(s){if(i=s.baseTexture.resolution,e=null!==(h=e)&&void 0!==h?h:s.frame,o=!1,a=s.baseTexture.alphaMode>0&&s.baseTexture.format===ps.RGBA,!l){n.renderTexture.bind(s);const t=s.framebuffer.glFramebuffers[n.CONTEXT_UID];t.blitFramebuffer&&n.framebuffer.bind(t.blitFramebuffer)}}else i=n.resolution,e||((e=xd).width=n.width/i,e.height=n.height/i),o=!0,a=this._rendererPremultipliedAlpha,n.renderTexture.bind();const c=Math.max(Math.round(e.width*i),1),d=Math.max(Math.round(e.height*i),1),f=new Uint8Array(4*c*d);return u.readPixels(Math.round(e.x*i),Math.round(e.y*i),c,d,u.RGBA,u.UNSIGNED_BYTE,f),l&&null!==(r=s)&&void 0!==r&&r.destroy(!0),{pixels:f,width:c,height:d,flipY:o,premultipliedAlpha:a}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const e=o*n,i=(r-o-1)*n;s.set(t.subarray(e,e+n)),t.copyWithin(e,i,i+n),t.set(s,i)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const e=t[r+3];if(0!==e){const n=255.001/e;t[r]=t[r]*n+.5,t[r+1]=t[r+1]*n+.5,t[r+2]=t[r+2]*n+.5}}}};wd.extension={name:"extract",type:ra.RendererSystem};let Ed=wd;sa.add(Ed);const Td={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===Ma.CIRC){const e=t.shape;r=e.x,n=e.y,o=a=e.radius,i=s=0}else if(t.type===Ma.ELIP){const e=t.shape;r=e.x,n=e.y,o=e.width,a=e.height,i=s=0}else{const e=t.shape,l=e.width/2,u=e.height/2;r=e.x+l,n=e.y+u,o=a=Math.max(0,Math.min(e.radius,Math.min(l,u))),i=l-o,s=u-a}if(!(o>=0&&a>=0&&i>=0&&s>=0))return void(e.length=0);const l=Math.ceil(2.3*Math.sqrt(o+a)),u=8*l+(i?4:0)+(s?4:0);if(e.length=u,0===u)return;if(0===l)return e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,void(e[5]=e[7]=n-s);let h=0,c=4*l+(i?2:0)+2,d=c,f=u;{const t=i+o,a=s,l=r+t,u=r-t,p=n+a;if(e[h++]=l,e[h++]=p,e[--c]=p,e[--c]=u,s){const t=n-a;e[d++]=u,e[d++]=t,e[--f]=t,e[--f]=l}}for(let p=1;p<l;p++){const t=Math.PI/2*(p/l),u=i+Math.cos(t)*o,m=s+Math.sin(t)*a,g=r+u,v=r-u,y=n+m,_=n-m;e[h++]=g,e[h++]=y,e[--c]=y,e[--c]=v,e[d++]=v,e[d++]=_,e[--f]=_,e[--f]=g}{const t=s+a,o=r+i,l=r-i,u=n+t,c=n-t;e[h++]=o,e[h++]=u,e[--f]=c,e[--f]=o,i&&(e[h++]=l,e[h++]=u,e[--f]=c,e[--f]=l)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(0===r.length)return;let s=n.length/2;const o=s;let a,l;if(t.type!==Ma.RREC){const e=t.shape;a=e.x,l=e.y}else{const e=t.shape;a=e.x+e.width/2,l=e.y+e.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function Sd(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const e=t[i],r=t[i+1];n+=(e-s)*(r+o),s=e,o=r}if(!e&&n>0||e&&n<=0){const e=r/2;for(let n=e+e%2;n<r;n+=2){const e=r-n-2,i=r-n-1,s=n,o=n+1;[t[e],t[s]]=[t[s],t[e]],[t[i],t[o]]=[t[o],t[i]]}}}const Ad={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){Sd(r,!1);const t=[];for(let i=0;i<n.length;i++){const e=n[i];Sd(e.points,!0),t.push(r.length/2),r=r.concat(e.points)}const e=Ks(r,t,2);if(!e)return;const o=i.length/2;for(let r=0;r<e.length;r+=3)s.push(e[r]+o),s.push(e[r+1]+o),s.push(e[r+2]+o);for(let n=0;n<r.length;n++)i.push(r[n])}}},Cd={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(0===r.length)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},Rd={build(t){Td.build(t)},triangulate(t,e){Td.triangulate(t,e)}};var Pd=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Pd||{}),Id=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Id||{});const Md={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class kd{static curveTo(t,e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1]-e,l=o-t,u=n-e,h=r-t,c=Math.abs(a*h-l*u);if(c<1e-8||0===i)return(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e),null;const d=a*a+l*l,f=u*u+h*h,p=a*u+l*h,m=i*Math.sqrt(d)/c,g=i*Math.sqrt(f)/c,v=m*p/d,y=g*p/f,_=m*h+g*l,b=m*u+g*a,x=l*(g+v),w=a*(g+v),E=h*(m+y),T=u*(m+y);return{cx:_+t,cy:b+e,radius:i,startAngle:Math.atan2(w-b,x-_),endAngle:Math.atan2(T-b,E-_),anticlockwise:l*u>h*a}}static arc(t,e,r,n,i,s,o,a,l){const u=o-s,h=Md._segmentsCount(Math.abs(u)*i,40*Math.ceil(Math.abs(u)/Ra)),c=u/(2*h),d=2*c,f=Math.cos(c),p=Math.sin(c),m=h-1,g=m%1/m;for(let v=0;v<=m;++v){const t=c+s+d*(v+g*v),e=Math.cos(t),o=-Math.sin(t);l.push((f*e+p*o)*i+r,(f*-o+p*e)*i+n)}}}class Dd{static curveLength(t,e,r,n,i,s,o,a){let l=0,u=0,h=0,c=0,d=0,f=0,p=0,m=0,g=0,v=0,y=0,_=t,b=e;for(let x=1;x<=10;++x)u=x/10,h=u*u,c=h*u,d=1-u,f=d*d,p=f*d,m=p*t+3*f*u*r+3*d*h*i+c*o,g=p*e+3*f*u*n+3*d*h*s+c*a,v=_-m,y=b-g,_=m,b=g,l+=Math.sqrt(v*v+y*y);return l}static curveTo(t,e,r,n,i,s,o){const a=o[o.length-2],l=o[o.length-1];o.length-=2;const u=Md._segmentsCount(Dd.curveLength(a,l,t,e,r,n,i,s));let h=0,c=0,d=0,f=0,p=0;o.push(a,l);for(let m=1,g=0;m<=u;++m)g=m/u,h=1-g,c=h*h,d=c*h,f=g*g,p=f*g,o.push(d*a+3*c*g*t+3*h*f*r+p*i,d*l+3*c*g*e+3*h*f*n+p*s)}}function Od(t,e,r,n,i,s,o,a){let l,u;o?(l=n,u=-r):(l=-n,u=r);const h=t-r*i+l,c=e-n*i+u,d=t+r*s+l,f=e+n*s+u;return a.push(h,c,d,f),2}function Nd(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let h=Math.atan2(l,u),c=Math.atan2(i-t,s-e);a&&h<c?h+=2*Math.PI:!a&&h>c&&(c+=2*Math.PI);let d=h;const f=c-h,p=Math.abs(f),m=Math.sqrt(l*l+u*u),g=1+(15*p*Math.sqrt(m)/Math.PI>>0),v=f/g;if(d+=v,a){o.push(t,e,r,n);for(let r=1,n=d;r<g;r++,n+=v)o.push(t,e,t+Math.sin(n)*m,e+Math.cos(n)*m);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let r=1,n=d;r<g;r++,n+=v)o.push(t+Math.sin(n)*m,e+Math.cos(n)*m,t,e);o.push(i,s,t,e)}return 2*g}function Ld(t,e){t.lineStyle.native?function(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Ma.POLY||n.closeStroke;if(0===i.length)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let h=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[2*r],i[2*r+1]),a.push(h,h+1),h++;s&&a.push(h,u)}(t,e):function(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(0===n.length)return;const s=t.lineStyle,o=new ka(n[0],n[1]),a=new ka(n[n.length-2],n[n.length-1]),l=r.type!==Ma.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const t=.5*(o.x+a.x),e=.5*(a.y+o.y);n.unshift(t,e),n.push(t,e)}const h=e.points,c=n.length/2;let d=n.length;const f=h.length/2,p=s.width/2,m=p*p,g=s.miterLimit*s.miterLimit;let v=n[0],y=n[1],_=n[2],b=n[3],x=0,w=0,E=-(y-b),T=v-_,S=0,A=0,C=Math.sqrt(E*E+T*T);E/=C,T/=C,E*=p,T*=p;const R=s.alignment,P=2*(1-R),I=2*R;l||(s.cap===Id.ROUND?d+=Nd(v-E*(P-I)*.5,y-T*(P-I)*.5,v-E*P,y-T*P,v+E*I,y+T*I,h,!0)+2:s.cap===Id.SQUARE&&(d+=Od(v,y,E,T,P,I,!0,h))),h.push(v-E*P,y-T*P,v+E*I,y+T*I);for(let D=1;D<c-1;++D){v=n[2*(D-1)],y=n[2*(D-1)+1],_=n[2*D],b=n[2*D+1],x=n[2*(D+1)],w=n[2*(D+1)+1],E=-(y-b),T=v-_,C=Math.sqrt(E*E+T*T),E/=C,T/=C,E*=p,T*=p,S=-(b-w),A=_-x,C=Math.sqrt(S*S+A*A),S/=C,A/=C,S*=p,A*=p;const t=_-v,e=y-b,r=_-x,i=w-b,o=t*r+e*i,a=e*r-i*t,l=a<0;if(Math.abs(a)<.001*Math.abs(o)){h.push(_-E*P,b-T*P,_+E*I,b+T*I),o>=0&&(s.join===Pd.ROUND?d+=Nd(_,b,_-E*P,b-T*P,_-S*P,b-A*P,h,!1)+4:d+=2,h.push(_-S*I,b-A*I,_+S*P,b+A*P));continue}const u=(-E+v)*(-T+b)-(-E+_)*(-T+y),c=(-S+x)*(-A+b)-(-S+_)*(-A+w),f=(t*c-r*u)/a,R=(i*u-e*c)/a,M=(f-_)*(f-_)+(R-b)*(R-b),k=_+(f-_)*P,O=b+(R-b)*P,N=_-(f-_)*I,L=b-(R-b)*I,F=l?P:I,B=M<=Math.min(t*t+e*e,r*r+i*i)+F*F*m;let U=s.join;if(U===Pd.MITER&&M/m>g&&(U=Pd.BEVEL),B)switch(U){case Pd.MITER:h.push(k,O,N,L);break;case Pd.BEVEL:l?h.push(k,O,_+E*I,b+T*I,k,O,_+S*I,b+A*I):h.push(_-E*P,b-T*P,N,L,_-S*P,b-A*P,N,L),d+=2;break;case Pd.ROUND:l?(h.push(k,O,_+E*I,b+T*I),d+=Nd(_,b,_+E*I,b+T*I,_+S*I,b+A*I,h,!0)+4,h.push(k,O,_+S*I,b+A*I)):(h.push(_-E*P,b-T*P,N,L),d+=Nd(_,b,_-E*P,b-T*P,_-S*P,b-A*P,h,!1)+4,h.push(_-S*P,b-A*P,N,L))}else{switch(h.push(_-E*P,b-T*P,_+E*I,b+T*I),U){case Pd.MITER:l?h.push(N,L,N,L):h.push(k,O,k,O),d+=2;break;case Pd.ROUND:d+=l?Nd(_,b,_+E*I,b+T*I,_+S*I,b+A*I,h,!0)+2:Nd(_,b,_-E*P,b-T*P,_-S*P,b-A*P,h,!1)+2}h.push(_-S*P,b-A*P,_+S*I,b+A*I),d+=2}}v=n[2*(c-2)],y=n[2*(c-2)+1],_=n[2*(c-1)],b=n[2*(c-1)+1],E=-(y-b),T=v-_,C=Math.sqrt(E*E+T*T),E/=C,T/=C,E*=p,T*=p,h.push(_-E*P,b-T*P,_+E*I,b+T*I),l||(s.cap===Id.ROUND?d+=Nd(_-E*(P-I)*.5,b-T*(P-I)*.5,_-E*P,b-T*P,_+E*I,b+T*I,h,!1)+2:s.cap===Id.SQUARE&&(d+=Od(_,b,E,T,P,I,!1,h)));const M=e.indices,k=Md.epsilon*Md.epsilon;for(let D=f;D<d+f-2;++D)v=h[2*D],y=h[2*D+1],_=h[2*(D+1)],b=h[2*(D+1)+1],x=h[2*(D+2)],w=h[2*(D+2)+1],!(Math.abs(v*(b-w)+_*(w-y)+x*(y-b))<k)&&M.push(D,D+1,D+2)}(t,e)}class Fd{static curveLength(t,e,r,n,i,s){const o=t-2*r+i,a=e-2*n+s,l=2*r-2*t,u=2*n-2*e,h=4*(o*o+a*a),c=4*(o*l+a*u),d=l*l+u*u,f=2*Math.sqrt(h+c+d),p=Math.sqrt(h),m=2*h*p,g=2*Math.sqrt(d),v=c/p;return(m*f+p*c*(f-g)+(4*d*h-c*c)*Math.log((2*p+v+f)/(v+g)))/(4*m)}static curveTo(t,e,r,n,i){const s=i[i.length-2],o=i[i.length-1],a=Md._segmentsCount(Fd.curveLength(s,o,t,e,r,n));let l=0,u=0;for(let h=1;h<=a;++h){const c=h/a;l=s+(t-s)*c,u=o+(e-o)*c,i.push(l+(t+(r-t)*c-l)*c,u+(e+(n-e)*c-u)*c)}}}const Bd={[Ma.POLY]:Ad,[Ma.CIRC]:Td,[Ma.ELIP]:Td,[Ma.RECT]:Cd,[Ma.RREC]:Rd},Ud=[],Gd=[];class zd{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=n,this.type=t.type}clone(){return new zd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}class jd{constructor(){this.reset()}begin(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}const Hd=new ka,Wd=class t extends Ca{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new sh,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Gd.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Ud.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t){const e=new zd(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);return this.graphicsData.push(e),this.dirty++,this}drawHole(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.graphicsData.length)return null;const r=new zd(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Hd):Hd.copyFrom(t),n.shape.contains(Hd.x,Hd.y))){let t=!1;if(n.holes)for(let e=0;e<n.holes.length;e++)if(n.holes[e].shape.contains(Hd.x,Hd.y)){t=!0;break}if(!t)return!0}}return!1}updateBatches(){if(!this.graphicsData.length)return void(this.batchable=!0);if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const i=e[a],s=i.fillStyle,o=i.lineStyle;Bd[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix),(s.visible||o.visible)&&this.processHoles(i.holes);for(let e=0;e<2;e++){const a=0===e?s:o;if(!a.visible)continue;const l=a.texture.baseTexture,u=this.indices.length,h=this.points.length/2;l.wrapMode=_s.REPEAT,0===e?this.processFill(i):this.processLine(i);const c=this.points.length/2-h;0!==c&&(r&&!this._compareStyles(n,a)&&(r.end(u,h),r=null),r||(r=Ud.pop()||new jd,r.begin(a,u,h),this.batches.push(r),n=a),this.addUvs(this.points,t,a.texture,h,c,a.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),0===this.batches.length)return void(this.batchable=!0);const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const e=this.graphicsData[t],r=e.fillStyle,n=e.lineStyle;if(r&&!r.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const r=t[e];for(let t=0;t<r.size;t++){const e=r.start+t;this.indicesUint16[e]=this.indicesUint16[e]-r.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE}buildDrawCalls(){let t=++va._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Gd.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=Gd.pop();n||(n=new ya,n.texArray=new yl),n.texArray.count=0,n.start=0,n.size=0,n.type=fs.TRIANGLES;let i=0,s=null,o=0,a=!1,l=fs.TRIANGLES,u=0;this.drawCalls.push(n);for(let h=0;h<this.batches.length;h++){const c=this.batches[h],d=8,f=c.style,p=f.texture.baseTexture;a!==!!f.native&&(a=!!f.native,l=a?fs.LINES:fs.TRIANGLES,s=null,i=d,t++),s!==p&&(s=p,p._batchEnabled!==t&&(i===d&&(t++,i=0,n.size>0&&(n=Gd.pop(),n||(n=new ya,n.texArray=new yl),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=i,p.wrapMode=_s.REPEAT,n.texArray.elements[n.texArray.count++]=p,i++)),n.size+=c.size,u+=c.size,o=p._batchLocation,this.addColors(e,f.color,f.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,o,c.attribSize,c.attribStart)}va._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*t.length*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[2*l],s[a++]=t[2*l+1],s[a++]=e[2*l],s[a++]=e[2*l+1],o[a++]=r[l],s[a++]=n[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Ad.triangulate(t,this):Bd[t.type].triangulate(t,this)}processLine(t){Ld(t,this);for(let e=0;e<t.holes.length;e++)Ld(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Bd[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const s=No.shared.setValue(e).toLittleEndianNumber(),o=No.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=0;const a=e.length,l=r.frame;for(;o<i;){let r=t[2*(n+o)],i=t[2*(n+o)+1];if(s){const t=s.a*r+s.c*i+s.tx;i=s.b*r+s.d*i+s.ty,r=t}o++,e.push(r/l.width,i/l.height)}const u=r.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+2*n,a=e.frame,l=a.width/i.width,u=a.height/i.height;let h=a.x/a.width,c=a.y/a.height,d=Math.floor(t[r]+s),f=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)d=Math.min(d,Math.floor(t[p]+s)),f=Math.min(f,Math.floor(t[p+1]+s));h-=d,c-=f;for(let p=r;p<o;p+=2)t[p]=(t[p]+h)*l,t[p+1]=(t[p+1]+c)*u}};Wd.BATCHABLE_SIZE=100;let Vd=Wd;class Xd{constructor(){this.color=16777215,this.alpha=1,this.texture=Nl.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Xd;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=Nl.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Yd extends Xd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Id.BUTT,this.join=Pd.MITER,this.miterLimit=10}clone(){const t=new Yd;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Id.BUTT,this.join=Pd.MITER,this.miterLimit=10}}const qd={},$d=class t extends ch{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Xd,this._lineStyle=new Yd,this._matrix=null,this._holeMode=!1,this.state=ua.for2d(),this._geometry=t||new Vd,this._geometry.refCount++,this._transformID=-1,this._tintColor=new No(16777215),this.blendMode=ds.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new t(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"number"==typeof t&&(t={width:t,color:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,alpha:arguments.length>2?arguments[2]:void 0,alignment:arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,native:arguments.length>4&&void 0!==arguments[4]&&arguments[4]}),this.lineTextureStyle(t)}lineTextureStyle(t){var e;const r={width:0,texture:Nl.WHITE,color:null!==(e=t)&&void 0!==e&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Id.BUTT,join:Pd.MITER,miterLimit:10};t=Object.assign(r,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Fa,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Fa,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),Fd.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),Dd.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=kd.curveTo(t,e,r,n,i,s);if(o){const{cx:t,cy:e,radius:r,startAngle:n,endAngle:i,anticlockwise:s}=o;this.arc(t,e,r,n,i,s)}return this}arc(t,e,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===i)return this;if(!s&&i<=n?i+=Ra:s&&n<=i&&(n+=Ra),i-n===0)return this;const o=t+Math.cos(n)*r,a=e+Math.sin(n)*r,l=this._geometry.closePointEps;let u=this.currentPath?this.currentPath.points:null;if(u){const t=Math.abs(u[u.length-2]-o),e=Math.abs(u[u.length-1]-a);t<l&&e<l||u.push(o,a)}else this.moveTo(o,a),u=this.currentPath.points;return kd.arc(o,a,t,e,r,n,i,s,u),this}beginFill(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return this.beginTextureFill({texture:Nl.WHITE,color:t,alpha:e})}normalizeColor(t){var e,r;const n=No.shared.setValue(null!==(e=t.color)&&void 0!==e?e:0);t.color=n.toNumber(),null!==(r=t.alpha)&&void 0!==r||(t.alpha=n.alpha)}beginTextureFill(t){const e={texture:Nl.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new Oa(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new Ba(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Na(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new La(t,e,r,n))}drawPolygon(){let t,e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];const s=n[0];s.points?(e=s.closeStroke,t=s.points):t=Array.isArray(n[0])?n[0]:n;const o=new Fa(t);return o.closeStroke=e,this.drawShape(o),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===Ma.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const r=t.batches[n],i=r.style.color,s=new Float32Array(this.vertexData.buffer,4*r.attribStart*2,2*r.attribSize),o=new Float32Array(t.uvsFloat32.buffer,4*r.attribStart*2,2*r.attribSize),a={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*r.start,r.size),uvs:o,_batchRGB:No.shared.setValue(i).toRgbArray(),_tintRGB:i,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[n]=a}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,No.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!qd[r]){const{maxTextures:e}=t.plugins[r],n=new Int32Array(e);for(let t=0;t<e;t++)n[t]=t;const i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ua,default:ml.from({uSamplers:n},!0)},s=t.plugins[r]._shader.program;qd[r]=new gl(s,i)}e=qd[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=No.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,u=this.vertexData;let h=0;for(let c=0;c<l.length;c+=2){const t=l[c],e=l[c+1];u[h++]=r*t+i*e+o,u[h++]=s*e+n*t+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};$d.curves=Md,$d._TEMP_POINT=new ka;let Kd=$d;class Qd{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}const Zd=new ka,Jd=new Fa,tf=class t extends ch{constructor(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fs.TRIANGLES;super(),this.geometry=t,this.shader=e,this.state=r||ua.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Ps.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===fs.TRIANGLES&&r.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,l=n.tx,u=n.ty,h=this.vertexData;for(let c=0;c<h.length/2;c++){const t=e[2*c],r=e[2*c+1];h[2*c]=i*t+o*r+l,h[2*c+1]=s*t+a*r+u}if(this._roundPixels){const t=Ps.RESOLUTION;for(let e=0;e<h.length;++e)h[e]=Math.round(h[e]*t)/t}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Qd(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Zd);const e=this.geometry.getBuffer("aVertexPosition").data,r=Jd.points,n=this.geometry.getIndex().data,i=n.length,s=4===this.drawMode?3:1;for(let o=0;o+2<i;o+=s){const t=2*n[o],i=2*n[o+1],s=2*n[o+2];if(r[0]=e[t],r[1]=e[t+1],r[2]=e[i],r[3]=e[i+1],r[4]=e[s],r[5]=e[s+1],Jd.contains(Zd.x,Zd.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};tf.BATCHABLE_SIZE=100;let ef=tf;class rf extends Aa{constructor(t,e,r){super();const n=new ba(t),i=new ba(e,!0),s=new ba(r,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,gs.FLOAT).addAttribute("aTextureCoord",i,2,!1,gs.FLOAT).addIndex(s),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}class nf extends gl{constructor(t,e){const r={uSampler:t,alpha:1,uTextureMatrix:Ua.IDENTITY,uColor:new Float32Array([1,1,1,1])};(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(r,e.uniforms),super(e.program||fl.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r),this._colorDirty=!1,this.uvMatrix=new Kl(t),this.batchable=void 0===e.program,this.pluginName=e.pluginName,this._tintColor=new No(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;No.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class sf{constructor(t,e,r){this.geometry=new Aa,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<t.length;++n){let r=t[n];r={attributeName:r.attributeName,size:r.size,uploadFunction:r.uploadFunction,type:r.type||gs.FLOAT,offset:r.offset},e[n]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new ba(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=6*t;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got ".concat(e.length," and expected ").concat(r));for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let s=0;s<this.dynamicProperties.length;++s){const t=this.dynamicProperties[s];t.offset=e,e+=t.size,this.dynamicStride+=t.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new ba(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let s=0;s<this.staticProperties.length;++s){const t=this.staticProperties[s];t.offset=n,n+=t.size,this.staticStride+=t.size}const i=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(i),this.staticDataUint32=new Uint32Array(i),this.staticBuffer=new ba(this.staticData,!0,!1);for(let s=0;s<this.dynamicProperties.length;++s){const e=this.dynamicProperties[s];t.addAttribute(e.attributeName,this.dynamicBuffer,0,e.type===gs.UNSIGNED_BYTE,e.type,4*this.dynamicStride,4*e.offset)}for(let s=0;s<this.staticProperties.length;++s){const e=this.staticProperties[s];t.addAttribute(e.attributeName,this.staticBuffer,0,e.type===gs.UNSIGNED_BYTE,e.type,4*this.staticStride,4*e.offset)}}uploadDynamic(t,e,r){for(let n=0;n<this.dynamicProperties.length;n++){const i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.type===gs.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,r){for(let n=0;n<this.staticProperties.length;n++){const i=this.staticProperties[n];i.uploadFunction(t,e,r,i.type===gs.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}class of extends _l{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new Ua,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:gs.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=gl.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=ua.for2d()}render(t){const e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer;let s=e.length;if(0===s)return;s>r&&!t.autoResize&&(s=r);let o=t._buffers;o||(o=t._buffers=this.generateBuffers(t));const a=e[0]._texture.baseTexture,l=a.alphaMode>0;this.state.blendMode=Fo(t.blendMode,l),i.state.set(this.state);const u=i.gl,h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=No.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);let c=!1;for(let d=0,f=0;d<s;d+=n,f+=1){let r=s-d;r>n&&(r=n),f>=o.length&&o.push(this._generateOneMoreBuffer(t));const a=o[f];a.uploadDynamic(e,d,r);const l=t._bufferUpdateIDs[f]||0;c=c||a._updateID<l,c&&(a._updateID=t._updateID,a.uploadStatic(e,d,r)),i.geometry.bind(a.geometry),u.drawElements(u.TRIANGLES,6*r,u.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],r=t._maxSize,n=t._batchSize,i=t._properties;for(let s=0;s<r;s+=n)e.push(new sf(this.properties,i,n));return e}_generateOneMoreBuffer(t){const e=t._batchSize,r=t._properties;return new sf(this.properties,r,e)}uploadVertices(t,e,r,n,i,s){let o=0,a=0,l=0,u=0;for(let h=0;h<r;++h){const r=t[e+h],c=r._texture,d=r.scale.x,f=r.scale.y,p=c.trim,m=c.orig;p?(a=p.x-r.anchor.x*m.width,o=a+p.width,u=p.y-r.anchor.y*m.height,l=u+p.height):(o=m.width*(1-r.anchor.x),a=m.width*-r.anchor.x,l=m.height*(1-r.anchor.y),u=m.height*-r.anchor.y),n[s]=a*d,n[s+1]=u*f,n[s+i]=o*d,n[s+i+1]=u*f,n[s+2*i]=o*d,n[s+2*i+1]=l*f,n[s+3*i]=a*d,n[s+3*i+1]=l*f,s+=4*i}}uploadPosition(t,e,r,n,i,s){for(let o=0;o<r;o++){const r=t[e+o].position;n[s]=r.x,n[s+1]=r.y,n[s+i]=r.x,n[s+i+1]=r.y,n[s+2*i]=r.x,n[s+2*i+1]=r.y,n[s+3*i]=r.x,n[s+3*i+1]=r.y,s+=4*i}}uploadRotation(t,e,r,n,i,s){for(let o=0;o<r;o++){const r=t[e+o].rotation;n[s]=r,n[s+i]=r,n[s+2*i]=r,n[s+3*i]=r,s+=4*i}}uploadUvs(t,e,r,n,i,s){for(let o=0;o<r;++o){const r=t[e+o]._texture._uvs;r?(n[s]=r.x0,n[s+1]=r.y0,n[s+i]=r.x1,n[s+i+1]=r.y1,n[s+2*i]=r.x2,n[s+2*i+1]=r.y2,n[s+3*i]=r.x3,n[s+3*i+1]=r.y3,s+=4*i):(n[s]=0,n[s+1]=0,n[s+i]=0,n[s+i+1]=0,n[s+2*i]=0,n[s+2*i+1]=0,n[s+3*i]=0,n[s+3*i+1]=0,s+=4*i)}}uploadTint(t,e,r,n,i,s){for(let o=0;o<r;++o){const r=t[e+o],a=No.shared.setValue(r._tintRGB).toPremultiplied(r.alpha,r.texture.baseTexture.alphaMode>0);n[s]=a,n[s+i]=a,n[s+2*i]=a,n[s+3*i]=a,s+=4*i}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}of.extension={name:"particle",type:ra.RendererPlugin},sa.add(of);var af=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(af||{});const lf={willReadFrequently:!0},uf=class t{static get experimentalLetterSpacingSupported(){let e=t._experimentalLetterSpacingSupported;if(void 0!==e){const r=Ps.ADAPTER.getCanvasRenderingContext2D().prototype;e=t._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(t,e,r,n,i,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(e,r,n){var i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=null!==(i=n)&&void 0!==i?i:r.wordWrap;const o=r.toFontString(),a=t.measureFont(o);0===a.fontSize&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);const l=s.getContext("2d",lf);l.font=o;const u=(n?t.wordWrap(e,r,s):e).split(/(?:\r\n|\r|\n)/),h=new Array(u.length);let c=0;for(let m=0;m<u.length;m++){const e=t._measureText(u[m],r.letterSpacing,l);h[m]=e,c=Math.max(c,e)}let d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);const f=r.lineHeight||a.fontSize+r.strokeThickness;let p=Math.max(f,a.fontSize+2*r.strokeThickness)+r.leading+(u.length-1)*(f+r.leading);return r.dropShadow&&(p+=r.dropShadowDistance),new t(e,r,d,p,u,h,f+r.leading,c,a)}static _measureText(e,r,n){let i=!1;t.experimentalLetterSpacingSupported&&(t.experimentalLetterSpacing?(n.letterSpacing="".concat(r,"px"),n.textLetterSpacing="".concat(r,"px"),i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(t.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d",lf);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:u}=r,h=t.collapseSpaces(u),c=t.collapseNewlines(u);let d=!h;const f=r.wordWrapWidth+l,p=t.tokenize(e);for(let m=0;m<p.length;m++){let e=p[m];if(t.isNewline(e)){if(!c){o+=t.addLine(s),d=!h,s="",i=0;continue}e=" "}if(h){const r=t.isBreakingSpace(e),n=t.isBreakingSpace(s[s.length-1]);if(r&&n)continue}const u=t.getFromCache(e,l,a,n);if(u>f)if(""!==s&&(o+=t.addLine(s),s="",i=0),t.canBreakWords(e,r.breakWords)){const u=t.wordWrapSplit(e);for(let h=0;h<u.length;h++){let c=u[h],p=c,m=1;for(;u[h+m];){const n=u[h+m];if(t.canBreakChars(p,n,e,h,r.breakWords))break;c+=n,p=n,m++}h+=m-1;const g=t.getFromCache(c,l,a,n);g+i>f&&(o+=t.addLine(s),d=!1,s="",i=0),s+=c,i+=g}}else{s.length>0&&(o+=t.addLine(s),s="",i=0);const r=m===p.length-1;o+=t.addLine(e,!r),d=!1,s="",i=0}else u+i>f&&(d=!1,o+=t.addLine(s),s="",i=0),(s.length>0||!t.isBreakingSpace(e)||d)&&(s+=e,i+=u)}return o+=t.addLine(s,!1),o}static addLine(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=r?"".concat(e,"\n"):e}static getFromCache(e,r,n,i){let s=n[e];return"number"!=typeof s&&(s=t._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(t){return"normal"===t||"pre-line"===t}static collapseNewlines(t){return"normal"===t}static trimRight(e){if("string"!=typeof e)return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return"string"==typeof e&&t._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return"string"==typeof e&&t._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if("string"!=typeof e)return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];t.isBreakingSpace(s,o)||t.isNewline(s)?(""!==n&&(r.push(n),n=""),r.push(s)):n+=s}return""!==n&&r.push(n),r}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(e){return t.graphemeSegmenter(e)}static measureFont(e){if(t._fonts[e])return t._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;const s=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width);const l=Math.ceil(t.HEIGHT_MULTIPLIER*a);if(a=a*t.BASELINE_MULTIPLIER|0,0===o||0===l)return t._fonts[e]=r,r;n.width=o,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const u=i.getImageData(0,0,o,l).data,h=u.length,c=4*o;let d=0,f=0,p=!1;for(d=0;d<a;++d){for(let t=0;t<c;t+=4)if(255!==u[f+t]){p=!0;break}if(p)break;f+=c}for(r.ascent=a-d,f=h-c,p=!1,d=l;d>a;--d){for(let t=0;t<c;t+=4)if(255!==u[f+t]){p=!0;break}if(p)break;f-=c}return r.descent=d-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r}static clearMetrics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}}static get _canvas(){if(!t.__canvas){let r;try{var e;const n=new OffscreenCanvas(0,0);if(null!==(e=n.getContext("2d",lf))&&void 0!==e&&e.measureText)return t.__canvas=n,n;r=Ps.ADAPTER.createCanvas()}catch{r=Ps.ADAPTER.createCanvas()}r.width=r.height=10,t.__canvas=r}return t.__canvas}static get _context(){return t.__context||(t.__context=t._canvas.getContext("2d",lf)),t.__context}};uf.METRICS_STRING="|\xc9q\xc5",uf.BASELINE_SYMBOL="M",uf.BASELINE_MULTIPLIER=1.4,uf.HEIGHT_MULTIPLIER=2,uf.graphemeSegmenter=(t=>{if("function"==typeof(null===(t=Intl)||void 0===t?void 0:t.Segmenter)){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map((t=>t.segment))}return t=>[...t]})(),uf.experimentalLetterSpacing=!1,uf._fonts={},uf._newlines=[10,13],uf._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let hf=uf;const cf=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],df=class t{constructor(t){this.styleID=0,this.reset(),mf(this,t,t)}clone(){const e={};return mf(e,this,t.defaultStyle),new t(e)}reset(){mf(this,t.defaultStyle,t.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=pf(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=pf(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=pf(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t="number"==typeof this.fontSize?"".concat(this.fontSize,"px"):this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let t=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(t)&&!cf.includes(t)&&(t='"'.concat(t,'"')),e[r]=t}return"".concat(this.fontStyle," ").concat(this.fontVariant," ").concat(this.fontWeight," ").concat(t," ").concat(e.join(","))}};df.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:af.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ff=df;function pf(t){const e=No.shared,r=t=>{const r=e.setValue(t);return 1===r.alpha?r.toHex():r.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function mf(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const gf={texture:!0,children:!1,baseTexture:!0},vf=class t extends ph{constructor(e,r,n){var i;let s=!1;n||(n=Ps.ADAPTER.createCanvas(),s=!0),n.width=3,n.height=3;const o=Nl.from(n);o.orig=new Oa,o.trim=new Oa,super(o),this._ownCanvas=s,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=null!==(i=t.defaultResolution)&&void 0!==i?i:Ps.RESOLUTION,this._autoResolution=t.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return hf.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Zs("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),hf.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=hf.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,h=n.fontProperties;let c,d;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+2*e.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;const f=e.dropShadow?2:1;for(let p=0;p<f;++p){const t=e.dropShadow&&0===p,i=t?Math.ceil(Math.max(1,s)+2*e.padding):0,f=i*this._resolution;if(t){r.fillStyle="black",r.strokeStyle="black";const t=e.dropShadowColor,n=e.dropShadowBlur*this._resolution,i=e.dropShadowDistance*this._resolution;r.shadowColor=No.shared.setValue(t).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=n,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*i,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*i+f}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let m=(a-h.fontSize)/2;a-h.fontSize<0&&(m=0);for(let r=0;r<o.length;r++)c=e.strokeThickness/2,d=e.strokeThickness/2+r*a+h.ascent+m,"right"===e.align?c+=u-l[r]:"center"===e.align&&(c+=(u-l[r])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[r],c+e.padding,d+e.padding-i,!0),e.fill&&this.drawLetterSpacing(o[r],c+e.padding,d+e.padding-i)}this.updateTexture()}drawLetterSpacing(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=this._style.letterSpacing;let s=!1;if(hf.experimentalLetterSpacingSupported&&(hf.experimentalLetterSpacing?(this.context.letterSpacing="".concat(i,"px"),this.context.textLetterSpacing="".concat(i,"px"),s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||s)return void(n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r));let o=e;const a=hf.graphemeSegmenter(t);let l=this.context.measureText(t).width,u=0;for(let h=0;h<a.length;++h){const t=a[h];n?this.context.strokeText(t,o,r):this.context.fillText(t,o,r);let e="";for(let r=h+1;r<a.length;++r)e+=a[r];u=this.context.measureText(e).width,o+=l-u+i,l=u}}updateTexture(){const t=this.canvas;if(this._style.trim){const e=ta(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),-1===this._textureID&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-2*o,l=this.canvas.height/this._resolution-s-2*o,u=n.slice(),h=t.fillGradientStops.slice();if(!h.length){const t=u.length+1;for(let e=1;e<t;++e)h.push(e/t)}if(u.unshift(n[0]),h.unshift(0),u.push(n[n.length-1]),h.push(1),t.fillGradientType===af.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,l+o);const n=r.fontProperties.fontSize+t.strokeThickness;for(let t=0;t<e.length;t++){const s=r.lineHeight*(t-1)+n,o=r.lineHeight*t;let a=o;t>0&&s>o&&(a=(o+s)/2);const c=o+n,d=r.lineHeight*(t+1);let f=c;t+1<e.length&&d<c&&(f=(c+d)/2);const p=(f-a)/l;for(let t=0;t<u.length;t++){let e=0;e="number"==typeof h[t]?h[t]:t/u.length;let r=Math.min(1,Math.max(0,a/l+e*p));r=Number(r.toFixed(5)),i.addColorStop(r,u[t])}}}else{i=this.context.createLinearGradient(o,l/2,a+o,l/2);const t=u.length+1;let e=1;for(let r=0;r<u.length;r++){let n;n="number"==typeof h[r]?h[r]:e/t,i.addColorStop(n,u[r]),e++}}return i}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},gf,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Ho(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Ho(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},this._style=t instanceof ff?t:new ff(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){var e;t=String(null!==(e=t)&&void 0!==e?e:""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};vf.defaultAutoResolution=!0;let yf=vf;class _f{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function bf(t,e){var r;let n=!1;if(null!==t&&void 0!==t&&null!==(r=t._textures)&&void 0!==r&&r.length)for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Nl){const r=t._textures[i].baseTexture;e.includes(r)||(e.push(r),n=!0)}return n}function xf(t,e){if(t.baseTexture instanceof va){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function wf(t,e){if(t._texture&&t._texture instanceof Nl){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Ef(t,e){return e instanceof yf&&(e.updateText(!0),!0)}function Tf(t,e){if(e instanceof ff){const t=e.toFontString();return hf.measureFont(t),!0}return!1}function Sf(t,e){if(t instanceof yf){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function Af(t,e){return t instanceof ff&&(e.includes(t)||e.push(t),!0)}const Cf=class t{constructor(e){this.limiter=new _f(t.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Sf),this.registerFindHook(Af),this.registerFindHook(bf),this.registerFindHook(xf),this.registerFindHook(wf),this.registerUploadHook(Ef),this.registerUploadHook(Tf)}upload(t){return new Promise((e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,zu.system.addOnce(this.tick,this,Bu.UTILITY))):e()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed)for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)zu.system.addOnce(this.tick,this,Bu.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof ch)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&zu.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Cf.uploadsPerFrame=4;let Rf=Cf;function Pf(t,e){return e instanceof va&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function If(t,e){if(!(e instanceof Kd))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:e}=n[i].style;e&&Pf(t,e.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Mf(t,e){return t instanceof Kd&&(e.push(t),!0)}Object.defineProperties(Ps,{UPLOADS_PER_FRAME:{get:()=>Rf.uploadsPerFrame,set(t){Zs("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Rf.uploadsPerFrame=t}}});class kf extends Rf{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(Mf),this.registerUploadHook(Pf),this.registerUploadHook(If)}}kf.extension={name:"prepare",type:ra.RendererSystem},sa.add(kf);new ka;var Df="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";const Of=new Ua;class Nf extends _l{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new Ul,this.state=ua.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=gl.from(Df,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=t.context.webGLVersion>1?gl.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):gl.from(Df,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)}render(t){const e=this.renderer,r=this.quad;let n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);const i=t.uvRespectAnchor?t.anchor.x:0,s=t.uvRespectAnchor?t.anchor.y:0;n=r.uvs,n[0]=n[6]=-i,n[1]=n[3]=-s,n[2]=n[4]=1-i,n[5]=n[7]=1-s,r.invalidate();const o=t._texture,a=o.baseTexture,l=a.alphaMode>0,u=t.tileTransform.localTransform,h=t.uvMatrix;let c=a.isPowerOfTwo&&o.frame.width===a.width&&o.frame.height===a.height;c&&(a._glTextures[e.CONTEXT_UID]?c=a.wrapMode!==_s.CLAMP:a.wrapMode===_s.CLAMP&&(a.wrapMode=_s.REPEAT));const d=c?this.simpleShader:this.shader,f=o.width,p=o.height,m=t._width,g=t._height;Of.set(u.a*f/m,u.b*f/g,u.c*p/m,u.d*p/g,u.tx/m,u.ty/g),Of.invert(),c?Of.prepend(h.mapCoord):(d.uniforms.uMapCoord=h.mapCoord.toArray(!0),d.uniforms.uClampFrame=h.uClampFrame,d.uniforms.uClampOffset=h.uClampOffset),d.uniforms.uTransform=Of.toArray(!0),d.uniforms.uColor=No.shared.setValue(t.tint).premultiply(t.worldAlpha,l).toArray(d.uniforms.uColor),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=o,e.shader.bind(d),e.geometry.bind(r),this.state.blendMode=Fo(t.blendMode,l),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Nf.extension={name:"tilingSprite",type:ra.RendererPlugin},sa.add(Nf);const Lf=class t{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.linkedSheets=[],this._texture=t instanceof Nl?t:null,this.baseTexture=t instanceof va?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{scale:e}=this.data.meta;let r=ea(t,null);return null===r&&(r=parseFloat(null!==e&&void 0!==e?e:"1")),1!==r&&this.baseTexture.setResolution(r),r}parse(){return new Promise((e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(e){let r=e;const n=t.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const t=this._frameKeys[r],e=this._frames[t],n=e.frame;if(n){let r=null,i=null;const s=!1!==e.trimmed&&e.sourceSize?e.sourceSize:e.frame,o=new Oa(0,0,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution);r=e.rotated?new Oa(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.h)/this.resolution,Math.floor(n.w)/this.resolution):new Oa(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),!1!==e.trimmed&&e.spriteSourceSize&&(i=new Oa(Math.floor(e.spriteSourceSize.x)/this.resolution,Math.floor(e.spriteSourceSize.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution)),this.textures[t]=new Nl(this.baseTexture,r,o,i,e.rotated?2:0,e.anchor,e.borders),Nl.addToCache(this.textures[t],t.toString())}r++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*t.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null!==(t=this._texture)&&void 0!==t&&t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Lf.BATCH_SIZE=1e3;let Ff=Lf;const Bf=["jpg","png","jpeg","avif","webp"];function Uf(t,e,r){const n={};if(t.forEach((t=>{n[t]=e})),Object.keys(e.textures).forEach((t=>{n[t]=e.textures[t]})),!r){const r=eo.dirname(t[0]);e.linkedSheets.forEach(((t,i)=>{const s=Uf(["".concat(r,"/").concat(e.data.meta.related_multi_packs[i])],t,!0);Object.assign(n,s)}))}return n}const Gf={extension:ra.Asset,cache:{test:t=>t instanceof Ff,getCacheableAssets:(t,e)=>Uf(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return"json"===r&&Bf.includes(n)},parse:t=>{var e,r;const n=t.split(".");return{resolution:parseFloat(null!==(e=null===(r=Ps.RETINA_PREFIX.exec(t))||void 0===r?void 0:r[1])&&void 0!==e?e:"1"),format:n[n.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ra.LoadParser,priority:Yh.Normal},testParse:async(t,e)=>".json"===eo.extname(e.src).toLowerCase()&&!!t.frames,async parse(t,e,r){var n;let i=eo.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");let s=i+t.meta.image;s=Dc(s,e.src);const o=(await r.load([s]))[s],a=new Ff(o.baseTexture,t,e.src);await a.parse();const l=null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.related_multi_packs;if(Array.isArray(l)){const t=[];for(const s of l){var u;if("string"!=typeof s)continue;let n=i+s;(null===(u=e.data)||void 0===u?void 0:u.ignoreMultiPack)||(n=Dc(n,e.src),t.push(r.load({src:n,data:{ignoreMultiPack:!0}})))}const n=await Promise.all(t);a.linkedSheets=n,n.forEach((t=>{t.linkedSheets=[a].concat(a.linkedSheets.filter((e=>e!==t)))}))}return a},unload(t){t.destroy(!0)}}};sa.add(Gf);class zf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class jf{static test(t){return"string"==typeof t&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const i in e){const t=e[i].match(/^[a-z]+/gm)[0],n=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(const e in n){const t=n[e].split("="),r=t[0],i=t[1].replace(/"/gm,""),o=parseFloat(i),a=isNaN(o)?i:o;s[r]=a}r[t].push(s)}const n=new zf;return r.info.forEach((t=>n.info.push({face:t.face,size:parseInt(t.size,10)}))),r.common.forEach((t=>n.common.push({lineHeight:parseInt(t.lineHeight,10)}))),r.page.forEach((t=>n.page.push({id:parseInt(t.id,10),file:t.file}))),r.char.forEach((t=>n.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)}))),r.kerning.forEach((t=>n.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)}))),r.distanceField.forEach((t=>n.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType}))),n}}class Hf{static test(t){const e=t;return"string"!=typeof t&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(t){const e=new zf,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),a=t.getElementsByTagName("distanceField");for(let l=0;l<r.length;l++)e.info.push({face:r[l].getAttribute("face"),size:parseInt(r[l].getAttribute("size"),10)});for(let l=0;l<n.length;l++)e.common.push({lineHeight:parseInt(n[l].getAttribute("lineHeight"),10)});for(let l=0;l<i.length;l++)e.page.push({id:parseInt(i[l].getAttribute("id"),10)||0,file:i[l].getAttribute("file")});for(let l=0;l<s.length;l++){const t=s[l];e.char.push({id:parseInt(t.getAttribute("id"),10),page:parseInt(t.getAttribute("page"),10)||0,x:parseInt(t.getAttribute("x"),10),y:parseInt(t.getAttribute("y"),10),width:parseInt(t.getAttribute("width"),10),height:parseInt(t.getAttribute("height"),10),xoffset:parseInt(t.getAttribute("xoffset"),10),yoffset:parseInt(t.getAttribute("yoffset"),10),xadvance:parseInt(t.getAttribute("xadvance"),10)})}for(let l=0;l<o.length;l++)e.kerning.push({first:parseInt(o[l].getAttribute("first"),10),second:parseInt(o[l].getAttribute("second"),10),amount:parseInt(o[l].getAttribute("amount"),10)});for(let l=0;l<a.length;l++)e.distanceField.push({fieldType:a[l].getAttribute("fieldType"),distanceRange:parseInt(a[l].getAttribute("distanceRange"),10)});return e}}class Wf{static test(t){return!("string"!=typeof t||!t.includes("<font>"))&&Hf.test(Ps.ADAPTER.parseXML(t))}static parse(t){return Hf.parse(Ps.ADAPTER.parseXML(t))}}const Vf=[jf,Hf,Wf];function Xf(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,h=-o.strokeThickness/2;if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=function(t,e,r,n,i,s){const o=r.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,h=t.width/n-l-2*u,c=t.height/n-l-2*u,d=o.slice(),f=r.fillGradientStops.slice();if(!f.length){const t=d.length+1;for(let e=1;e<t;++e)f.push(e/t)}if(d.unshift(o[0]),f.unshift(0),d.push(o[o.length-1]),f.push(1),r.fillGradientType===af.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,u,h/2,c+u);let t=0;const n=(s.fontProperties.fontSize+r.strokeThickness)/c;for(let e=0;e<i.length;e++){const r=s.lineHeight*e;for(let e=0;e<d.length;e++){let i=0;i="number"==typeof f[e]?f[e]:e/d.length;const s=r/c+i*n;let o=Math.max(t,s);o=Math.min(o,1),a.addColorStop(o,d[e]),t=o}}}else{a=e.createLinearGradient(u,c/2,h+u,c/2);const t=d.length+1;let r=1;for(let e=0;e<d.length;e++){let n;n="number"==typeof f[e]?f[e]:r/t,a.addColorStop(n,d[e]),r++}}return a}(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const t=o.dropShadowColor,r=o.dropShadowBlur*s,n=o.dropShadowDistance*s;e.shadowColor=No.shared.setValue(t).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=r,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*n,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*n}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,h+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Yf(t){return Array.from?Array.from(t):t.split("")}function qf(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}const $f=class t{constructor(t,e,r){var n,i;const[s]=t.info,[o]=t.common,[a]=t.page,[l]=t.distanceField,u=ea(a.file),h={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/u,this.chars={},this.pageTextures=h;for(let c=0;c<t.page.length;c++){const{id:r,file:n}=t.page[c];h[r]=e instanceof Array?e[c]:e[n],(null===l||void 0===l?void 0:l.fieldType)&&"none"!==l.fieldType&&(h[r].baseTexture.alphaMode=xs.NO_PREMULTIPLIED_ALPHA,h[r].baseTexture.mipmap=bs.OFF)}for(let c=0;c<t.char.length;c++){const{id:e,page:r}=t.char[c];let{x:n,y:i,width:s,height:o,xoffset:a,yoffset:l,xadvance:d}=t.char[c];n/=u,i/=u,s/=u,o/=u,a/=u,l/=u,d/=u;const f=new Oa(n+h[r].frame.x/u,i+h[r].frame.y/u,s,o);this.chars[e]={xOffset:a,yOffset:l,xAdvance:d,kerning:{},texture:new Nl(h[r].baseTexture,f),page:r}}for(let c=0;c<t.kerning.length;c++){let{first:e,second:r,amount:n}=t.kerning[c];e/=u,r/=u,n/=u,this.chars[r]&&(this.chars[r].kerning[e]=n)}this.distanceFieldRange=null===l||void 0===l?void 0:l.distanceRange,this.distanceFieldType=null!==(n=null===l||void 0===l||null===(i=l.fieldType)||void 0===i?void 0:i.toLowerCase())&&void 0!==n?n:"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof zf)i=e;else{const t=function(t){for(let e=0;e<Vf.length;e++)if(Vf[e].test(t))return Vf[e];return null}(e);if(!t)throw new Error("Unrecognized data format for font.");i=t.parse(e)}r instanceof Nl&&(r=[r]);const s=new t(i,r,n);return t.available[s.font]=s,s}static uninstall(e){const r=t.available[e];if(!r)throw new Error("No font found named '".concat(e,"'"));r.destroy(),delete t.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:l,...u}=Object.assign({},t.defaultOptions,n),h=function(t){"string"==typeof t&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(n.length,"."));const t=n[0].charCodeAt(0),r=n[1].charCodeAt(0);if(r<t)throw new Error("[BitmapFont]: Invalid character range.");for(let n=t,i=r;n<=i;n++)e.push(String.fromCharCode(n))}else e.push(...Yf(n))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(i),c=r instanceof ff?r:new ff(r),d=a,f=new zf;f.info[0]={face:c.fontFamily,size:c.fontSize},f.common[0]={lineHeight:c.fontSize};let p,m,g,v=0,y=0,_=0;const b=[],x=[];for(let t=0;t<h.length;t++){p||(p=Ps.ADAPTER.createCanvas(),p.width=a,p.height=l,m=p.getContext("2d"),g=new va(p,{resolution:o,...u}),b.push(g),x.push(new Nl(g)),f.page.push({id:x.length-1,file:""}));const e=h[t],r=hf.measureText(e,c,!1,p),n=r.width,i=Math.ceil(r.height),w=Math.ceil(("italic"===c.fontStyle?2:1)*n);if(y>=l-i*o){if(0===y)throw new Error("[BitmapFont] textureHeight ".concat(l,"px is too small (fontFamily: '").concat(c.fontFamily,"', fontSize: ").concat(c.fontSize,"px, char: '").concat(e,"')"));--t,p=null,m=null,g=null,y=0,v=0,_=0;continue}if(_=Math.max(i+r.fontProperties.descent,_),w*o+v>=d){if(0===v)throw new Error("[BitmapFont] textureWidth ".concat(a,"px is too small (fontFamily: '").concat(c.fontFamily,"', fontSize: ").concat(c.fontSize,"px, char: '").concat(e,"')"));--t,y+=_*o,y=Math.ceil(y),v=0,_=0;continue}Xf(p,m,r,v,y,o,c);const E=qf(r.text);f.char.push({id:E,page:x.length-1,x:v/o,y:y/o,width:w,height:i,xoffset:0,yoffset:0,xadvance:n-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0)}),v+=(w+2*s)*o,v=Math.ceil(v)}if(null===n||void 0===n||!n.skipKerning)for(let t=0,E=h.length;t<E;t++){const e=h[t];for(let t=0;t<E;t++){const r=h[t],n=m.measureText(e).width,i=m.measureText(r).width,s=m.measureText(e+r).width-(n+i);s&&f.kerning.push({first:qf(e),second:qf(r),amount:s})}}const w=new t(f,x,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=w,w}};$f.ALPHA=[["a","z"],["A","Z"]," "],$f.NUMERIC=[["0","9"]],$f.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],$f.ASCII=[[" ","~"]],$f.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:$f.ALPHANUMERIC},$f.available={};let Kf=$f;const Qf=[],Zf=[],Jf=[],tp=class t extends ch{constructor(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:l}=Object.assign({},t.styleDefaults,r);if(!Kf.available[a])throw new Error('Missing BitmapFont "'.concat(a,'"'));this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new No(i),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new qa((()=>{this.dirty=!0}),this,0,0),this._roundPixels=Ps.ROUND_PIXELS,this.dirty=!0,this._resolution=Ps.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=Kf.available[this._fontName],e=this.fontSize,r=e/t.size,n=new ka,i=[],s=[],o=[],a=Yf(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*t.size/e,u="none"===t.distanceFieldType?Qf:Zf;let h=null,c=0,d=0,f=0,p=-1,m=0,g=0,v=0,y=0;for(let A=0;A<a.length;A++){const e=a[A],r=qf(e);if(/(?:\s)/.test(e)&&(p=A,m=c,y++),"\r"===e||"\n"===e){s.push(c),o.push(-1),d=Math.max(d,c),++f,++g,n.x=0,n.y+=t.lineHeight,h=null,y=0;continue}const u=t.chars[r];if(!u)continue;h&&u.kerning[h]&&(n.x+=u.kerning[h]);const _=Jf.pop()||{texture:Nl.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ka};_.texture=u.texture,_.line=f,_.charCode=r,_.position.x=Math.round(n.x+u.xOffset+this._letterSpacing/2),_.position.y=Math.round(n.y+u.yOffset),_.prevSpaces=y,i.push(_),c=_.position.x+Math.max(u.xAdvance-u.xOffset,u.texture.orig.width),n.x+=u.xAdvance+this._letterSpacing,v=Math.max(v,u.yOffset+u.texture.height),h=r,-1!==p&&l>0&&n.x>l&&(++g,jo(i,1+p-g,1+A-p),A=p,p=-1,s.push(m),o.push(i.length>0?i[i.length-1].prevSpaces:0),d=Math.max(d,m),f++,n.x=0,n.y+=t.lineHeight,h=null,y=0)}const _=a[a.length-1];"\r"!==_&&"\n"!==_&&(/(?:\s)/.test(_)&&(c=m),s.push(c),d=Math.max(d,c),o.push(-1));const b=[];for(let A=0;A<=f;A++){let t=0;"right"===this._align?t=d-s[A]:"center"===this._align?t=(d-s[A])/2:"justify"===this._align&&(t=o[A]<0?0:(d-s[A])/o[A]),b.push(t)}const x=i.length,w={},E=[],T=this._activePagesMeshData;u.push(...T);for(let A=0;A<x;A++){const e=i[A].texture,r=e.baseTexture.uid;if(!w[r]){let n=u.pop();if(!n){const e=new rf;let r,i;"none"===t.distanceFieldType?(r=new nf(Nl.EMPTY),i=ds.NORMAL):(r=new nf(Nl.EMPTY,{program:fl.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),i=ds.NORMAL_NPM);const s=new ef(e,r);s.blendMode=i,n={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:s,vertices:null,uvs:null,indices:null}}n.index=0,n.indexCount=0,n.vertexCount=0,n.uvsCount=0,n.total=0;const{_textureCache:i}=this;i[r]=i[r]||new Nl(e.baseTexture),n.mesh.texture=i[r],n.mesh.tint=this._tintColor.value,E.push(n),w[r]=n}w[r].total++}for(let A=0;A<T.length;A++)E.includes(T[A])||this.removeChild(T[A].mesh);for(let A=0;A<E.length;A++)E[A].mesh.parent!==this&&this.addChild(E[A].mesh);this._activePagesMeshData=E;for(const A in w){var S;const t=w[A],e=t.total;if(!((null===(S=t.indices)||void 0===S?void 0:S.length)>6*e)||t.vertices.length<2*ef.BATCHABLE_SIZE)t.vertices=new Float32Array(8*e),t.uvs=new Float32Array(8*e),t.indices=new Uint16Array(6*e);else{const e=t.total,r=t.vertices;for(let t=4*e*2;t<r.length;t++)r[t]=0}t.mesh.size=6*e}for(let A=0;A<x;A++){const t=i[A];let e=t.position.x+b[t.line]*("justify"===this._align?t.prevSpaces:1);this._roundPixels&&(e=Math.round(e));const n=e*r,s=t.position.y*r,o=t.texture,a=w[o.baseTexture.uid],l=o.frame,u=o._uvs,h=a.index++;a.indices[6*h+0]=0+4*h,a.indices[6*h+1]=1+4*h,a.indices[6*h+2]=2+4*h,a.indices[6*h+3]=0+4*h,a.indices[6*h+4]=2+4*h,a.indices[6*h+5]=3+4*h,a.vertices[8*h+0]=n,a.vertices[8*h+1]=s,a.vertices[8*h+2]=n+l.width*r,a.vertices[8*h+3]=s,a.vertices[8*h+4]=n+l.width*r,a.vertices[8*h+5]=s+l.height*r,a.vertices[8*h+6]=n,a.vertices[8*h+7]=s+l.height*r,a.uvs[8*h+0]=u.x0,a.uvs[8*h+1]=u.y0,a.uvs[8*h+2]=u.x1,a.uvs[8*h+3]=u.y1,a.uvs[8*h+4]=u.x2,a.uvs[8*h+5]=u.y2,a.uvs[8*h+6]=u.x3,a.uvs[8*h+7]=u.y3}this._textWidth=d*r,this._textHeight=(n.y+t.lineHeight)*r;for(const A in w){const t=w[A];if(0!==this.anchor.x||0!==this.anchor.y){let e=0;const r=this._textWidth*this.anchor.x,n=this._textHeight*this.anchor.y;for(let i=0;i<t.total;i++)t.vertices[e++]-=r,t.vertices[e++]-=n,t.vertices[e++]-=r,t.vertices[e++]-=n,t.vertices[e++]-=r,t.vertices[e++]-=n,t.vertices[e++]-=r,t.vertices[e++]-=n}this._maxLineHeight=v*r;const e=t.mesh.geometry.getBuffer("aVertexPosition"),n=t.mesh.geometry.getBuffer("aTextureCoord"),i=t.mesh.geometry.getIndex();e.data=t.vertices,n.data=t.uvs,i.data=t.indices,e.update(),n.update(),i.update()}for(let A=0;A<i.length;A++)Jf.push(i[A]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=Kf.available[this._fontName];if("none"!==r){const{a:r,b:i,c:s,d:o}=this.worldTransform,a=Math.sqrt(r*r+i*i),l=Math.sqrt(s*s+o*o),u=(Math.abs(a)+Math.abs(l))/2,h=this.fontSize/n,c=t._view.resolution;for(const t of this._activePagesMeshData)t.mesh.shader.uniforms.uFWidth=u*e*h*c}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Kf.available[this._fontName];if(!t)throw new Error('Missing BitmapFont "'.concat(this._fontName,'"'));this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Kf.available[t])throw new Error('Missing BitmapFont "'.concat(t,'"'));this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){var t;return null!==(t=this._fontSize)&&void 0!==t?t:Kf.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){var e;t=String(null!==(e=t)&&void 0!==e?e:""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r="none"===Kf.available[this._fontName].distanceFieldType?Qf:Zf;r.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],r.filter((t=>e[t.mesh.texture.baseTexture.uid])).forEach((t=>{t.mesh.texture=Nl.EMPTY}));for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};tp.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const ep=[".xml",".fnt"],rp={extension:{type:ra.LoadParser,priority:Yh.Normal},name:"loadBitmapFont",test:t=>ep.includes(eo.extname(t).toLowerCase()),testParse:async t=>jf.test(t)||Wf.test(t),async parse(t,e,r){const n=jf.test(t)?jf.parse(t):Wf.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const t=s[u].file;let e=eo.join(eo.dirname(i),t);e=Dc(e,i),o.push(e)}const a=await r.load(o),l=o.map((t=>a[t]));return Kf.install(n,l,!0)},load:async(t,e)=>(await Ps.ADAPTER.fetch(t)).text(),unload(t){t.destroy()}};sa.add(rp);const np=class t extends ff{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new t(Object.keys(t.defaultOptions).reduce(((t,r)=>({...t,[r]:e[r]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((e=>{URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete t.availableFonts[e.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{availableFonts:n}=t;if(n[e]){const t=n[e];return this._fonts.push(t),t.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Ps.ADAPTER.fetch(e).then((t=>t.blob())).then((async t=>new Promise(((e,r)=>{const n=URL.createObjectURL(t),i=new FileReader;i.onload=()=>e([n,i.result]),i.onerror=r,i.readAsDataURL(t)})))).then((async t=>{let[i,s]=t;const o=Object.assign({family:eo.basename(e,eo.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,"url(".concat(o.src,")"),{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=e.filter((t=>!this._overrides.includes(t)));n.length>0&&(this._overrides.push(...n),this.styleID++)}removeOverride(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=e.filter((t=>this._overrides.includes(t)));n.length>0&&(this._overrides=this._overrides.filter((t=>!n.includes(t))),this.styleID++)}toCSS(t){return["transform: scale(".concat(t,")"),"transform-origin: top left","display: inline-block","color: ".concat(this.normalizeColor(this.fill)),"font-size: ".concat(this.fontSize,"px"),"font-family: ".concat(this.fontFamily),"font-weight: ".concat(this.fontWeight),"font-style: ".concat(this.fontStyle),"font-variant: ".concat(this.fontVariant),"letter-spacing: ".concat(this.letterSpacing,"px"),"text-align: ".concat(this.align),"padding: ".concat(this.padding,"px"),"white-space: ".concat(this.whiteSpace),...this.lineHeight?["line-height: ".concat(this.lineHeight,"px")]:[],...this.wordWrap?["word-wrap: ".concat(this.breakWords?"break-all":"break-word"),"max-width: ".concat(this.wordWrapWidth,"px")]:[],...this.strokeThickness?["-webkit-text-stroke-width: ".concat(this.strokeThickness,"px"),"-webkit-text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"text-stroke-width: ".concat(this.strokeThickness,"px"),"text-stroke-color: ".concat(this.normalizeColor(this.stroke)),"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((t,e)=>"".concat(t,'\n            @font-face {\n                font-family: "').concat(e.family,"\";\n                src: url('").concat(e.dataSrc,"');\n                font-weight: ").concat(e.weight,";\n                font-style: ").concat(e.style,";\n                font-display: ").concat(e.display,";\n            }")),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(r=t,Zs("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),t=No.shared.setValue(r).toNumber()),"number"==typeof t?(e=t,Zs("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),No.shared.setValue(e).toHex()):t;var e,r}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(255*e|0).toString(16).padStart(2,"0"));const i="".concat(r,"px ").concat(n,"px");return this.dropShadowBlur>0?"text-shadow: ".concat(i," ").concat(this.dropShadowBlur,"px ").concat(t):"text-shadow: ".concat(i," ").concat(t)}reset(){Object.assign(this,t.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise((t=>setTimeout(t,100))):Promise.resolve()}get isSafari(){const{userAgent:t}=Ps.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};np.availableFonts={},np.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let ip=np;const sp=class t extends ph{constructor(){var e;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(Nl.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,s=Nl.from(i,{scaleMode:Ps.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new Oa,s.trim=new Oa,this.texture=s;const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",l=document.createElementNS(o,"svg"),u=document.createElementNS(o,"foreignObject"),h=document.createElementNS(a,"div"),c=document.createElementNS(a,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",l.appendChild(u),this.maxWidth=t.defaultMaxWidth,this.maxHeight=t.defaultMaxHeight,this._domElement=h,this._styleElement=c,this._svgRoot=l,this._foreignObject=u,this._foreignObject.appendChild(c),this._foreignObject.appendChild(h),this._image=i,this._loadImage=new Image,this._autoResolution=t.defaultAutoResolution,this._resolution=null!==(e=t.defaultResolution)&&void 0!==e?e:Ps.RESOLUTION,this.text=r,this.style=n}measureText(t){var e,r;const{text:n,style:i,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:n,style:i.toCSS(s)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:a,height:l}=o;(a>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const u=Math.min(this.maxWidth,Math.ceil(a)),h=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",h.toString()),n!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:null===(e=this._style)||void 0===e?void 0:e.toCSS(s)}),this._styleElement.textContent=null===(r=this._style)||void 0===r?void 0:r.toGlobalCSS()),{width:u+2*i.padding,height:h+2*i.padding}}async updateText(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._updateID++;const o=this._updateID;await new Promise((t=>{n.onload=async()=>{o<this._updateID||(await e.onBeforeDraw(),r.src=n.src,n.onload=null,n.src="",this.updateTexture()),t()};const i=(new XMLSerializer).serializeToString(this._svgRoot);n.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(i))}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-2*i,e.orig.height=e._frame.height-2*i,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,n,i,s,o;"boolean"==typeof e&&(e={children:e}),e=Object.assign({},t.defaultDestroyOptions,e),super.destroy(e);const a=null;this.ownsStyle&&null!==(r=this._style)&&void 0!==r&&r.cleanFonts(),this._style=a,null!==(n=this._svgRoot)&&void 0!==n&&n.remove(),this._svgRoot=a,null!==(i=this._domElement)&&void 0!==i&&i.remove(),this._domElement=a,null!==(s=this._foreignObject)&&void 0!==s&&s.remove(),this._foreignObject=a,null!==(o=this._styleElement)&&void 0!==o&&o.remove(),this._styleElement=a,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=a,this._image.src="",this._image=a}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Ho(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Ho(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&((t=t||{})instanceof ip?(this.ownsStyle=!1,this._style=t):t instanceof ff?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=ip.from(t)):(this.ownsStyle=!0,this._style=new ip(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(""===t||null===t||void 0===t?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};sp.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},sp.defaultMaxWidth=2024,sp.defaultMaxHeight=2024,sp.defaultAutoResolution=!0;var op="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function ap(){var t=new op(2);return op!=Float32Array&&(t[0]=0,t[1]=0),t}function lp(t,e){return t[0]=e[0],t[1]=e[1],t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var up=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t};!function(){var t=ap()}();let hp=function(t){return t[t.null=0]="null",t[t.platform=1]="platform",t[t.waterDrop=2]="waterDrop",t[t.knowledgePiece=3]="knowledgePiece",t[t.player=10]="player",t[t.enemy1=11]="enemy1",t[t.enemy2=12]="enemy2",t[t.enemy3=13]="enemy3",t[t.enemy4=14]="enemy4",t}({});const cp=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,0,1,0],[1,1,0,0,0,1,1,1,0,1,0,0,0,0,1,0,0,1,0,0,0,0,1,1,1,0,0,1,1],[0,1,0,0,0,0,1,0,0,1,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0,1,0,0,1,0,0,1,0,1,0,0,1,1,1,0,0,1,0],[0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,1,1,1,0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,10,0,1,0,1,1,1,0,0,0,1,0,0,0,0,1,0],[0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,1,0,0,0,0,1,0,0,0,0,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,1,1,1,1,1,1,1],[0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];class dp extends ch{constructor(t){super(),this.camera=null,this._gamePosition=[0,0],this.type=hp.null,this.layout=es.object,this.camera=t}get gamePosition(){return this._gamePosition}set gamePosition(t){this.customSetGamePosition(t)}updateDrawPosition(){var t,e;const r=null!==(t=null===(e=this.camera)||void 0===e?void 0:e.calculateDrawPosition(this.gamePosition))&&void 0!==t?t:[0,0];this.position.set(r[0],r[1])}customSetGamePosition(t){lp(this._gamePosition,t)}}class fp extends dp{constructor(){super(null),this.position.set(0,0)}isStateInactive(){return!1}setStateInactive(){}calculateDrawPosition(t){return[(t[0]-this.gamePosition[0])*rs,(t[1]-this.gamePosition[1])*rs]}}const pp=t=>{var e,r;const n=window.innerWidth<window.innerHeight,i=null!==(e=null===t||void 0===t?void 0:t.clientX)&&void 0!==e?e:0,s=null!==(r=null===t||void 0===t?void 0:t.clientY)&&void 0!==r?r:0;return[n?s:i,n?window.innerWidth-i:s]};function mp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gp(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var vp,yp,_p,bp,xp,wp,Ep,Tp,Sp,Ap,Cp,Rp={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Pp={duration:.5,overwrite:!1,delay:0},Ip=1e8,Mp=1e-8,kp=2*Math.PI,Dp=kp/4,Op=0,Np=Math.sqrt,Lp=Math.cos,Fp=Math.sin,Bp=function(t){return"string"===typeof t},Up=function(t){return"function"===typeof t},Gp=function(t){return"number"===typeof t},zp=function(t){return"undefined"===typeof t},jp=function(t){return"object"===typeof t},Hp=function(t){return!1!==t},Wp=function(){return"undefined"!==typeof window},Vp=function(t){return Up(t)||Bp(t)},Xp="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Yp=Array.isArray,qp=/(?:-?\.?\d|\.)+/gi,$p=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Kp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Qp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Zp=/[+-]=-?[.\d]+/,Jp=/[^,'"\[\]\s]+/gi,tm=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,em={},rm={},nm=function(t){return(rm=km(t,em))&&Dv},im=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},sm=function(t,e){return!e&&console.warn(t)},om=function(t,e){return t&&(em[t]=e)&&rm&&(rm[t]=e)||em},am=function(){return 0},lm={suppressEvents:!0,isStart:!0,kill:!1},um={suppressEvents:!0,kill:!1},hm={suppressEvents:!0},cm={},dm=[],fm={},pm={},mm={},gm=30,vm=[],ym="",_m=function(t){var e,r,n=t[0];if(jp(n)||Up(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(r=vm.length;r--&&!vm[r].targetTest(n););e=vm[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Yg(t[r],e)))||t.splice(r,1);return t},bm=function(t){return t._gsap||_m(hg(t))[0]._gsap},xm=function(t,e,r){return(r=t[e])&&Up(r)?t[e]():zp(r)&&t.getAttribute&&t.getAttribute(e)||r},wm=function(t,e){return(t=t.split(",")).forEach(e)||t},Em=function(t){return Math.round(1e5*t)/1e5||0},Tm=function(t){return Math.round(1e7*t)/1e7||0},Sm=function(t,e){var r=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===r?t+n:"-"===r?t-n:"*"===r?t*n:t/n},Am=function(t,e){for(var r=e.length,n=0;t.indexOf(e[n])<0&&++n<r;);return n<r},Cm=function(){var t,e,r=dm.length,n=dm.slice(0);for(fm={},dm.length=0,t=0;t<r;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Rm=function(t,e,r,n){dm.length&&!yp&&Cm(),t.render(e,r,n||yp&&e<0&&(t._initted||t._startAt)),dm.length&&!yp&&Cm()},Pm=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Jp).length<2?e:Bp(t)?t.trim():t},Im=function(t){return t},Mm=function(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},km=function(t,e){for(var r in e)t[r]=e[r];return t},Dm=function t(e,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=jp(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Om=function(t,e){var r,n={};for(r in t)r in e||(n[r]=t[r]);return n},Nm=function(t){var e,r=t.parent||bp,n=t.keyframes?(e=Yp(t.keyframes),function(t,r){for(var n in r)n in t||"duration"===n&&e||"ease"===n||(t[n]=r[n])}):Mm;if(Hp(t.inherit))for(;r;)n(t,r.vars.defaults),r=r.parent||r._dp;return t},Lm=function(t,e,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var s,o=t[n];if(i)for(s=e[i];o&&o[i]>s;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t,e},Fm=function(t,e,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=e._prev,s=e._next;i?i._next=s:t[r]===e&&(t[r]=s),s?s._prev=i:t[n]===e&&(t[n]=i),e._next=e._prev=e.parent=null},Bm=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Um=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},Gm=function(t,e,r,n){return t._startAt&&(yp?t._startAt.revert(um):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},zm=function t(e){return!e||e._ts&&t(e.parent)},jm=function(t){return t._repeat?Hm(t._tTime,t=t.duration()+t._rDelay)*t:0},Hm=function(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},Wm=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Vm=function(t){return t._end=Tm(t._start+(t._tDur/Math.abs(t._ts||t._rts||Mp)||0))},Xm=function(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Tm(r._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Vm(t),r._dirty||Um(r,t)),t},Ym=function(t,e){var r;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(r=Wm(t.rawTime(),e),(!e._dur||sg(0,e.totalDuration(),r)-e._tTime>Mp)&&e.render(r,!0)),Um(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-1e-8}},qm=function(t,e,r,n){return e.parent&&Bm(e),e._start=Tm((Gp(r)?r:r||t!==bp?rg(t,r,e):t._time)+e._delay),e._end=Tm(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Lm(t,e,"_first","_last",t._sort?"_start":0),Zm(e)||(t._recent=e),n||Ym(t,e),t._ts<0&&Xm(t,t._tTime),t},$m=function(t,e){return(em.ScrollTrigger||im("scrollTrigger",e))&&em.ScrollTrigger.create(e,t)},Km=function(t,e,r,n,i){return ev(t,e,i),t._initted?!r&&t._pt&&!yp&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&Sp!==Og.frame?(dm.push(t),t._lazy=[i,n],1):void 0:1},Qm=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Zm=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Jm=function(t,e,r,n){var i=t._repeat,s=Tm(e)||0,o=t._tTime/t._tDur;return o&&!n&&(t._time*=s/t._dur),t._dur=s,t._tDur=i?i<0?1e10:Tm(s*(i+1)+t._rDelay*i):s,o>0&&!n&&Xm(t,t._tTime=t._tDur*o),t.parent&&Vm(t),r||Um(t.parent,t),t},tg=function(t){return t instanceof $g?Um(t):Jm(t,t._dur)},eg={_start:0,endTime:am,totalDuration:am},rg=function t(e,r,n){var i,s,o,a=e.labels,l=e._recent||eg,u=e.duration()>=Ip?l.endTime(!1):e._dur;return Bp(r)&&(isNaN(r)||r in a)?(s=r.charAt(0),o="%"===r.substr(-1),i=r.indexOf("="),"<"===s||">"===s?(i>=0&&(r=r.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(r.substr(1))||0)*(o?(i<0?l:n).totalDuration()/100:1)):i<0?(r in a||(a[r]=u),a[r]):(s=parseFloat(r.charAt(i-1)+r.substr(i+1)),o&&n&&(s=s/100*(Yp(n)?n[0]:n).totalDuration()),i>1?t(e,r.substr(0,i-1),n)+s:u+s)):null==r?u:+r},ng=function(t,e,r){var n,i,s=Gp(e[1]),o=(s?2:1)+(t<2?0:1),a=e[o];if(s&&(a.duration=e[1]),a.parent=r,t){for(n=a,i=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=Hp(i.vars.inherit)&&i.parent;a.immediateRender=Hp(n.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return new ov(e[0],a,e[o+1])},ig=function(t,e){return t||0===t?e(t):e},sg=function(t,e,r){return r<t?t:r>e?e:r},og=function(t,e){return Bp(t)&&(e=tm.exec(t))?e[1]:""},ag=[].slice,lg=function(t,e){return t&&jp(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&jp(t[0]))&&!t.nodeType&&t!==xp},ug=function(t,e,r){return void 0===r&&(r=[]),t.forEach((function(t){var n;return Bp(t)&&!e||lg(t,1)?(n=r).push.apply(n,hg(t)):r.push(t)}))||r},hg=function(t,e,r){return _p&&!e&&_p.selector?_p.selector(t):!Bp(t)||r||!wp&&Ng()?Yp(t)?ug(t,r):lg(t)?ag.call(t,0):t?[t]:[]:ag.call((e||Ep).querySelectorAll(t),0)},cg=function(t){return t=hg(t)[0]||sm("Invalid scope")||{},function(e){var r=t.current||t.nativeElement||t;return hg(e,r.querySelectorAll?r:r===t?sm("Invalid scope")||Ep.createElement("div"):t)}},dg=function(t){return t.sort((function(){return.5-Math.random()}))},fg=function(t){if(Up(t))return t;var e=jp(t)?t:{each:t},r=jg(e.ease),n=e.from||0,i=parseFloat(e.base)||0,s={},o=n>0&&n<1,a=isNaN(n)||o,l=e.axis,u=n,h=n;return Bp(n)?u=h={center:.5,edges:.5,end:1}[n]||0:!o&&a&&(u=n[0],h=n[1]),function(t,o,c){var d,f,p,m,g,v,y,_,b,x=(c||e).length,w=s[x];if(!w){if(!(b="auto"===e.grid?0:(e.grid||[1,Ip])[1])){for(y=-Ip;y<(y=c[b++].getBoundingClientRect().left)&&b<x;);b<x&&b--}for(w=s[x]=[],d=a?Math.min(b,x)*u-.5:n%b,f=b===Ip?0:a?x*h/b-.5:n/b|0,y=0,_=Ip,v=0;v<x;v++)p=v%b-d,m=f-(v/b|0),w[v]=g=l?Math.abs("y"===l?m:p):Np(p*p+m*m),g>y&&(y=g),g<_&&(_=g);"random"===n&&dg(w),w.max=y-_,w.min=_,w.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(b>x?x-1:l?"y"===l?x/b:b:Math.max(b,x/b))||0)*("edges"===n?-1:1),w.b=x<0?i-x:i,w.u=og(e.amount||e.each)||0,r=r&&x<0?Gg(r):r}return x=(w[t]-w.min)/w.max||0,Tm(w.b+(r?r(x):x)*w.v)+w.u}},pg=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var n=Tm(Math.round(parseFloat(r)/t)*t*e);return(n-n%1)/e+(Gp(r)?0:og(r))}},mg=function(t,e){var r,n,i=Yp(t);return!i&&jp(t)&&(r=i=t.radius||Ip,t.values?(t=hg(t.values),(n=!Gp(t[0]))&&(r*=r)):t=pg(t.increment)),ig(e,i?Up(t)?function(e){return n=t(e),Math.abs(n-e)<=r?n:e}:function(e){for(var i,s,o=parseFloat(n?e.x:e),a=parseFloat(n?e.y:0),l=Ip,u=0,h=t.length;h--;)(i=n?(i=t[h].x-o)*i+(s=t[h].y-a)*s:Math.abs(t[h]-o))<l&&(l=i,u=h);return u=!r||l<=r?t[u]:e,n||u===e||Gp(e)?u:u+og(e)}:pg(t))},gg=function(t,e,r,n){return ig(Yp(t)?!e:!0===r?!!(r=0):!n,(function(){return Yp(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*n)/n}))},vg=function(t,e,r){return ig(r,(function(r){return t[~~e(r)]}))},yg=function(t){for(var e,r,n,i,s=0,o="";~(e=t.indexOf("random(",s));)n=t.indexOf(")",e),i="["===t.charAt(e+7),r=t.substr(e+7,n-e-7).match(i?Jp:qp),o+=t.substr(s,e-s)+gg(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),s=n+1;return o+t.substr(s,t.length-s)},_g=function(t,e,r,n,i){var s=e-t,o=n-r;return ig(i,(function(e){return r+((e-t)/s*o||0)}))},bg=function(t,e,r){var n,i,s,o=t.labels,a=Ip;for(n in o)(i=o[n]-e)<0===!!r&&i&&a>(i=Math.abs(i))&&(s=n,a=i);return s},xg=function(t,e,r){var n,i,s,o=t.vars,a=o[e],l=_p,u=t._ctx;if(a)return n=o[e+"Params"],i=o.callbackScope||t,r&&dm.length&&Cm(),u&&(_p=u),s=n?a.apply(i,n):a.call(i),_p=l,s},wg=function(t){return Bm(t),t.scrollTrigger&&t.scrollTrigger.kill(!!yp),t.progress()<1&&xg(t,"onInterrupt"),t},Eg=[],Tg=function(t){if(Wp()&&t){var e=(t=!t.name&&t.default||t).name,r=Up(t),n=e&&!r&&t.init?function(){this._props=[]}:t,i={init:am,render:mv,add:Jg,kill:vv,modifier:gv,rawVars:0},s={targetTest:0,get:0,getSetter:cv,aliases:{},register:0};if(Ng(),t!==n){if(pm[e])return;Mm(n,Mm(Om(t,i),s)),km(n.prototype,km(i,Om(t,s))),pm[n.prop=e]=n,t.targetTest&&(vm.push(n),cm[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}om(e,n),t.register&&t.register(Dv,n,bv)}else t&&Eg.push(t)},Sg=255,Ag={aqua:[0,Sg,Sg],lime:[0,Sg,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Sg],navy:[0,0,128],white:[Sg,Sg,Sg],olive:[128,128,0],yellow:[Sg,Sg,0],orange:[Sg,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Sg,0,0],pink:[Sg,192,203],cyan:[0,Sg,Sg],transparent:[Sg,Sg,Sg,0]},Cg=function(t,e,r){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*Sg+.5|0},Rg=function(t,e,r){var n,i,s,o,a,l,u,h,c,d,f=t?Gp(t)?[t>>16,t>>8&Sg,t&Sg]:0:Ag.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Ag[t])f=Ag[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),i=t.charAt(2),s=t.charAt(3),t="#"+n+n+i+i+s+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&Sg,f&Sg,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&Sg,t&Sg]}else if("hsl"===t.substr(0,3))if(f=d=t.match(qp),e){if(~t.indexOf("="))return f=t.match($p),r&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,a=+f[1]/100,n=2*(l=+f[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),f.length>3&&(f[3]*=1),f[0]=Cg(o+1/3,n,i),f[1]=Cg(o,n,i),f[2]=Cg(o-1/3,n,i);else f=t.match(qp)||Ag.transparent;f=f.map(Number)}return e&&!d&&(n=f[0]/Sg,i=f[1]/Sg,s=f[2]/Sg,l=((u=Math.max(n,i,s))+(h=Math.min(n,i,s)))/2,u===h?o=a=0:(c=u-h,a=l>.5?c/(2-u-h):c/(u+h),o=u===n?(i-s)/c+(i<s?6:0):u===i?(s-n)/c+2:(n-i)/c+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*a+.5),f[2]=~~(100*l+.5)),r&&f.length<4&&(f[3]=1),f},Pg=function(t){var e=[],r=[],n=-1;return t.split(Mg).forEach((function(t){var i=t.match(Kp)||[];e.push.apply(e,i),r.push(n+=i.length+1)})),e.c=r,e},Ig=function(t,e,r){var n,i,s,o,a="",l=(t+a).match(Mg),u=e?"hsla(":"rgba(",h=0;if(!l)return t;if(l=l.map((function(t){return(t=Rg(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),r&&(s=Pg(t),(n=r.c).join(a)!==s.c.join(a)))for(o=(i=t.replace(Mg,"1").split(Kp)).length-1;h<o;h++)a+=i[h]+(~n.indexOf(h)?l.shift()||u+"0,0,0,0)":(s.length?s:l.length?l:r).shift());if(!i)for(o=(i=t.split(Mg)).length-1;h<o;h++)a+=i[h]+l[h];return a+i[o]},Mg=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Ag)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),kg=/hsl[a]?\(/,Dg=function(t){var e,r=t.join(" ");if(Mg.lastIndex=0,Mg.test(r))return e=kg.test(r),t[1]=Ig(t[1],e),t[0]=Ig(t[0],e,Pg(t[1])),!0},Og=function(){var t,e,r,n,i,s,o=Date.now,a=500,l=33,u=o(),h=u,c=1e3/240,d=c,f=[],p=function r(p){var m,g,v,y,_=o()-h,b=!0===p;if(_>a&&(u+=_-l),((m=(v=(h+=_)-u)-d)>0||b)&&(y=++n.frame,i=v-1e3*n.time,n.time=v/=1e3,d+=m+(m>=c?4:c-m),g=1),b||(t=e(r)),g)for(s=0;s<f.length;s++)f[s](v,i,y,p)};return n={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){Tp&&(!wp&&Wp()&&(xp=wp=window,Ep=xp.document||{},em.gsap=Dv,(xp.gsapVersions||(xp.gsapVersions=[])).push(Dv.version),nm(rm||xp.GreenSockGlobals||!xp.gsap&&xp||{}),r=xp.requestAnimationFrame,Eg.forEach(Tg)),t&&n.sleep(),e=r||function(t){return setTimeout(t,d-1e3*n.time+1|0)},Cp=1,p(2))},sleep:function(){(r?xp.cancelAnimationFrame:clearTimeout)(t),Cp=0,e=am},lagSmoothing:function(t,e){a=t||1/0,l=Math.min(e||33,a)},fps:function(t){c=1e3/(t||240),d=1e3*n.time+c},add:function(t,e,r){var i=e?function(e,r,s,o){t(e,r,s,o),n.remove(i)}:t;return n.remove(t),f[r?"unshift":"push"](i),Ng(),i},remove:function(t,e){~(e=f.indexOf(t))&&f.splice(e,1)&&s>=e&&s--},_listeners:f},n}(),Ng=function(){return!Cp&&Og.wake()},Lg={},Fg=/^[\d.\-M][\d.\-,\s]/,Bg=/["']/g,Ug=function(t){for(var e,r,n,i={},s=t.substr(1,t.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)r=s[a],e=a!==l-1?r.lastIndexOf(","):r.length,n=r.substr(0,e),i[o]=isNaN(n)?n.replace(Bg,"").trim():+n,o=r.substr(e+1).trim();return i},Gg=function(t){return function(e){return 1-t(1-e)}},zg=function t(e,r){for(var n,i=e._first;i;)i instanceof $g?t(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?t(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},jg=function(t,e){return t&&(Up(t)?t:Lg[t]||function(t){var e=(t+"").split("("),r=Lg[e[0]];return r&&e.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[Ug(e[1])]:function(t){var e=t.indexOf("(")+1,r=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<r?t.indexOf(")",r+1):r)}(t).split(",").map(Pm)):Lg._CE&&Fg.test(t)?Lg._CE("",t):r}(t))||e},Hg=function(t,e,r,n){void 0===r&&(r=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,s={easeIn:e,easeOut:r,easeInOut:n};return wm(t,(function(t){for(var e in Lg[t]=em[t]=s,Lg[i=t.toLowerCase()]=r,s)Lg[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Lg[t+"."+e]=s[e]})),s},Wg=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Vg=function t(e,r,n){var i=r>=1?r:1,s=(n||(e?.3:.45))/(r<1?r:1),o=s/kp*(Math.asin(1/i)||0),a=function(t){return 1===t?1:i*Math.pow(2,-10*t)*Fp((t-o)*s)+1},l="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:Wg(a);return s=kp/s,l.config=function(r,n){return t(e,r,n)},l},Xg=function t(e,r){void 0===r&&(r=1.70158);var n=function(t){return t?--t*t*((r+1)*t+r)+1:0},i="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:Wg(n);return i.config=function(r){return t(e,r)},i};wm("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var r=e<5?e+1:e;Hg(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},(function(t){return 1-Math.pow(1-t,r)}),(function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2}))})),Lg.Linear.easeNone=Lg.none=Lg.Linear.easeIn,Hg("Elastic",Vg("in"),Vg("out"),Vg()),function(t,e){var r=1/e,n=function(n){return n<r?t*n*n:n<.7272727272727273?t*Math.pow(n-1.5/e,2)+.75:n<.9090909090909092?t*(n-=2.25/e)*n+.9375:t*Math.pow(n-2.625/e,2)+.984375};Hg("Bounce",(function(t){return 1-n(1-t)}),n)}(7.5625,2.75),Hg("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Hg("Circ",(function(t){return-(Np(1-t*t)-1)})),Hg("Sine",(function(t){return 1===t?1:1-Lp(t*Dp)})),Hg("Back",Xg("in"),Xg("out"),Xg()),Lg.SteppedEase=Lg.steps=em.SteppedEase={config:function(t,e){void 0===t&&(t=1);var r=1/t,n=t+(e?0:1),i=e?1:0;return function(t){return((n*sg(0,.99999999,t)|0)+i)*r}}},Pp.ease=Lg["quad.out"],wm("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return ym+=t+","+t+"Params,"}));var Yg=function(t,e){this.id=Op++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:xm,this.set=e?e.getSetter:cv},qg=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Jm(this,+t.duration,1,1),this.data=t.data,_p&&(this._ctx=_p,_p.data.push(this)),Cp||Og.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Jm(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ng(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Xm(this,t),!r._dp||r.parent||Ym(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&qm(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Mp||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Rm(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+jm(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+jm(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?Hm(this._tTime,r)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var r=this.parent&&this._ts?Wm(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(sg(-Math.abs(this._delay),this._tDur,r),!1!==e),Vm(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ng(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Mp&&(this._tTime-=Mp)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&qm(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(Hp(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Wm(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=hm);var e=yp;return yp=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),yp=e,this},e.globalTime=function(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):r},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,tg(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,tg(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(rg(this,t),Hp(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,Hp(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-Mp))},e.eventCallback=function(t,e,r){var n=this.vars;return arguments.length>1?(e?(n[t]=e,r&&(n[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(r){var n=Up(t)?t:Im,i=function(){var t=e.then;e.then=null,Up(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),r(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){wg(this)},t}();Mm(qg.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var $g=function(t){function e(e,r){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=Hp(e.sortChildren),bp&&qm(e.parent||bp,mp(n),r),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&$m(mp(n),e.scrollTrigger),n}gp(e,t);var r=e.prototype;return r.to=function(t,e,r){return ng(0,arguments,this),this},r.from=function(t,e,r){return ng(1,arguments,this),this},r.fromTo=function(t,e,r,n){return ng(2,arguments,this),this},r.set=function(t,e,r){return e.duration=0,e.parent=this,Nm(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ov(t,e,rg(this,r),1),this},r.call=function(t,e,r){return qm(this,ov.delayedCall(0,t,e),r)},r.staggerTo=function(t,e,r,n,i,s,o){return r.duration=e,r.stagger=r.stagger||n,r.onComplete=s,r.onCompleteParams=o,r.parent=this,new ov(t,r,rg(this,i)),this},r.staggerFrom=function(t,e,r,n,i,s,o){return r.runBackwards=1,Nm(r).immediateRender=Hp(r.immediateRender),this.staggerTo(t,e,r,n,i,s,o)},r.staggerFromTo=function(t,e,r,n,i,s,o,a){return n.startAt=r,Nm(n).immediateRender=Hp(n.immediateRender),this.staggerTo(t,e,n,i,s,o,a)},r.render=function(t,e,r){var n,i,s,o,a,l,u,h,c,d,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=t<=0?0:Tm(t),_=this._zTime<0!==t<0&&(this._initted||!v);if(this!==bp&&y>g&&t>=0&&(y=g),y!==this._tTime||r||_){if(m!==this._time&&v&&(y+=this._time-m,t+=this._time-m),n=y,c=this._start,l=!(h=this._ts),_&&(v||(m=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(f=this._yoyo,a=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,r);if(n=Tm(y%a),y===g?(o=this._repeat,n=v):((o=~~(y/a))&&o===y/a&&(n=v,o--),n>v&&(n=v)),d=Hm(this._tTime,a),!m&&this._tTime&&d!==o&&this._tTime-d*a-this._dur<=0&&(d=o),f&&1&o&&(n=v-n,p=1),o!==d&&!this._lock){var b=f&&1&d,x=b===(f&&1&o);if(o<d&&(b=!b),m=b?0:y%v?v:y,this._lock=1,this.render(m||(p?0:Tm(o*a)),e,!v)._lock=0,this._tTime=y,!e&&this.parent&&xg(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,x&&(this._lock=2,m=b?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;zg(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(t,e,r){var n;if(r>e)for(n=t._first;n&&n._start<=r;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=r;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,Tm(m),Tm(n)),u&&(y-=n-(n=u._start))),this._tTime=y,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,m=0),!m&&n&&!e&&!o&&(xg(this,"onStart"),this._tTime!==y))return this;if(n>=m&&t>=0)for(i=this._first;i;){if(s=i._next,(i._act||n>=i._start)&&i._ts&&u!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,e,r),n!==this._time||!this._ts&&!l){u=0,s&&(y+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var w=t<0?t:n;i;){if(s=i._prev,(i._act||w<=i._end)&&i._ts&&u!==i){if(i.parent!==this)return this.render(t,e,r);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,e,r||yp&&(i._initted||i._startAt)),n!==this._time||!this._ts&&!l){u=0,s&&(y+=this._zTime=w?-1e-8:Mp);break}}i=s}}if(u&&!e&&(this.pause(),u.render(n>=m?0:-1e-8)._zTime=n>=m?1:-1,this._ts))return this._start=c,Vm(this),this.render(t,e,r);this._onUpdate&&!e&&xg(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(c!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&Bm(this,1),e||t<0&&!m||!y&&!m&&g||(xg(this,y===g&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(t,e){var r=this;if(Gp(e)||(e=rg(this,e,t)),!(t instanceof qg)){if(Yp(t))return t.forEach((function(t){return r.add(t,e)})),this;if(Bp(t))return this.addLabel(t,e);if(!Up(t))return this;t=ov.delayedCall(0,t)}return this!==t?qm(this,t,e):this},r.getChildren=function(t,e,r,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===n&&(n=-Ip);for(var i=[],s=this._first;s;)s._start>=n&&(s instanceof ov?e&&i.push(s):(r&&i.push(s),t&&i.push.apply(i,s.getChildren(!0,e,r)))),s=s._next;return i},r.getById=function(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},r.remove=function(t){return Bp(t)?this.removeLabel(t):Up(t)?this.killTweensOf(t):(Fm(this,t),t===this._recent&&(this._recent=this._last),Um(this))},r.totalTime=function(e,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Tm(Og.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,r),this._forcing=0,this):this._tTime},r.addLabel=function(t,e){return this.labels[t]=rg(this,e),this},r.removeLabel=function(t){return delete this.labels[t],this},r.addPause=function(t,e,r){var n=ov.delayedCall(0,e||am,r);return n.data="isPause",this._hasPause=1,qm(this,n,rg(this,t))},r.removePause=function(t){var e=this._first;for(t=rg(this,t);e;)e._start===t&&"isPause"===e.data&&Bm(e),e=e._next},r.killTweensOf=function(t,e,r){for(var n=this.getTweensOf(t,r),i=n.length;i--;)Kg!==n[i]&&n[i].kill(t,e);return this},r.getTweensOf=function(t,e){for(var r,n=[],i=hg(t),s=this._first,o=Gp(e);s;)s instanceof ov?Am(s._targets,i)&&(o?(!Kg||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&n.push(s):(r=s.getTweensOf(i,e)).length&&n.push.apply(n,r),s=s._next;return n},r.tweenTo=function(t,e){e=e||{};var r,n=this,i=rg(n,t),s=e,o=s.startAt,a=s.onStart,l=s.onStartParams,u=s.immediateRender,h=ov.to(n,Mm({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(o&&"time"in o?o.time:n._time))/n.timeScale())||Mp,onStart:function(){if(n.pause(),!r){var t=e.duration||Math.abs((i-(o&&"time"in o?o.time:n._time))/n.timeScale());h._dur!==t&&Jm(h,t,0,1).render(h._time,!0,!0),r=1}a&&a.apply(h,l||[])}},e));return u?h.render(0):h},r.tweenFromTo=function(t,e,r){return this.tweenTo(e,Mm({startAt:{time:rg(this,t)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(t){return void 0===t&&(t=this._time),bg(this,rg(this,t))},r.previousLabel=function(t){return void 0===t&&(t=this._time),bg(this,rg(this,t),1)},r.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Mp)},r.shiftChildren=function(t,e,r){void 0===r&&(r=0);for(var n,i=this._first,s=this.labels;i;)i._start>=r&&(i._start+=t,i._end+=t),i=i._next;if(e)for(n in s)s[n]>=r&&(s[n]+=t);return Um(this)},r.invalidate=function(e){var r=this._first;for(this._lock=0;r;)r.invalidate(e),r=r._next;return t.prototype.invalidate.call(this,e)},r.clear=function(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Um(this)},r.totalDuration=function(t){var e,r,n,i=0,s=this,o=s._last,a=Ip;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(n=s.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),(r=o._start)>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,qm(s,o,r-o._delay,1)._lock=0):a=r,r<0&&o._ts&&(i-=r,(!n&&!s._dp||n&&n.smoothChildTiming)&&(s._start+=r/s._ts,s._time-=r,s._tTime-=r),s.shiftChildren(-r,!1,-Infinity),a=0),o._end>i&&o._ts&&(i=o._end),o=e;Jm(s,s===bp&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(t){if(bp._ts&&(Rm(bp,Wm(t,bp)),Sp=Og.frame),Og.frame>=gm){gm+=Rp.autoSleep||120;var e=bp._first;if((!e||!e._ts)&&Rp.autoSleep&&Og._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Og.sleep()}}},e}(qg);Mm($g.prototype,{_lock:0,_hasPause:0,_forcing:0});var Kg,Qg,Zg=function(t,e,r,n,i,s,o){var a,l,u,h,c,d,f,p,m=new bv(this._pt,t,e,0,1,pv,null,i),g=0,v=0;for(m.b=r,m.e=n,r+="",(f=~(n+="").indexOf("random("))&&(n=yg(n)),s&&(s(p=[r,n],t,e),r=p[0],n=p[1]),l=r.match(Qp)||[];a=Qp.exec(n);)h=a[0],c=n.substring(g,a.index),u?u=(u+1)%5:"rgba("===c.substr(-5)&&(u=1),h!==l[v++]&&(d=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:c||1===v?c:",",s:d,c:"="===h.charAt(1)?Sm(d,h)-d:parseFloat(h)-d,m:u&&u<4?Math.round:0},g=Qp.lastIndex);return m.c=g<n.length?n.substring(g,n.length):"",m.fp=o,(Zp.test(n)||f)&&(m.e=0),this._pt=m,m},Jg=function(t,e,r,n,i,s,o,a,l,u){Up(n)&&(n=n(i||0,t,s));var h,c=t[e],d="get"!==r?r:Up(c)?l?t[e.indexOf("set")||!Up(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():c,f=Up(c)?l?uv:lv:av;if(Bp(n)&&(~n.indexOf("random(")&&(n=yg(n)),"="===n.charAt(1)&&((h=Sm(d,n)+(og(d)||0))||0===h)&&(n=h)),!u||d!==n||Qg)return isNaN(d*n)||""===n?(!c&&!(e in t)&&im(e,n),Zg.call(this,t,e,d,n,f,a||Rp.stringFilter,l)):(h=new bv(this._pt,t,e,+d||0,n-(d||0),"boolean"===typeof c?fv:dv,0,f),l&&(h.fp=l),o&&h.modifier(o,this,t),this._pt=h)},tv=function(t,e,r,n,i,s){var o,a,l,u;if(pm[t]&&!1!==(o=new pm[t]).init(i,o.rawVars?e[t]:function(t,e,r,n,i){if(Up(t)&&(t=nv(t,i,e,r,n)),!jp(t)||t.style&&t.nodeType||Yp(t)||Xp(t))return Bp(t)?nv(t,i,e,r,n):t;var s,o={};for(s in t)o[s]=nv(t[s],i,e,r,n);return o}(e[t],n,i,s,r),r,n,s)&&(r._pt=a=new bv(r._pt,i,t,0,1,o.render,o,0,o.priority),r!==Ap))for(l=r._ptLookup[r._targets.indexOf(i)],u=o._props.length;u--;)l[o._props[u]]=a;return o},ev=function t(e,r,n){var i,s,o,a,l,u,h,c,d,f,p,m,g,v=e.vars,y=v.ease,_=v.startAt,b=v.immediateRender,x=v.lazy,w=v.onUpdate,E=v.runBackwards,T=v.yoyoEase,S=v.keyframes,A=v.autoRevert,C=e._dur,R=e._startAt,P=e._targets,I=e.parent,M=I&&"nested"===I.data?I.vars.targets:P,k="auto"===e._overwrite&&!vp,D=e.timeline;if(D&&(!S||!y)&&(y="none"),e._ease=jg(y,Pp.ease),e._yEase=T?Gg(jg(!0===T?y:T,Pp.ease)):0,T&&e._yoyo&&!e._repeat&&(T=e._yEase,e._yEase=e._ease,e._ease=T),e._from=!D&&!!v.runBackwards,!D||S&&!v.stagger){if(m=(c=P[0]?bm(P[0]).harness:0)&&v[c.prop],i=Om(v,cm),R&&(R._zTime<0&&R.progress(1),r<0&&E&&b&&!A?R.render(-1,!0):R.revert(E&&C?um:lm),R._lazy=0),_){if(Bm(e._startAt=ov.set(P,Mm({data:"isStart",overwrite:!1,parent:I,immediateRender:!0,lazy:!R&&Hp(x),startAt:null,delay:0,onUpdate:w&&function(){return xg(e,"onUpdate")},stagger:0},_))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(yp||!b&&!A)&&e._startAt.revert(um),b&&C&&r<=0&&n<=0)return void(r&&(e._zTime=r))}else if(E&&C&&!R)if(r&&(b=!1),o=Mm({overwrite:!1,data:"isFromStart",lazy:b&&!R&&Hp(x),immediateRender:b,stagger:0,parent:I},i),m&&(o[c.prop]=m),Bm(e._startAt=ov.set(P,o)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(yp?e._startAt.revert(um):e._startAt.render(-1,!0)),e._zTime=r,b){if(!r)return}else t(e._startAt,Mp,Mp);for(e._pt=e._ptCache=0,x=C&&Hp(x)||x&&!C,s=0;s<P.length;s++){if(h=(l=P[s])._gsap||_m(P)[s]._gsap,e._ptLookup[s]=f={},fm[h.id]&&dm.length&&Cm(),p=M===P?s:M.indexOf(l),c&&!1!==(d=new c).init(l,m||i,e,p,M)&&(e._pt=a=new bv(e._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){f[t]=a})),d.priority&&(u=1)),!c||m)for(o in i)pm[o]&&(d=tv(o,i,e,p,l,M))?d.priority&&(u=1):f[o]=a=Jg.call(e,l,o,"get",i[o],p,M,0,v.stringFilter);e._op&&e._op[s]&&e.kill(l,e._op[s]),k&&e._pt&&(Kg=e,bp.killTweensOf(l,f,e.globalTime(r)),g=!e.parent,Kg=0),e._pt&&x&&(fm[h.id]=1)}u&&_v(e),e._onInit&&e._onInit(e)}e._onUpdate=w,e._initted=(!e._op||e._pt)&&!g,S&&r<=0&&D.render(Ip,!0,!0)},rv=function(t,e,r,n){var i,s,o=e.ease||n||"power1.inOut";if(Yp(e))s=r[t]||(r[t]=[]),e.forEach((function(t,r){return s.push({t:r/(e.length-1)*100,v:t,e:o})}));else for(i in e)s=r[i]||(r[i]=[]),"ease"===i||s.push({t:parseFloat(t),v:e[i],e:o})},nv=function(t,e,r,n,i){return Up(t)?t.call(e,r,n,i):Bp(t)&&~t.indexOf("random(")?yg(t):t},iv=ym+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",sv={};wm(iv+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return sv[t]=1}));var ov=function(t){function e(e,r,n,i){var s;"number"===typeof r&&(n.duration=r,r=n,n=null);var o,a,l,u,h,c,d,f,p=(s=t.call(this,i?r:Nm(r))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,_=p.overwrite,b=p.keyframes,x=p.defaults,w=p.scrollTrigger,E=p.yoyoEase,T=r.parent||bp,S=(Yp(e)||Xp(e)?Gp(e[0]):"length"in r)?[e]:hg(e);if(s._targets=S.length?_m(S):sm("GSAP target "+e+" not found. https://gsap.com",!Rp.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=_,b||y||Vp(m)||Vp(g)){if(r=s.vars,(o=s.timeline=new $g({data:"nested",defaults:x||{},targets:T&&"nested"===T.data?T.vars.targets:S})).kill(),o.parent=o._dp=mp(s),o._start=0,y||Vp(m)||Vp(g)){if(u=S.length,d=y&&fg(y),jp(y))for(h in y)~iv.indexOf(h)&&(f||(f={}),f[h]=y[h]);for(a=0;a<u;a++)(l=Om(r,sv)).stagger=0,E&&(l.yoyoEase=E),f&&km(l,f),c=S[a],l.duration=+nv(m,mp(s),a,c,S),l.delay=(+nv(g,mp(s),a,c,S)||0)-s._delay,!y&&1===u&&l.delay&&(s._delay=g=l.delay,s._start+=g,l.delay=0),o.to(c,l,d?d(a,c,S):0),o._ease=Lg.none;o.duration()?m=g=0:s.timeline=0}else if(b){Nm(Mm(o.vars.defaults,{ease:"none"})),o._ease=jg(b.ease||r.ease||"none");var A,C,R,P=0;if(Yp(b))b.forEach((function(t){return o.to(S,t,">")})),o.duration();else{for(h in l={},b)"ease"===h||"easeEach"===h||rv(h,b[h],l,b.easeEach);for(h in l)for(A=l[h].sort((function(t,e){return t.t-e.t})),P=0,a=0;a<A.length;a++)(R={ease:(C=A[a]).e,duration:(C.t-(a?A[a-1].t:0))/100*m})[h]=C.v,o.to(S,R,P),P+=R.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||s.duration(m=o.duration())}else s.timeline=0;return!0!==_||vp||(Kg=mp(s),bp.killTweensOf(S),Kg=0),qm(T,mp(s),n),r.reversed&&s.reverse(),r.paused&&s.paused(!0),(v||!m&&!b&&s._start===Tm(T._time)&&Hp(v)&&zm(mp(s))&&"nested"!==T.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-g)||0)),w&&$m(mp(s),w),s}gp(e,t);var r=e.prototype;return r.render=function(t,e,r){var n,i,s,o,a,l,u,h,c,d=this._time,f=this._tDur,p=this._dur,m=t<0,g=t>f-Mp&&!m?f:t<Mp?0:t;if(p){if(g!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(n=g,h=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+t,e,r);if(n=Tm(g%o),g===f?(s=this._repeat,n=p):((s=~~(g/o))&&s===Tm(g/o)&&(n=p,s--),n>p&&(n=p)),(l=this._yoyo&&1&s)&&(c=this._yEase,n=p-n),a=Hm(this._tTime,o),n===d&&!r&&this._initted&&s===a)return this._tTime=g,this;s!==a&&(h&&this._yEase&&zg(h,l),this.vars.repeatRefresh&&!l&&!this._lock&&this._time!==p&&this._initted&&(this._lock=r=1,this.render(Tm(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(Km(this,m?t:n,r,e,g))return this._tTime=0,this;if(d!==this._time&&(!r||!this.vars.repeatRefresh||s===a))return this;if(p!==this._dur)return this.render(t,e,r)}if(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(c||this._ease)(n/p),this._from&&(this.ratio=u=1-u),n&&!d&&!e&&!s&&(xg(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;h&&h.render(t<0?t:!n&&l?-1e-8:h._dur*h._ease(n/this._dur),e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(m&&Gm(this,t,0,r),xg(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!e&&this.parent&&xg(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Gm(this,t,0,!0),(t||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Bm(this,1),e||m&&!d||!(g||d||l)||(xg(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,r,n){var i,s,o,a=t.ratio,l=e<0||!e&&(!t._start&&Qm(t)&&(t._initted||!Zm(t))||(t._ts<0||t._dp._ts<0)&&!Zm(t))?0:1,u=t._rDelay,h=0;if(u&&t._repeat&&(h=sg(0,t._tDur,e),s=Hm(h,u),t._yoyo&&1&s&&(l=1-l),s!==Hm(t._tTime,u)&&(a=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==a||yp||n||t._zTime===Mp||!e&&t._zTime){if(!t._initted&&Km(t,e,n,r,h))return;for(o=t._zTime,t._zTime=e||(r?Mp:0),r||(r=e&&!o),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=h,i=t._pt;i;)i.r(l,i.d),i=i._next;e<0&&Gm(t,e,0,!0),t._onUpdate&&!r&&xg(t,"onUpdate"),h&&t._repeat&&!r&&t.parent&&xg(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&Bm(t,1),r||yp||(xg(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},r.targets=function(){return this._targets},r.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},r.resetTo=function(t,e,r,n,i){Cp||Og.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ev(this,s),function(t,e,r,n,i,s,o,a){var l,u,h,c,d=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!d)for(d=t._ptCache[e]=[],h=t._ptLookup,c=t._targets.length;c--;){if((l=h[c][e])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==e&&l.fp!==e;)l=l._next;if(!l)return Qg=1,t.vars[e]="+=0",ev(t,o),Qg=0,a?sm(e+" not eligible for reset"):1;d.push(l)}for(c=d.length;c--;)(l=(u=d[c])._pt||u).s=!n&&0!==n||i?l.s+(n||0)+s*l.c:n,l.c=r-l.s,u.e&&(u.e=Em(r)+og(u.e)),u.b&&(u.b=l.s+og(u.b))}(this,t,e,r,n,this._ease(s/this._dur),s,i)?this.resetTo(t,e,r,n,1):(Xm(this,0),this.parent||Lm(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(t,e){if(void 0===e&&(e="all"),!t&&(!e||"all"===e))return this._lazy=this._pt=0,this.parent?wg(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Kg&&!0!==Kg.vars.overwrite)._first||wg(this),this.parent&&r!==this.timeline.totalDuration()&&Jm(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,s,o,a,l,u,h=this._targets,c=t?hg(t):h,d=this._ptLookup,f=this._pt;if((!e||"all"===e)&&function(t,e){for(var r=t.length,n=r===e.length;n&&r--&&t[r]===e[r];);return r<0}(h,c))return"all"===e&&(this._pt=0),wg(this);for(n=this._op=this._op||[],"all"!==e&&(Bp(e)&&(a={},wm(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var r,n,i,s,o=t[0]?bm(t[0]).harness:0,a=o&&o.aliases;if(!a)return e;for(n in r=km({},e),a)if(n in r)for(i=(s=a[n].split(",")).length;i--;)r[s[i]]=r[n];return r}(h,e)),u=h.length;u--;)if(~c.indexOf(h[u]))for(a in i=d[u],"all"===e?(n[u]=e,o=i,s={}):(s=n[u]=n[u]||{},o=e),o)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||Fm(this,l,"_pt"),delete i[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&f&&wg(this),this},e.to=function(t,r){return new e(t,r,arguments[2])},e.from=function(t,e){return ng(1,arguments)},e.delayedCall=function(t,r,n,i){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},e.fromTo=function(t,e,r){return ng(2,arguments)},e.set=function(t,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(t,r)},e.killTweensOf=function(t,e,r){return bp.killTweensOf(t,e,r)},e}(qg);Mm(ov.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),wm("staggerTo,staggerFrom,staggerFromTo",(function(t){ov[t]=function(){var e=new $g,r=ag.call(arguments,0);return r.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,r)}}));var av=function(t,e,r){return t[e]=r},lv=function(t,e,r){return t[e](r)},uv=function(t,e,r,n){return t[e](n.fp,r)},hv=function(t,e,r){return t.setAttribute(e,r)},cv=function(t,e){return Up(t[e])?lv:zp(t[e])&&t.setAttribute?hv:av},dv=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},fv=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},pv=function(t,e){var r=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+n,r=r._next;n+=e.c}e.set(e.t,e.p,n,e)},mv=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},gv=function(t,e,r,n){for(var i,s=this._pt;s;)i=s._next,s.p===n&&s.modifier(t,e,r),s=i},vv=function(t){for(var e,r,n=this._pt;n;)r=n._next,n.p===t&&!n.op||n.op===t?Fm(this,n,"_pt"):n.dep||(e=1),n=r;return!e},yv=function(t,e,r,n){n.mSet(t,e,n.m.call(n.tween,r,n.mt),n)},_v=function(t){for(var e,r,n,i,s=t._pt;s;){for(e=s._next,r=n;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:i)?s._prev._next=s:n=s,(s._next=r)?r._prev=s:i=s,s=e}t._pt=n},bv=function(){function t(t,e,r,n,i,s,o,a,l){this.t=e,this.s=n,this.c=i,this.p=r,this.r=s||dv,this.d=o||this,this.set=a||av,this.pr=l||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,r){this.mSet=this.mSet||this.set,this.set=yv,this.m=t,this.mt=r,this.tween=e},t}();wm(ym+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return cm[t]=1})),em.TweenMax=em.TweenLite=ov,em.TimelineLite=em.TimelineMax=$g,bp=new $g({sortChildren:!1,defaults:Pp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Rp.stringFilter=Dg;var xv=[],wv={},Ev=[],Tv=0,Sv=0,Av=function(t){return(wv[t]||Ev).map((function(t){return t()}))},Cv=function(){var t=Date.now(),e=[];t-Tv>2&&(Av("matchMediaInit"),xv.forEach((function(t){var r,n,i,s,o=t.queries,a=t.conditions;for(n in o)(r=xp.matchMedia(o[n]).matches)&&(i=1),r!==a[n]&&(a[n]=r,s=1);s&&(t.revert(),i&&e.push(t))})),Av("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),Tv=t,Av("matchMedia"))},Rv=function(){function t(t,e){this.selector=e&&cg(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Sv++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,r){Up(t)&&(r=e,e=t,t=Up);var n=this,i=function(){var t,i=_p,s=n.selector;return i&&i!==n&&i.data.push(n),r&&(n.selector=cg(r)),_p=n,t=e.apply(n,arguments),Up(t)&&n._r.push(t),_p=i,n.selector=s,n.isReverted=!1,t};return n.last=i,t===Up?i(n,(function(t){return n.add(null,t)})):t?n[t]=i:i},e.ignore=function(t){var e=_p;_p=null,t(this),_p=e},e.getTweens=function(){var e=[];return this.data.forEach((function(r){return r instanceof t?e.push.apply(e,r.getTweens()):r instanceof ov&&!(r.parent&&"nested"===r.parent.data)&&e.push(r)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var r=this;if(t?function(){for(var e,n=r.getTweens(),i=r.data.length;i--;)"isFlip"===(e=r.data[i]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return n.splice(n.indexOf(t),1)})));for(n.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-1/0,t:t}})).sort((function(t,e){return e.g-t.g||-1/0})).forEach((function(e){return e.t.revert(t)})),i=r.data.length;i--;)(e=r.data[i])instanceof $g?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof ov)&&e.revert&&e.revert(t);r._r.forEach((function(e){return e(t,r)})),r.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var n=xv.length;n--;)xv[n].id===this.id&&xv.splice(n,1)},e.revert=function(t){this.kill(t||{})},t}(),Pv=function(){function t(t){this.contexts=[],this.scope=t}var e=t.prototype;return e.add=function(t,e,r){jp(t)||(t={matches:t});var n,i,s,o=new Rv(0,r||this.scope),a=o.conditions={};for(i in _p&&!o.selector&&(o.selector=_p.selector),this.contexts.push(o),e=o.add("onMatch",e),o.queries=t,t)"all"===i?s=1:(n=xp.matchMedia(t[i]))&&(xv.indexOf(o)<0&&xv.push(o),(a[i]=n.matches)&&(s=1),n.addListener?n.addListener(Cv):n.addEventListener("change",Cv));return s&&e(o,(function(t){return o.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Iv={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((function(t){return Tg(t)}))},timeline:function(t){return new $g(t)},getTweensOf:function(t,e){return bp.getTweensOf(t,e)},getProperty:function(t,e,r,n){Bp(t)&&(t=hg(t)[0]);var i=bm(t||{}).get,s=r?Im:Pm;return"native"===r&&(r=""),t?e?s((pm[e]&&pm[e].get||i)(t,e,r,n)):function(e,r,n){return s((pm[e]&&pm[e].get||i)(t,e,r,n))}:t},quickSetter:function(t,e,r){if((t=hg(t)).length>1){var n=t.map((function(t){return Dv.quickSetter(t,e,r)})),i=n.length;return function(t){for(var e=i;e--;)n[e](t)}}t=t[0]||{};var s=pm[e],o=bm(t),a=o.harness&&(o.harness.aliases||{})[e]||e,l=s?function(e){var n=new s;Ap._pt=0,n.init(t,r?e+r:e,Ap,0,[t]),n.render(1,n),Ap._pt&&mv(1,Ap)}:o.set(t,a);return s?l:function(e){return l(t,a,r?e+r:e,o,1)}},quickTo:function(t,e,r){var n,i=Dv.to(t,km(((n={})[e]="+=0.1",n.paused=!0,n),r||{})),s=function(t,r,n){return i.resetTo(e,t,r,n)};return s.tween=i,s},isTweening:function(t){return bp.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=jg(t.ease,Pp.ease)),Dm(Pp,t||{})},config:function(t){return Dm(Rp,t||{})},registerEffect:function(t){var e=t.name,r=t.effect,n=t.plugins,i=t.defaults,s=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!pm[t]&&!em[t]&&sm(e+" effect requires "+t+" plugin.")})),mm[e]=function(t,e,n){return r(hg(t),Mm(e||{},i),n)},s&&($g.prototype[e]=function(t,r,n){return this.add(mm[e](t,jp(r)?r:(n=r)&&{},this),n)})},registerEase:function(t,e){Lg[t]=jg(e)},parseEase:function(t,e){return arguments.length?jg(t,e):Lg},getById:function(t){return bp.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,n,i=new $g(t);for(i.smoothChildTiming=Hp(t.smoothChildTiming),bp.remove(i),i._dp=0,i._time=i._tTime=bp._time,r=bp._first;r;)n=r._next,!e&&!r._dur&&r instanceof ov&&r.vars.onComplete===r._targets[0]||qm(i,r,r._start-r._delay),r=n;return qm(bp,i,0),i},context:function(t,e){return t?new Rv(t,e):_p},matchMedia:function(t){return new Pv(t)},matchMediaRefresh:function(){return xv.forEach((function(t){var e,r,n=t.conditions;for(r in n)n[r]&&(n[r]=!1,e=1);e&&t.revert()}))||Cv()},addEventListener:function(t,e){var r=wv[t]||(wv[t]=[]);~r.indexOf(e)||r.push(e)},removeEventListener:function(t,e){var r=wv[t],n=r&&r.indexOf(e);n>=0&&r.splice(n,1)},utils:{wrap:function t(e,r,n){var i=r-e;return Yp(e)?vg(e,t(0,e.length),r):ig(n,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,r,n){var i=r-e,s=2*i;return Yp(e)?vg(e,t(0,e.length-1),r):ig(n,(function(t){return e+((t=(s+(t-e)%s)%s||0)>i?s-t:t)}))},distribute:fg,random:gg,snap:mg,normalize:function(t,e,r){return _g(t,e,0,1,r)},getUnit:og,clamp:function(t,e,r){return ig(r,(function(r){return sg(t,e,r)}))},splitColor:Rg,toArray:hg,selector:cg,mapRange:_g,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(r){return t(parseFloat(r))+(e||og(r))}},interpolate:function t(e,r,n,i){var s=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!s){var o,a,l,u,h,c=Bp(e),d={};if(!0===n&&(i=1)&&(n=null),c)e={p:e},r={p:r};else if(Yp(e)&&!Yp(r)){for(l=[],u=e.length,h=u-2,a=1;a<u;a++)l.push(t(e[a-1],e[a]));u--,s=function(t){t*=u;var e=Math.min(h,~~t);return l[e](t-e)},n=r}else i||(e=km(Yp(e)?[]:{},e));if(!l){for(o in r)Jg.call(d,e,o,"get",r[o]);s=function(t){return mv(t,d)||(c?e.p:e)}}}return ig(n,s)},shuffle:dg},install:nm,effects:mm,ticker:Og,updateRoot:$g.updateRoot,plugins:pm,globalTimeline:bp,core:{PropTween:bv,globals:om,Tween:ov,Timeline:$g,Animation:qg,getCache:bm,_removeLinkedListItem:Fm,reverting:function(){return yp},context:function(t){return t&&_p&&(_p.data.push(t),t._ctx=_p),_p},suppressOverwrites:function(t){return vp=t}}};wm("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Iv[t]=ov[t]})),Og.add($g.updateRoot),Ap=Iv.to({},{duration:0});var Mv=function(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r},kv=function(t,e){return{name:t,rawVars:1,init:function(t,r,n){n._onInit=function(t){var n,i;if(Bp(r)&&(n={},wm(r,(function(t){return n[t]=1})),r=n),e){for(i in n={},r)n[i]=e(r[i]);r=n}!function(t,e){var r,n,i,s=t._targets;for(r in e)for(n=s.length;n--;)(i=t._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=Mv(i,r)),i&&i.modifier&&i.modifier(e[r],t,s[n],r))}(t,r)}}}},Dv=Iv.registerPlugin({name:"attr",init:function(t,e,r,n,i){var s,o,a;for(s in this.tween=r,e)a=t.getAttribute(s)||"",(o=this.add(t,"setAttribute",(a||0)+"",e[s],n,i,0,0,s)).op=s,o.b=a,this._props.push(s)},render:function(t,e){for(var r=e._pt;r;)yp?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r],0,0,0,0,0,1)}},kv("roundProps",pg),kv("modifiers"),kv("snap",mg))||Iv;ov.version=$g.version=Dv.version="3.12.4",Tp=1,Wp()&&Ng();Lg.Power0,Lg.Power1,Lg.Power2,Lg.Power3,Lg.Power4,Lg.Linear,Lg.Quad,Lg.Cubic,Lg.Quart,Lg.Quint,Lg.Strong,Lg.Elastic,Lg.Back,Lg.SteppedEase,Lg.Bounce,Lg.Sine,Lg.Expo,Lg.Circ;var Ov,Nv,Lv,Fv,Bv,Uv,Gv,zv,jv={},Hv=180/Math.PI,Wv=Math.PI/180,Vv=Math.atan2,Xv=/([A-Z])/g,Yv=/(left|right|width|margin|padding|x)/i,qv=/[\s,\(]\S/,$v={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Kv=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Qv=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Zv=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Jv=function(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},ty=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},ey=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},ry=function(t,e,r){return t.style[e]=r},ny=function(t,e,r){return t.style.setProperty(e,r)},iy=function(t,e,r){return t._gsap[e]=r},sy=function(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},oy=function(t,e,r,n,i){var s=t._gsap;s.scaleX=s.scaleY=r,s.renderTransform(i,s)},ay=function(t,e,r,n,i){var s=t._gsap;s[e]=r,s.renderTransform(i,s)},ly="transform",uy=ly+"Origin",hy=function t(e,r){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in jv&&s){if(this.tfm=this.tfm||{},"transform"===e)return $v.transform.split(",").forEach((function(e){return t.call(n,e,r)}));if(~(e=$v[e]||e).indexOf(",")?e.split(",").forEach((function(t){return n.tfm[t]=Ry(i,t)})):this.tfm[e]=o.x?o[e]:Ry(i,e),e===uy&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(ly)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(uy,r,"")),e=ly}(s||r)&&this.props.push(e,r,s[e])},cy=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},dy=function(){var t,e,r=this.props,n=this.target,i=n.style,s=n._gsap;for(t=0;t<r.length;t+=3)r[t+1]?n[r[t]]=r[t+2]:r[t+2]?i[r[t]]=r[t+2]:i.removeProperty("--"===r[t].substr(0,2)?r[t]:r[t].replace(Xv,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)s[e]=this.tfm[e];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(t=Gv())&&t.isStart||i[ly]||(cy(i),s.zOrigin&&i[uy]&&(i[uy]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},fy=function(t,e){var r={target:t,props:[],revert:dy,save:hy};return t._gsap||Dv.core.getCache(t),e&&e.split(",").forEach((function(t){return r.save(t)})),r},py=function(t,e){var r=Nv.createElementNS?Nv.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Nv.createElement(t);return r&&r.style?r:Nv.createElement(t)},my=function t(e,r,n){var i=getComputedStyle(e);return i[r]||i.getPropertyValue(r.replace(Xv,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&t(e,vy(r)||r,1)||""},gy="O,Moz,ms,Ms,Webkit".split(","),vy=function(t,e,r){var n=(e||Bv).style,i=5;if(t in n&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(gy[i]+t in n););return i<0?null:(3===i?"ms":i>=0?gy[i]:"")+t},yy=function(){"undefined"!==typeof window&&window.document&&(Ov=window,Nv=Ov.document,Lv=Nv.documentElement,Bv=py("div")||{style:{}},py("div"),ly=vy(ly),uy=ly+"Origin",Bv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",zv=!!vy("perspective"),Gv=Dv.core.reverting,Fv=1)},_y=function t(e){var r,n=py("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,o=this.style.cssText;if(Lv.appendChild(n),n.appendChild(this),this.style.display="block",e)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(a){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(s?i.insertBefore(this,s):i.appendChild(this)),Lv.removeChild(n),this.style.cssText=o,r},by=function(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},xy=function(t){var e;try{e=t.getBBox()}catch(r){e=_y.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===_y||(e=_y.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+by(t,["x","cx","x1"])||0,y:+by(t,["y","cy","y1"])||0,width:0,height:0}},wy=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!xy(t))},Ey=function(t,e){if(e){var r,n=t.style;e in jv&&e!==uy&&(e=ly),n.removeProperty?("ms"!==(r=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty("--"===r?e:e.replace(Xv,"-$1").toLowerCase())):n.removeAttribute(e)}},Ty=function(t,e,r,n,i,s){var o=new bv(t._pt,e,r,0,1,s?ey:ty);return t._pt=o,o.b=n,o.e=i,t._props.push(r),o},Sy={deg:1,rad:1,turn:1},Ay={grid:1,flex:1},Cy=function t(e,r,n,i){var s,o,a,l,u=parseFloat(n)||0,h=(n+"").trim().substr((u+"").length)||"px",c=Bv.style,d=Yv.test(r),f="svg"===e.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===h||!u||Sy[i]||Sy[h])return u;if("px"!==h&&!g&&(u=t(e,r,n,"px")),l=e.getCTM&&wy(e),(v||"%"===h)&&(jv[r]||~r.indexOf("adius")))return s=l?e.getBBox()[d?"width":"height"]:e[p],Em(v?u/s*m:u/100*s);if(c[d?"width":"height"]=m+(g?h:i),o=~r.indexOf("adius")||"em"===i&&e.appendChild&&!f?e:e.parentNode,l&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==Nv&&o.appendChild||(o=Nv.body),(a=o._gsap)&&v&&a.width&&d&&a.time===Og.time&&!a.uncache)return Em(u/a.width*m);if(!v||"height"!==r&&"width"!==r)(v||"%"===h)&&!Ay[my(o,"display")]&&(c.position=my(e,"position")),o===e&&(c.position="static"),o.appendChild(Bv),s=Bv[p],o.removeChild(Bv),c.position="absolute";else{var y=e.style[r];e.style[r]=m+i,s=e[p],y?e.style[r]=y:Ey(e,r)}return d&&v&&((a=bm(o)).time=Og.time,a.width=o[p]),Em(g?s*u/m:s&&u?m/s*u:0)},Ry=function(t,e,r,n){var i;return Fv||yy(),e in $v&&"transform"!==e&&~(e=$v[e]).indexOf(",")&&(e=e.split(",")[0]),jv[e]&&"transform"!==e?(i=Gy(t,n),i="transformOrigin"!==e?i[e]:i.svg?i.origin:zy(my(t,uy))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=Dy[e]&&Dy[e](t,e,r)||my(t,e)||xm(t,e)||("opacity"===e?1:0)),r&&!~(i+"").trim().indexOf(" ")?Cy(t,e,i,r)+r:i},Py=function(t,e,r,n){if(!r||"none"===r){var i=vy(e,t,1),s=i&&my(t,i,1);s&&s!==r?(e=i,r=s):"borderColor"===e&&(r=my(t,"borderTopColor"))}var o,a,l,u,h,c,d,f,p,m,g,v=new bv(this._pt,t.style,e,0,1,pv),y=0,_=0;if(v.b=r,v.e=n,r+="","auto"===(n+="")&&(c=t.style[e],t.style[e]=n,n=my(t,e)||n,c?t.style[e]=c:Ey(t,e)),Dg(o=[r,n]),n=o[1],l=(r=o[0]).match(Kp)||[],(n.match(Kp)||[]).length){for(;a=Kp.exec(n);)d=a[0],p=n.substring(y,a.index),h?h=(h+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(h=1),d!==(c=l[_++]||"")&&(u=parseFloat(c)||0,g=c.substr((u+"").length),"="===d.charAt(1)&&(d=Sm(u,d)+g),f=parseFloat(d),m=d.substr((f+"").length),y=Kp.lastIndex-m.length,m||(m=m||Rp.units[e]||g,y===n.length&&(n+=m,v.e+=m)),g!==m&&(u=Cy(t,e,c,m)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:u,c:f-u,m:h&&h<4||"zIndex"===e?Math.round:0});v.c=y<n.length?n.substring(y,n.length):""}else v.r="display"===e&&"none"===n?ey:ty;return Zp.test(n)&&(v.e=0),this._pt=v,v},Iy={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},My=function(t){var e=t.split(" "),r=e[0],n=e[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(t=r,r=n,n=t),e[0]=Iy[r]||r,e[1]=Iy[n]||n,e.join(" ")},ky=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,n,i,s=e.t,o=s.style,a=e.u,l=s._gsap;if("all"===a||!0===a)o.cssText="",n=1;else for(i=(a=a.split(",")).length;--i>-1;)r=a[i],jv[r]&&(n=1,r="transformOrigin"===r?uy:ly),Ey(s,r);n&&(Ey(s,ly),l&&(l.svg&&s.removeAttribute("transform"),Gy(s,1),l.uncache=1,cy(o)))}},Dy={clearProps:function(t,e,r,n,i){if("isFromStart"!==i.data){var s=t._pt=new bv(t._pt,e,r,0,0,ky);return s.u=n,s.pr=-10,s.tween=i,t._props.push(r),1}}},Oy=[1,0,0,1,0,0],Ny={},Ly=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Fy=function(t){var e=my(t,ly);return Ly(e)?Oy:e.substr(7).match($p).map(Em)},By=function(t,e){var r,n,i,s,o=t._gsap||bm(t),a=t.style,l=Fy(t);return o.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Oy:l:(l!==Oy||t.offsetParent||t===Lv||o.svg||(i=a.display,a.display="block",(r=t.parentNode)&&t.offsetParent||(s=1,n=t.nextElementSibling,Lv.appendChild(t)),l=Fy(t),i?a.display=i:Ey(t,"display"),s&&(n?r.insertBefore(t,n):r?r.appendChild(t):Lv.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},Uy=function(t,e,r,n,i,s){var o,a,l,u=t._gsap,h=i||By(t,!0),c=u.xOrigin||0,d=u.yOrigin||0,f=u.xOffset||0,p=u.yOffset||0,m=h[0],g=h[1],v=h[2],y=h[3],_=h[4],b=h[5],x=e.split(" "),w=parseFloat(x[0])||0,E=parseFloat(x[1])||0;r?h!==Oy&&(a=m*y-g*v)&&(l=w*(-g/a)+E*(m/a)-(m*b-g*_)/a,w=w*(y/a)+E*(-v/a)+(v*b-y*_)/a,E=l):(w=(o=xy(t)).x+(~x[0].indexOf("%")?w/100*o.width:w),E=o.y+(~(x[1]||x[0]).indexOf("%")?E/100*o.height:E)),n||!1!==n&&u.smooth?(_=w-c,b=E-d,u.xOffset=f+(_*m+b*v)-_,u.yOffset=p+(_*g+b*y)-b):u.xOffset=u.yOffset=0,u.xOrigin=w,u.yOrigin=E,u.smooth=!!n,u.origin=e,u.originIsAbsolute=!!r,t.style[uy]="0px 0px",s&&(Ty(s,u,"xOrigin",c,w),Ty(s,u,"yOrigin",d,E),Ty(s,u,"xOffset",f,u.xOffset),Ty(s,u,"yOffset",p,u.yOffset)),t.setAttribute("data-svg-origin",w+" "+E)},Gy=function(t,e){var r=t._gsap||new Yg(t);if("x"in r&&!e&&!r.uncache)return r;var n,i,s,o,a,l,u,h,c,d,f,p,m,g,v,y,_,b,x,w,E,T,S,A,C,R,P,I,M,k,D,O,N=t.style,L=r.scaleX<0,F="px",B="deg",U=getComputedStyle(t),G=my(t,uy)||"0";return n=i=s=l=u=h=c=d=f=0,o=a=1,r.svg=!(!t.getCTM||!wy(t)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(N[ly]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[ly]?U[ly]:"")),N.scale=N.rotate=N.translate="none"),g=By(t,r.svg),r.svg&&(r.uncache?(C=t.getBBox(),G=r.xOrigin-C.x+"px "+(r.yOrigin-C.y)+"px",A=""):A=!e&&t.getAttribute("data-svg-origin"),Uy(t,A||G,!!A||r.originIsAbsolute,!1!==r.smooth,g)),p=r.xOrigin||0,m=r.yOrigin||0,g!==Oy&&(b=g[0],x=g[1],w=g[2],E=g[3],n=T=g[4],i=S=g[5],6===g.length?(o=Math.sqrt(b*b+x*x),a=Math.sqrt(E*E+w*w),l=b||x?Vv(x,b)*Hv:0,(c=w||E?Vv(w,E)*Hv+l:0)&&(a*=Math.abs(Math.cos(c*Wv))),r.svg&&(n-=p-(p*b+m*w),i-=m-(p*x+m*E))):(O=g[6],k=g[7],P=g[8],I=g[9],M=g[10],D=g[11],n=g[12],i=g[13],s=g[14],u=(v=Vv(O,M))*Hv,v&&(A=T*(y=Math.cos(-v))+P*(_=Math.sin(-v)),C=S*y+I*_,R=O*y+M*_,P=T*-_+P*y,I=S*-_+I*y,M=O*-_+M*y,D=k*-_+D*y,T=A,S=C,O=R),h=(v=Vv(-w,M))*Hv,v&&(y=Math.cos(-v),D=E*(_=Math.sin(-v))+D*y,b=A=b*y-P*_,x=C=x*y-I*_,w=R=w*y-M*_),l=(v=Vv(x,b))*Hv,v&&(A=b*(y=Math.cos(v))+x*(_=Math.sin(v)),C=T*y+S*_,x=x*y-b*_,S=S*y-T*_,b=A,T=C),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,h=180-h),o=Em(Math.sqrt(b*b+x*x+w*w)),a=Em(Math.sqrt(S*S+O*O)),v=Vv(T,S),c=Math.abs(v)>2e-4?v*Hv:0,f=D?1/(D<0?-D:D):0),r.svg&&(A=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!Ly(my(t,ly)),A&&t.setAttribute("transform",A))),Math.abs(c)>90&&Math.abs(c)<270&&(L?(o*=-1,c+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,c+=c<=0?180:-180)),e=e||r.uncache,r.x=n-((r.xPercent=n&&(!e&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+F,r.y=i-((r.yPercent=i&&(!e&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+F,r.z=s+F,r.scaleX=Em(o),r.scaleY=Em(a),r.rotation=Em(l)+B,r.rotationX=Em(u)+B,r.rotationY=Em(h)+B,r.skewX=c+B,r.skewY=d+B,r.transformPerspective=f+F,(r.zOrigin=parseFloat(G.split(" ")[2])||!e&&r.zOrigin||0)&&(N[uy]=zy(G)),r.xOffset=r.yOffset=0,r.force3D=Rp.force3D,r.renderTransform=r.svg?qy:zv?Yy:Hy,r.uncache=0,r},zy=function(t){return(t=t.split(" "))[0]+" "+t[1]},jy=function(t,e,r){var n=og(e);return Em(parseFloat(e)+parseFloat(Cy(t,"x",r+"px",n)))+n},Hy=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Yy(t,e)},Wy="0deg",Vy="0px",Xy=") ",Yy=function(t,e){var r=e||this,n=r.xPercent,i=r.yPercent,s=r.x,o=r.y,a=r.z,l=r.rotation,u=r.rotationY,h=r.rotationX,c=r.skewX,d=r.skewY,f=r.scaleX,p=r.scaleY,m=r.transformPerspective,g=r.force3D,v=r.target,y=r.zOrigin,_="",b="auto"===g&&t&&1!==t||!0===g;if(y&&(h!==Wy||u!==Wy)){var x,w=parseFloat(u)*Wv,E=Math.sin(w),T=Math.cos(w);w=parseFloat(h)*Wv,x=Math.cos(w),s=jy(v,s,E*x*-y),o=jy(v,o,-Math.sin(w)*-y),a=jy(v,a,T*x*-y+y)}m!==Vy&&(_+="perspective("+m+Xy),(n||i)&&(_+="translate("+n+"%, "+i+"%) "),(b||s!==Vy||o!==Vy||a!==Vy)&&(_+=a!==Vy||b?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+Xy),l!==Wy&&(_+="rotate("+l+Xy),u!==Wy&&(_+="rotateY("+u+Xy),h!==Wy&&(_+="rotateX("+h+Xy),c===Wy&&d===Wy||(_+="skew("+c+", "+d+Xy),1===f&&1===p||(_+="scale("+f+", "+p+Xy),v.style[ly]=_||"translate(0, 0)"},qy=function(t,e){var r,n,i,s,o,a=e||this,l=a.xPercent,u=a.yPercent,h=a.x,c=a.y,d=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,b=a.xOffset,x=a.yOffset,w=a.forceCSS,E=parseFloat(h),T=parseFloat(c);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=Wv,f*=Wv,r=Math.cos(d)*m,n=Math.sin(d)*m,i=Math.sin(d-f)*-g,s=Math.cos(d-f)*g,f&&(p*=Wv,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),r*=o=Math.sqrt(1+o*o),n*=o)),r=Em(r),n=Em(n),i=Em(i),s=Em(s)):(r=m,s=g,n=i=0),(E&&!~(h+"").indexOf("px")||T&&!~(c+"").indexOf("px"))&&(E=Cy(v,"x",h,"px"),T=Cy(v,"y",c,"px")),(y||_||b||x)&&(E=Em(E+y-(y*r+_*i)+b),T=Em(T+_-(y*n+_*s)+x)),(l||u)&&(o=v.getBBox(),E=Em(E+l/100*o.width),T=Em(T+u/100*o.height)),o="matrix("+r+","+n+","+i+","+s+","+E+","+T+")",v.setAttribute("transform",o),w&&(v.style[ly]=o)},$y=function(t,e,r,n,i){var s,o,a=360,l=Bp(i),u=parseFloat(i)*(l&&~i.indexOf("rad")?Hv:1)-n,h=n+u+"deg";return l&&("short"===(s=i.split("_")[1])&&(u%=a)!==u%180&&(u+=u<0?a:-360),"cw"===s&&u<0?u=(u+36e9)%a-~~(u/a)*a:"ccw"===s&&u>0&&(u=(u-36e9)%a-~~(u/a)*a)),t._pt=o=new bv(t._pt,e,r,n,u,Qv),o.e=h,o.u="deg",t._props.push(r),o},Ky=function(t,e){for(var r in e)t[r]=e[r];return t},Qy=function(t,e,r){var n,i,s,o,a,l,u,h=Ky({},r._gsap),c=r.style;for(i in h.svg?(s=r.getAttribute("transform"),r.setAttribute("transform",""),c[ly]=e,n=Gy(r,1),Ey(r,ly),r.setAttribute("transform",s)):(s=getComputedStyle(r)[ly],c[ly]=e,n=Gy(r,1),c[ly]=s),jv)(s=h[i])!==(o=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=og(s)!==(u=og(o))?Cy(r,i,s,u):parseFloat(s),l=parseFloat(o),t._pt=new bv(t._pt,n,i,a,l-a,Kv),t._pt.u=u||0,t._props.push(i));Ky(n,h)};wm("padding,margin,Width,Radius",(function(t,e){var r="Top",n="Right",i="Bottom",s="Left",o=(e<3?[r,n,i,s]:[r+s,r+n,i+n,i+s]).map((function(r){return e<2?t+r:"border"+r+t}));Dy[e>1?"border"+t:t]=function(t,e,r,n,i){var s,a;if(arguments.length<4)return s=o.map((function(e){return Ry(t,e,r)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(n+"").split(" "),a={},o.forEach((function(t,e){return a[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,a,i)}}));var Zy={name:"css",register:yy,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,n,i){var s,o,a,l,u,h,c,d,f,p,m,g,v,y,_,b,x=this._props,w=t.style,E=r.vars.startAt;for(c in Fv||yy(),this.styles=this.styles||fy(t),b=this.styles.props,this.tween=r,e)if("autoRound"!==c&&(o=e[c],!pm[c]||!tv(c,e,r,n,t,i)))if(u=typeof o,h=Dy[c],"function"===u&&(u=typeof(o=o.call(r,n,t,i))),"string"===u&&~o.indexOf("random(")&&(o=yg(o)),h)h(this,t,c,o,r)&&(_=1);else if("--"===c.substr(0,2))s=(getComputedStyle(t).getPropertyValue(c)+"").trim(),o+="",Mg.lastIndex=0,Mg.test(s)||(d=og(s),f=og(o)),f?d!==f&&(s=Cy(t,c,s,f)+f):d&&(o+=d),this.add(w,"setProperty",s,o,n,i,0,0,c),x.push(c),b.push(c,0,w[c]);else if("undefined"!==u){if(E&&c in E?(s="function"===typeof E[c]?E[c].call(r,n,t,i):E[c],Bp(s)&&~s.indexOf("random(")&&(s=yg(s)),og(s+"")||"auto"===s||(s+=Rp.units[c]||og(Ry(t,c))||""),"="===(s+"").charAt(1)&&(s=Ry(t,c))):s=Ry(t,c),l=parseFloat(s),(p="string"===u&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),a=parseFloat(o),c in $v&&("autoAlpha"===c&&(1===l&&"hidden"===Ry(t,"visibility")&&a&&(l=0),b.push("visibility",0,w.visibility),Ty(this,w,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==c&&"transform"!==c&&~(c=$v[c]).indexOf(",")&&(c=c.split(",")[0])),m=c in jv)if(this.styles.save(c),g||((v=t._gsap).renderTransform&&!e.parseTransform||Gy(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(g=this._pt=new bv(this._pt,w,ly,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===c)this._pt=new bv(this._pt,v,"scaleY",v.scaleY,(p?Sm(v.scaleY,p+a):a)-v.scaleY||0,Kv),this._pt.u=0,x.push("scaleY",c),c+="X";else{if("transformOrigin"===c){b.push(uy,0,w[uy]),o=My(o),v.svg?Uy(t,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&Ty(this,v,"zOrigin",v.zOrigin,f),Ty(this,w,c,zy(s),zy(o)));continue}if("svgOrigin"===c){Uy(t,o,1,y,0,this);continue}if(c in Ny){$y(this,v,c,l,p?Sm(l,p+o):o);continue}if("smoothOrigin"===c){Ty(this,v,"smooth",v.smooth,o);continue}if("force3D"===c){v[c]=o;continue}if("transform"===c){Qy(this,o,t);continue}}else c in w||(c=vy(c)||c);if(m||(a||0===a)&&(l||0===l)&&!qv.test(o)&&c in w)a||(a=0),(d=(s+"").substr((l+"").length))!==(f=og(o)||(c in Rp.units?Rp.units[c]:d))&&(l=Cy(t,c,s,f)),this._pt=new bv(this._pt,m?v:w,c,l,(p?Sm(l,p+a):a)-l,m||"px"!==f&&"zIndex"!==c||!1===e.autoRound?Kv:Jv),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=s,this._pt.r=Zv);else if(c in w)Py.call(this,t,c,s,p?p+o:o);else if(c in t)this.add(t,c,s||t[c],p?p+o:o,n,i);else if("parseTransform"!==c){im(c,o);continue}m||(c in w?b.push(c,0,w[c]):b.push(c,1,s||t[c])),x.push(c)}_&&_v(this)},render:function(t,e){if(e.tween._time||!Gv())for(var r=e._pt;r;)r.r(t,r.d),r=r._next;else e.styles.revert()},get:Ry,aliases:$v,getSetter:function(t,e,r){var n=$v[e];return n&&n.indexOf(",")<0&&(e=n),e in jv&&e!==uy&&(t._gsap.x||Ry(t,"x"))?r&&Uv===r?"scale"===e?sy:iy:(Uv=r||{})&&("scale"===e?oy:ay):t.style&&!zp(t.style[e])?ry:~e.indexOf("-")?ny:cv(t,e)},core:{_removeProperty:Ey,_getMatrix:By}};Dv.utils.checkPrefix=vy,Dv.core.getStyleSaver=fy,function(t,e,r,n){var i=wm(t+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){jv[t]=1}));wm(e,(function(t){Rp.units[t]="deg",Ny[t]=1})),$v[i[13]]=t+","+e,wm("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");$v[e[1]]=i[e[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),wm("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){Rp.units[t]="px"})),Dv.registerPlugin(Zy);var Jy=Dv.registerPlugin(Zy)||Dv,t_=(Jy.core.Tween,function(t){return t[t.Inactive=0]="Inactive",t[t.Start=1]="Start",t[t.Respawn=2]="Respawn",t[t.Idle=3]="Idle",t[t.Move=4]="Move",t}(t_||{}));class e_ extends dp{constructor(t){super(t),this.type=hp.player,this.state=t_.Inactive,this.sprite=void 0,this.pointerDownPos=[0,0],this.moveDirection=ns.Down,this.moveTargetPos=[0,0],this.map=[],this.respawnPos=[0,0],this.sprite=ph.from(Ji.player),this.sprite.anchor.set(.5),this.addChild(this.sprite),this.setState(t_.Inactive)}setState(t){if(this.state===t_.Inactive)this.visible=!0;switch(this.state=t,this.state){case t_.Inactive:this.visible=!1;break;case t_.Start:break;case t_.Respawn:this.gamePosition=this.respawnPos;break;case t_.Idle:break;case t_.Move:const t=this.findMoveTargetPos();t?(this.moveTargetPos=t,Jy.killTweensOf(this.gamePosition),Jy.to(this.gamePosition,{0:this.moveTargetPos[0],1:this.moveTargetPos[1],duration:.3,ease:"none",onUpdate:()=>{this.gamePosition=this.gamePosition},onComplete:()=>{this.setState(t_.Move)}})):this.setState(t_.Idle)}}update(t){if(this.state===t_.Respawn)this.setState(t_.Idle)}customSetGamePosition(t){var e,r,n,i,s;const o=null!==(e=null===(r=this.map)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.length)&&void 0!==e?e:1,a=null!==(i=null===(s=this.map)||void 0===s?void 0:s.length)&&void 0!==i?i:1,l=(t[0]+o)%o,u=(t[1]+a)%a;lp(this._gamePosition,[l,u])}start(){this.setState(t_.Start)}setStateRespawn(){this.setState(t_.Respawn)}isStateInactive(){return this.state===t_.Inactive}setStateInactive(){this.setState(t_.Inactive)}onPointerDown(t){switch(this.state){case t_.Idle:case t_.Move:lp(this.pointerDownPos,pp(t))}}onPointerUp(t){switch(this.state){case t_.Idle:case t_.Move:const e=pp(t),r=up(ap(),e,this.pointerDownPos);this.moveDirection=this.calcDirection(r),this.setState(t_.Move)}}setMap(t){this.map=t}setRespawnPos(t){lp(this.respawnPos,t)}calcDirection(t){const e=t[0],r=t[1];return Math.abs(e)>=Math.abs(r)?e>=0?ns.Right:ns.Left:r>=0?ns.Down:ns.Up}findMoveTargetPos(){var t,e,r,n,i,s,o,a;const l=null!==(t=null===(e=this.map)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.length)&&void 0!==t?t:1,u=null!==(n=null===(i=this.map)||void 0===i?void 0:i.length)&&void 0!==n?n:1;let h;switch(this.moveDirection){case ns.Up:h=[0,-1];break;case ns.Down:h=[0,1];break;case ns.Left:h=[-1,0];break;case ns.Right:h=[1,0]}const c=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}(ap(),this.gamePosition,h);return(null!==(s=null===(o=this.map)||void 0===o||null===(a=o[(c[1]+u)%u])||void 0===a?void 0:a[(c[0]+l)%l])&&void 0!==s?s:hp.null>hp.null)?c:null}}var r_=function(t){return t[t.Inactive=0]="Inactive",t[t.Active=1]="Active",t}(r_||{});class n_ extends dp{constructor(t){super(t),this.state=r_.Inactive,this.type=hp.platform,this.layout=es.platform,this.zIndex=-1,this.addChild(((t,e,r)=>{const n=new Kd;return n.lineStyle(2,r),n.drawRect(-.5*t,-.5*e,t,e),n})(rs,rs,65280)),this.setState(r_.Inactive)}setState(t){if(this.state===r_.Inactive)this.visible=!0;switch(this.state=t,this.state){case r_.Inactive:this.visible=!1;case r_.Active:}}isStateInactive(){return this.state===r_.Inactive}setStateInactive(){this.setState(r_.Inactive)}setStateActive(){this.setState(r_.Active)}}var i_=function(t){return t[t.Inactive=0]="Inactive",t[t.Start=1]="Start",t[t.Playing=2]="Playing",t}(i_||{});class s_{constructor(t,e,r){this.state=i_.Inactive,this.world=void 0,this.camera=void 0,this.player=void 0,this.currentMap=[],this.objects=[],this.world=t,this.camera=e,this.player=r,this.setState(i_.Inactive)}setState(t){var e,r,n,i,s;switch(this.state=t,this.state){case i_.Inactive:this.inactiveAllObjects();break;case i_.Start:this.inactiveAllObjects(),this.currentMap=cp,this.camera.gamePosition=[((null!==(e=null===(r=this.currentMap)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.length)&&void 0!==e?e:0)-1)/2,((null!==(i=null===(s=this.currentMap)||void 0===s?void 0:s.length)&&void 0!==i?i:0)-1)/2],this.player.setMap(this.currentMap),this.currentMap.forEach(((t,e)=>{t.forEach(((t,r)=>{const n=[r,e];switch(t){case hp.waterDrop:case hp.knowledgePiece:break;case hp.player:this.player.setRespawnPos(n),this.player.start();case hp.enemy1:case hp.enemy2:case hp.enemy3:case hp.enemy4:}hp.null}))}));break;case i_.Playing:this.player.setStateRespawn()}}update(t){switch(this.state){case i_.Start:break;case i_.Playing:this.player.update(t)}}start(){this.setState(i_.Start)}setStatePlaying(){this.setState(i_.Playing)}inactiveAllObjects(){this.objects.forEach((t=>t.setStateInactive()))}getObject(t){let e=this.objects.find((e=>e.type===t&&e.isStateInactive()));return e||(hp.platform,e=new n_(this.camera),this.objects.push(e),this.world.addChild(e)),e}}var o_=function(t){return t[t.Inactive=0]="Inactive",t[t.Start=1]="Start",t[t.Playing=2]="Playing",t[t.Win=3]="Win",t[t.Lose=4]="Lose",t[t.End=5]="End",t}(o_||{});const a_=new class{constructor(){var t,e;this.application=void 0,this.state=o_.Inactive,this.world=void 0,this.camera=void 0,this.player=void 0,this.objectsControl=void 0,this.application=new Bh({resolution:Math.min(null!==(t=null===(e=window)||void 0===e?void 0:e.devicePixelRatio)&&void 0!==t?t:1,2),backgroundAlpha:0}),this.application.ticker.maxFPS=40,this.application.ticker.minFPS=30,this.application.ticker.stop(),this.application.ticker.add(this.update.bind(this)),this.world=new ch,this.camera=new fp,this.player=new e_(this.camera),this.objectsControl=new s_(this.world,this.camera,this.player),this.application.stage.addChild(this.world),this.world.addChild(this.player),this.world.addChild(this.camera),this.setState(o_.Inactive)}setState(t){if(this.state===o_.Playing)this.application.stage.eventMode="none",this.application.stage.off("pointerdown",this.onPointerDown),this.application.stage.off("pointerup",this.onPointerUp);switch(this.state=t,this.state){case o_.Inactive:break;case o_.Start:this.application.ticker.start(),this.objectsControl.start();break;case o_.Playing:this.objectsControl.setStatePlaying(),this.application.stage.eventMode="static",this.application.stage.on("pointerdown",this.onPointerDown,this),this.application.stage.on("pointerup",this.onPointerUp,this);break;case o_.Win:case o_.Lose:break;case o_.End:this.application.ticker.stop()}}update(t){const e=t/60;switch(this.state){case o_.Start:this.setState(o_.Playing);break;case o_.Playing:this.objectsControl.update(e),this.updateDrawPosition(),this.sortObjects();case o_.Win:case o_.Lose:case o_.End:}}updateParentDiv(t){t.appendChild(this.application.view)}onResize(){const t=Math.max(window.innerWidth,window.innerHeight),e=Math.min(window.innerWidth,window.innerHeight),r=ts,n=ts/t*e;this.application.renderer.resize(r,n),this.application.stage.hitArea=new Oa(0,0,r,n),this.world.position.set(.5*r,.5*n)}start(){this.setState(o_.Start)}end(){this.setState(o_.End)}updateDrawPosition(){this.world.children.forEach((t=>{var e,r;null===t||void 0===t||null===(e=(r=t).updateDrawPosition)||void 0===e||e.call(r)}))}sortObjects(){this.world.children.sort(((t,e)=>t.layout!=e.layout?t.layout-e.layout:t.y!=e.y?t.y-e.y:t.x-e.x))}onPointerDown(t){this.player.onPointerDown(t)}onPointerUp(t){this.player.onPointerUp(t)}};var l_;const u_=()=>{const e=(0,t.useRef)(null),[r,n]=(0,t.useState)(!0);return(0,t.useLayoutEffect)((()=>{null!==e&&void 0!==e&&e.current&&a_.updateParentDiv(e.current)}),[e]),(0,t.useLayoutEffect)((()=>{if(null!==e&&void 0!==e&&e.current)return a_.onResize(),window.addEventListener("resize",a_.onResize.bind(a_)),()=>{window.removeEventListener("resize",a_.onResize.bind(a_))}}),[e]),(0,t.useLayoutEffect)((()=>{null!==e&&void 0!==e&&e.current&&r&&(a_.start(),n(!1))}),[e,r]),(0,t.useLayoutEffect)((()=>()=>{a_.end()}),[]),(0,Di.jsx)(h_,{ref:e})},h_=yi.div(l_||(l_=Ae(["\n    ","\n    > canvas{\n       ","\n    }\n"])),Ai,Ai);var c_,d_,f_,p_;const m_=()=>{const t=Yt();return(0,Di.jsxs)(g_,{children:[(0,Di.jsx)(os,{level:1}),(0,Di.jsx)(u_,{}),(0,Di.jsxs)(v_,{children:[(0,Di.jsx)(y_,{children:"Maze Game"}),(0,Di.jsx)(__,{onClick:()=>{t(-1)}})]})]})},g_=yi.div(c_||(c_=Ae(["\n    ","\n"])),Ai),v_=yi.div(d_||(d_=Ae(["\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    ","\n"])),Ri),y_=yi.div(f_||(f_=Ae(["\n    color: #000;\n    position: relative;\n"]))),__=yi((t=>{let{className:e,onClick:r}=t;return(0,Di.jsx)(Zi,{className:e,onClick:r,children:(0,Di.jsx)("div",{children:"back"})})}))(p_||(p_=Ae(["\n    position: absolute;\n    top: 5px;\n    left: 5px;\n"])));var b_,x_,w_,E_,T_,S_;const A_=()=>{const t=Yt(),e=oe();console.log("error",e,typeof e);let r="";try{r=JSON.stringify({error:{...null!==e&&void 0!==e?e:{},message:null===e||void 0===e?void 0:e.message,stack:null===e||void 0===e?void 0:e.stack}})}catch(e){console.log("stringify error",e)}return(0,Di.jsxs)(C_,{children:[(0,Di.jsx)(R_,{children:"C\xf3 l\u1ed7i x\u1ea3y ra"}),(0,Di.jsx)(P_,{children:"C\xf3 l\u1ed7i x\u1ea3y ra vui l\xf2ng th\u1eed l\u1ea1i!"}),(0,Di.jsx)(I_,{children:r}),(0,Di.jsx)(M_,{onClick:()=>{if(404===(null===e||void 0===e?void 0:e.status))t(-1);else window.location.reload()},children:(0,Di.jsx)(k_,{children:"Th\u1eed l\u1ea1i"})})]})},C_=yi.div(b_||(b_=Ae(["\n    ","\n    ","\n    ","\n    color: #fff;\n"])),Ai,Ii,Ri),R_=yi.div(x_||(x_=Ae(["\n"]))),P_=yi.div(w_||(w_=Ae(["\n"]))),I_=yi.div(E_||(E_=Ae(["\n    width: 70%;\n    max-height: 200px;\n    ","\n    margin: 20px 0 20px;\n    font-size: 12px;\n"])),Mi),M_=yi.div(T_||(T_=Ae(["\n    border: 1px solid #fff;\n    padding: 10px 20px;\n"]))),k_=yi.div(S_||(S_=Ae(["\n\n"]))),D_=()=>{const t=function(t,e){return nt({basename:null==e?void 0:e.basename,future:fe({},null==e?void 0:e.future,{v7_prependBasename:!0}),history:(r={window:null==e?void 0:e.window},void 0===r&&(r={}),g((function(t,e){let{pathname:r,search:n,hash:i}=t.location;return f("",{pathname:r,search:n,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:p(e)}),null,r)),hydrationData:(null==e?void 0:e.hydrationData)||pe(),routes:t,mapRouteProperties:de,window:null==e?void 0:e.window}).initialize();var r}(ce((0,Di.jsxs)(ue,{path:"/",element:(0,Di.jsx)(O_,{}),errorElement:(0,Di.jsx)(A_,{}),children:[(0,Di.jsx)(ue,{path:"",element:(0,Di.jsx)(Hi,{})}),(0,Di.jsx)(ue,{path:Li,element:(0,Di.jsx)(Hi,{})}),(0,Di.jsx)(ue,{path:Fi,element:(0,Di.jsx)(m_,{})})]})),{basename:"/web-game/save-the-water-v2"});return(0,Di.jsx)(we,{router:t})},O_=()=>(0,Di.jsx)(Oi,{children:(0,Di.jsx)(le,{})});n.createRoot(document.getElementById("root")).render((0,Di.jsx)(D_,{})),i()})()})();
//# sourceMappingURL=main.bc3c8c3b.js.map