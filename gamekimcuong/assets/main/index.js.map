{"version":3,"sources":["../../file:/D:/_WorkSpace/momo-game/assets/src/FlowMgr.ts","../../file:/D:/_WorkSpace/momo-game/assets/src/game/Item.ts","../../file:/D:/_WorkSpace/momo-game/assets/src/GameMgr.ts","../../file:/D:/_WorkSpace/momo-game/assets/src/game/Match3Algorithm.ts","../../file:/D:/_WorkSpace/momo-game/assets/src/defines/GameDefine.ts","../../file:/D:/_WorkSpace/momo-game/assets/src/EventMgr.ts","../../file:/D:/_WorkSpace/momo-game/assets/src/defines/GameUtilites.ts"],"names":["_dec","_dec2","_class","_class2","_descriptor","_temp","_RF","push","undefined","ccclass","_decorator","property","STATE","FlowMgr","Node","_Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_assertThisInitialized","_defineProperty","_proto","prototype","start","SetState","INIT","value","_this2","mState","PLAY_GAME","resources","load","RESOURCES_PATH","PREFAB_GAME_MGR","Prefab","err","prefab","gameMgr","instantiate","parent","mGameContainer","update","dt","Component","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","pop","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","EFFECT","Item","type","SpriteFrame","Sprite","UITransform","UIOpacity","Vec2","ZERO","clone","onLoad","node","on","EventType","TOUCH_START","OnTouchStart","TOUCH_END","OnTouchEnd","TOUCH_CANCEL","onEnable","onDisable","APPEAR","SWAP","FALL_DOWN","SetMapPosition","mMapPosTarget","RemoveAllEffect","mSprite","setScale","Vec3","ONE","SetAppearAnimation","mAppearDelay","mAppearDuration","setTimeout","READY","duration","SWAP_DURATION","SetSwapAnimation","MATCH","_duration","MATCH_ANIMATION_DURATION","SetMatchAnimation","RemoveEffect","HINT","INACTIVE","x","mMapPos","y","mFallDownRow","_duration2","FALL_DOWN_1_ROW_DURATION","FALL_DOWN_SCALE_DURATION","SetFallDownAnimation","GameMgr","Instance","UpdateMap","AddEffect","mEffect","mSpriteHint","active","mSpriteHintOpacity","opacity","tween","to","union","repeatForever","VER","HOR","Tween","stopAllByTarget","SetStateInit","mapPos","appearDelay","appearDuration","Type","MAP_SIZE","ROW","IsStateReady","IsStateInactive","Swap","mapPosTarget","isScaleUp","mIsScaleUp","SetStateMatch","SetStateFallDown","fallDownRow","SetEffectHint","oldMapPos","UpdateNodePosition","console","log","setPosition","ConvertMapPosToGamePos","COL","COL_OFFSET","ROW_OFFSET","event","mTouchStartPos","getLocation","scale","easing","touchEndPos","swipeVec2","subtract","SWIPE_OFFSET_MIN","swapTarget","GetSwapTarget","SwapItems","angle","Math","atan2","PI","abs","position","multiplyScalar","_this3","SetSpritePunch","delay","_this4","t1","t2","scaleY","offsetY","mSpriteUITransform","height","by","_createClass","key","get","mType","set","spriteFrame","mArrSpriteFrame","_class3","mInstance","CREATE_NEW_GAME","CreateNewMap","CHECK_ALL_ITEMS_READY","Hint","SWAP_ITEMS","mSwapInfo","item2","setSiblingIndex","item1","mapPosTarget1","mapPosTarget2","UNDO_SWAP_ITEMS","CHECK_MATCH_3_AFTER_SWAP_ITEM","CHECK_MATCH_3_AFTER_SPAWN_ITEM","MATCH_3","mAllResult","forEach","result","ver","pos","mMapItem","error","hor","ITEMS_FALL_DOWN","item","SPAWN_ITEM","mapType","Match3Algorithm","SpawnItem","GetMapType","NUMBER_OF_ITEM_TYPES","_x","minRow","_y","_item","GetItem","_dt","IsAllItemsReady","GetArrResultAtArrPos","IsMatch3","mArrSpawnItemMapPos","IsMatch3Finish","GetSwapInfo","newMapPos","GameUtilites","IsPosInMap","oldItem","uuid","fill","map","GenerateNewMap","mArrItem","e","i","itemNode","mPrefabItem","mItemsContainer","getComponent","mapItem","arrItem","hint","GetHint","RemoveHintAllItem","col","row","numberOfType","_loop","a","isPosOk","xRoot","RandomInt","yRoot","patternMatch3Chance","ARR_PATTERN_MATCH_3_CHANCE","arrPos","element","arrResult","isMatch3","count","alert","GetResultAtPos","arrSpawnPos","c","cIndex","rIndex","arrMatch3Chance","GetArrMatch3Chance","mainType","arrVer","arrHor","_loop2","_loop3","arrOffset","offset","arrType","isSameType","filter","MATCH_LENGTH_4","GAME_EVENT","EVENT_NAME","EventMgr","EventTarget","b","floor","random"],"mappings":"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","file":"all.js","sourcesContent":["import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"2f2c6HtS5BLiKJ44FHDam2M\", \"FlowMgr\", undefined);\n\nimport { _decorator, Component, Node, resources, Prefab, instantiate } from 'cc';\nimport { RESOURCES_PATH } from './defines/GameDefine';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nvar STATE;\n\n(function (STATE) {\n  STATE[STATE[\"NULL\"] = 0] = \"NULL\";\n  STATE[STATE[\"INIT\"] = 1] = \"INIT\";\n  STATE[STATE[\"PLAY_GAME\"] = 2] = \"PLAY_GAME\";\n})(STATE || (STATE = {}));\n\n;\nexport var FlowMgr = (_dec = ccclass('FlowMgr'), _dec2 = property(Node), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(FlowMgr, _Component);\n\n  function FlowMgr() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mGameContainer\", _descriptor, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"mState\", void 0);\n\n    return _this;\n  }\n\n  var _proto = FlowMgr.prototype;\n\n  _proto.start = function start() {\n    this.SetState(STATE.INIT);\n  };\n\n  _proto.SetState = function SetState(value) {\n    var _this2 = this;\n\n    this.mState = value;\n\n    switch (this.mState) {\n      case STATE.INIT:\n        break;\n\n      case STATE.PLAY_GAME:\n        resources.load(RESOURCES_PATH.PREFAB_GAME_MGR, Prefab, function (err, prefab) {\n          if (prefab) {\n            var gameMgr = instantiate(prefab);\n            gameMgr.parent = _this2.mGameContainer;\n          }\n        });\n        break;\n    }\n  };\n\n  _proto.update = function update(dt) {\n    switch (this.mState) {\n      case STATE.INIT:\n        if (true) {\n          this.SetState(STATE.PLAY_GAME);\n        }\n\n        break;\n\n      case STATE.PLAY_GAME:\n        break;\n    }\n  };\n\n  return FlowMgr;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"mGameContainer\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"36c59uAUWBETLRc2rlMiGvI\", \"Item\", undefined);\n\nimport { _decorator, Component, Node, Vec2, SpriteFrame, Sprite, Vec3, tween, UITransform, UIOpacity, Tween } from 'cc';\nimport { FALL_DOWN_1_ROW_DURATION, FALL_DOWN_SCALE_DURATION, MAP_SIZE, MATCH_ANIMATION_DURATION, SWAP_DURATION, SWIPE_OFFSET_MIN } from '../defines/GameDefine';\nimport { GameMgr } from '../GameMgr';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nvar STATE;\n\n(function (STATE) {\n  STATE[STATE[\"NULL\"] = 0] = \"NULL\";\n  STATE[STATE[\"INIT\"] = 1] = \"INIT\";\n  STATE[STATE[\"APPEAR\"] = 2] = \"APPEAR\";\n  STATE[STATE[\"READY\"] = 3] = \"READY\";\n  STATE[STATE[\"SWAP\"] = 4] = \"SWAP\";\n  STATE[STATE[\"MATCH\"] = 5] = \"MATCH\";\n  STATE[STATE[\"FALL_DOWN\"] = 6] = \"FALL_DOWN\";\n  STATE[STATE[\"INACTIVE\"] = 7] = \"INACTIVE\";\n})(STATE || (STATE = {}));\n\n;\nvar EFFECT;\n\n(function (EFFECT) {\n  EFFECT[EFFECT[\"HINT\"] = 1] = \"HINT\";\n  EFFECT[EFFECT[\"VER\"] = 2] = \"VER\";\n  EFFECT[EFFECT[\"HOR\"] = 4] = \"HOR\";\n})(EFFECT || (EFFECT = {}));\n\n;\nexport var Item = (_dec = ccclass('Item'), _dec2 = property({\n  type: [SpriteFrame]\n}), _dec3 = property({\n  type: [SpriteFrame]\n}), _dec4 = property({\n  type: [SpriteFrame]\n}), _dec5 = property(Sprite), _dec6 = property(UITransform), _dec7 = property(Sprite), _dec8 = property(UIOpacity), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Item, _Component);\n\n  function Item() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mArrSpriteFrame\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mArrSpriteFrameHor\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mArrSpriteFrameVer\", _descriptor3, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mSprite\", _descriptor4, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mSpriteUITransform\", _descriptor5, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mSpriteHint\", _descriptor6, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mSpriteHintOpacity\", _descriptor7, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"mState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mType\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mMapPos\", Vec2.ZERO.clone());\n\n    _defineProperty(_assertThisInitialized(_this), \"mMapPosTarget\", Vec2.ZERO.clone());\n\n    _defineProperty(_assertThisInitialized(_this), \"mTouchStartPos\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mIsScaleUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mFallDownRow\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mAppearDelay\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mAppearDuration\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mEffect\", void 0);\n\n    return _this;\n  }\n\n  var _proto = Item.prototype;\n\n  _proto.onLoad = function onLoad() {\n    this.node.on(Node.EventType.TOUCH_START, this.OnTouchStart, this);\n    this.node.on(Node.EventType.TOUCH_END, this.OnTouchEnd, this);\n    this.node.on(Node.EventType.TOUCH_CANCEL, this.OnTouchEnd, this);\n  };\n\n  _proto.onEnable = function onEnable() {};\n\n  _proto.onDisable = function onDisable() {};\n\n  _proto.start = function start() {};\n\n  _proto.SetState = function SetState(value) {\n    var _this2 = this;\n\n    //END OLD STATE\n    switch (this.mState) {\n      case STATE.APPEAR:\n      case STATE.SWAP:\n      case STATE.FALL_DOWN:\n        //set new map pos before STATE.SWAP end\n        this.SetMapPosition(this.mMapPosTarget);\n        break;\n    } //START NEW STATE\n\n\n    this.mState = value;\n\n    switch (this.mState) {\n      case STATE.INIT:\n        this.RemoveAllEffect();\n        this.mSprite.node.setScale(Vec3.ONE);\n        break;\n\n      case STATE.APPEAR:\n        {\n          this.SetAppearAnimation(this.mAppearDelay, this.mAppearDuration); //\n\n          setTimeout(function () {\n            _this2.SetState(STATE.READY);\n          }, (this.mAppearDelay + this.mAppearDuration) * 1000);\n        }\n        break;\n\n      case STATE.READY:\n        break;\n\n      case STATE.SWAP:\n        {\n          var duration = SWAP_DURATION;\n          this.SetSwapAnimation(duration); //\n\n          setTimeout(function () {\n            switch (_this2.mState) {\n              case STATE.SWAP:\n                _this2.SetState(STATE.READY);\n\n                break;\n            }\n          }, duration * 1000);\n        }\n        break;\n\n      case STATE.MATCH:\n        {\n          var _duration = MATCH_ANIMATION_DURATION;\n          this.SetMatchAnimation(_duration); //\n\n          this.RemoveEffect(EFFECT.HINT);\n          setTimeout(function () {\n            switch (_this2.mState) {\n              case STATE.MATCH:\n                _this2.SetState(STATE.INACTIVE);\n\n                break;\n            }\n          }, _duration * 1000);\n        }\n        break;\n\n      case STATE.FALL_DOWN:\n        {\n          this.mMapPosTarget.x = this.mMapPos.x;\n          this.mMapPosTarget.y = this.mMapPos.y - this.mFallDownRow;\n\n          var _duration2 = this.mFallDownRow * FALL_DOWN_1_ROW_DURATION + FALL_DOWN_SCALE_DURATION;\n\n          this.SetFallDownAnimation(_duration2); //\n\n          setTimeout(function () {\n            switch (_this2.mState) {\n              case STATE.FALL_DOWN:\n                _this2.SetState(STATE.READY);\n\n                break;\n            }\n          }, _duration2 * 1000);\n        }\n        break;\n\n      case STATE.INACTIVE:\n        {\n          GameMgr.Instance.UpdateMap(null, this.mMapPos, this.mMapPos);\n        }\n        break;\n    }\n  };\n\n  _proto.AddEffect = function AddEffect(value) {\n    this.mEffect |= value;\n\n    switch (value) {\n      case EFFECT.HINT:\n        this.mSpriteHint.node.active = true;\n        this.mSpriteHintOpacity.opacity = 0;\n        tween(this.mSpriteHintOpacity).to(0.5, {\n          opacity: 255\n        }).to(0.5, {\n          opacity: 0\n        }).union().repeatForever().start();\n        break;\n\n      case EFFECT.VER:\n        break;\n\n      case EFFECT.HOR:\n        break;\n    }\n  };\n\n  _proto.RemoveEffect = function RemoveEffect(value) {\n    this.mEffect = this.mEffect | value - value;\n\n    switch (value) {\n      case EFFECT.HINT:\n        this.mSpriteHint.node.active = false;\n        Tween.stopAllByTarget(this.mSpriteHintOpacity);\n        break;\n\n      case EFFECT.VER:\n        break;\n\n      case EFFECT.HOR:\n        break;\n    }\n  };\n\n  _proto.update = function update(dt) {\n    switch (this.mState) {\n      case STATE.INIT:\n        if (true) {\n          this.SetState(STATE.APPEAR);\n        }\n\n        break;\n\n      case STATE.APPEAR:\n        break;\n\n      case STATE.READY:\n        break;\n\n      case STATE.SWAP:\n        break;\n\n      case STATE.MATCH:\n        break;\n\n      case STATE.FALL_DOWN:\n        break;\n\n      case STATE.INACTIVE:\n        break;\n    }\n  } //PUBLIC FUNCTION\n  ;\n\n  _proto.SetStateInit = function SetStateInit(type, mapPos, appearDelay, appearDuration) {\n    this.Type = type;\n    this.mMapPosTarget = mapPos.clone();\n    this.mAppearDelay = appearDelay;\n    this.mAppearDuration = appearDuration;\n    this.SetMapPosition(new Vec2(mapPos.x, MAP_SIZE.ROW)); //\n\n    this.SetState(STATE.INIT);\n  };\n\n  _proto.IsStateReady = function IsStateReady() {\n    return this.mState == STATE.READY;\n  };\n\n  _proto.IsStateInactive = function IsStateInactive() {\n    return this.mState == STATE.INACTIVE;\n  };\n\n  _proto.Swap = function Swap(mapPosTarget, isScaleUp) {\n    switch (this.mState) {\n      case STATE.READY:\n        this.mMapPosTarget = mapPosTarget.clone();\n        this.mIsScaleUp = isScaleUp; //\n\n        this.SetState(STATE.SWAP);\n        break;\n    }\n  };\n\n  _proto.SetStateMatch = function SetStateMatch() {\n    switch (this.mState) {\n      case STATE.READY:\n        this.SetState(STATE.MATCH);\n        break;\n    }\n  };\n\n  _proto.SetStateFallDown = function SetStateFallDown(fallDownRow) {\n    if (fallDownRow > 0) {\n      switch (this.mState) {\n        case STATE.READY:\n          this.mFallDownRow = fallDownRow; //\n\n          this.SetState(STATE.FALL_DOWN);\n          break;\n      }\n    }\n  };\n\n  _proto.SetEffectHint = function SetEffectHint(value) {\n    value ? this.AddEffect(EFFECT.HINT) : this.RemoveEffect(EFFECT.HINT);\n  };\n\n  _proto.SetMapPosition = function SetMapPosition(mapPos) {\n    var oldMapPos = this.mMapPos.clone();\n    this.mMapPos = mapPos.clone();\n    this.UpdateNodePosition(this.mMapPos);\n    console.log(this.mMapPos);\n    GameMgr.Instance.UpdateMap(this, this.mMapPos, oldMapPos);\n  }\n  /**\r\n   * Calculate node position from map position\r\n   */\n  ;\n\n  _proto.UpdateNodePosition = function UpdateNodePosition(mapPos) {\n    this.node.setPosition(this.ConvertMapPosToGamePos(mapPos));\n  };\n\n  _proto.ConvertMapPosToGamePos = function ConvertMapPosToGamePos(mapPos) {\n    return new Vec3((mapPos.x - (MAP_SIZE.COL - 1) * 0.5) * MAP_SIZE.COL_OFFSET, (mapPos.y - (MAP_SIZE.ROW - 1) * 0.5) * MAP_SIZE.ROW_OFFSET);\n  };\n\n  _proto.OnTouchStart = function OnTouchStart(event) {\n    console.log(\"Item - OnTouchStart\");\n    console.log(this.mMapPos);\n\n    switch (this.mState) {\n      case STATE.READY:\n        // console.log(event);\n        // console.log(event.touch);\n        // console.log(event.getLocation());\n        // console.log(event.getUILocation());\n        this.mTouchStartPos = event.getLocation();\n        tween(this.mSprite.node).to(0.1, {\n          scale: new Vec3(0.9, 0.9, 0.9)\n        }, {\n          easing: \"quadOut\"\n        }).to(0.3, {\n          scale: new Vec3(1, 1, 1)\n        }, {\n          easing: \"elasticOut\"\n        }).start();\n        break;\n    }\n  };\n\n  _proto.OnTouchEnd = function OnTouchEnd(event) {\n    console.log(\"Item - OnTouchEnd\");\n\n    switch (this.mState) {\n      case STATE.READY:\n        var touchEndPos = event.getLocation();\n        var swipeVec2 = new Vec2();\n        Vec2.subtract(swipeVec2, touchEndPos, this.mTouchStartPos); // console.log(swipeVec2, touchEndPos, this.mTouchStartPos);\n        // console.log(\"length: \" + swipeVec2.length());\n        // console.log(\"angle: \" + Vec2.angle(this.mTouchStartPos, touchEndPos)/Math.PI*180);\n        // console.log(\"angle:\" + (Math.atan2(swipeVec2.y, swipeVec2.x)/Math.PI*180));\n\n        if (swipeVec2.length() >= SWIPE_OFFSET_MIN) {\n          var swapTarget = this.GetSwapTarget(swipeVec2);\n          console.log(swapTarget);\n          GameMgr.Instance.SwapItems(this.mMapPos, swapTarget);\n        }\n\n        break;\n    }\n  };\n\n  _proto.GetSwapTarget = function GetSwapTarget(swipeVec2) {\n    var angle = Math.atan2(swipeVec2.y, swipeVec2.x) / Math.PI * 180;\n    var mapPosTarget;\n\n    if (Math.abs(angle - 0) <= 45) {\n      mapPosTarget = new Vec2(this.mMapPos.x + 1, this.mMapPos.y);\n    } else if (Math.abs(angle - 90) <= 45) {\n      mapPosTarget = new Vec2(this.mMapPos.x, this.mMapPos.y + 1);\n    } else if (Math.abs(angle - -90) <= 45) {\n      mapPosTarget = new Vec2(this.mMapPos.x, this.mMapPos.y - 1);\n    } else {\n      mapPosTarget = new Vec2(this.mMapPos.x - 1, this.mMapPos.y);\n    }\n\n    return mapPosTarget;\n  };\n\n  _proto.SetSwapAnimation = function SetSwapAnimation(duration) {\n    tween(this.node).to(duration, {\n      position: this.ConvertMapPosToGamePos(this.mMapPosTarget)\n    }).start();\n    var scale = Vec3.ONE.clone().multiplyScalar(this.mIsScaleUp ? 1.2 : 0.6);\n    tween(this.mSprite.node).to(0.5 * duration, {\n      scale: scale\n    }, {\n      easing: \"sineOut\"\n    }).to(0.5 * duration, {\n      scale: Vec3.ONE\n    }, {\n      easing: \"sineIn\"\n    }).start();\n  };\n\n  _proto.SetMatchAnimation = function SetMatchAnimation(duration) {\n    tween(this.mSprite.node).to(duration, {\n      scale: Vec3.ZERO\n    }).start();\n  };\n\n  _proto.SetFallDownAnimation = function SetFallDownAnimation(duration) {\n    var _this3 = this;\n\n    tween(this.node).to(duration - FALL_DOWN_SCALE_DURATION, {\n      position: this.ConvertMapPosToGamePos(this.mMapPosTarget)\n    }, {\n      easing: \"quadIn\"\n    }).call(function () {\n      _this3.SetSpritePunch(FALL_DOWN_SCALE_DURATION);\n    }).start();\n  };\n\n  _proto.SetAppearAnimation = function SetAppearAnimation(delay, duration) {\n    var _this4 = this;\n\n    tween(this.node).delay(delay).to(duration - FALL_DOWN_SCALE_DURATION, {\n      position: this.ConvertMapPosToGamePos(this.mMapPosTarget)\n    }, {\n      easing: \"quadIn\"\n    }).call(function () {\n      _this4.SetSpritePunch(FALL_DOWN_SCALE_DURATION);\n    }).start();\n    this.mSprite.node.setScale(Vec3.ZERO);\n    tween(this.mSprite.node).delay(delay).to(FALL_DOWN_1_ROW_DURATION, {\n      scale: Vec3.ONE\n    }).start();\n  };\n\n  _proto.SetSpritePunch = function SetSpritePunch(duration) {\n    var t1 = 0.3;\n    var t2 = 1 - t1;\n    var scaleY = 0.8;\n    var offsetY = 0.5 * (1 - scaleY) * this.mSpriteUITransform.height;\n    tween(this.mSprite.node).to(t1 * duration, {\n      scale: new Vec3(1, scaleY, 1)\n    }, {\n      easing: \"sineIn\"\n    }).to(t2 * duration, {\n      scale: new Vec3(1, 1, 1)\n    }, {\n      easing: \"backOut\"\n    }).start();\n    tween(this.mSprite.node).by(t1 * duration, {\n      position: new Vec3(0, -offsetY, 0)\n    }, {\n      easing: \"sineIn\"\n    }).by(t2 * duration, {\n      position: new Vec3(0, offsetY, 0)\n    }, {\n      easing: \"backOut\"\n    }).start();\n  };\n\n  _proto.RemoveAllEffect = function RemoveAllEffect() {\n    console.log(\"RemoveAllEffect\");\n    this.RemoveEffect(EFFECT.HINT);\n    this.RemoveEffect(EFFECT.VER);\n    this.RemoveEffect(EFFECT.HOR);\n  };\n\n  _createClass(Item, [{\n    key: \"Type\",\n    get: function get() {\n      return this.mType;\n    } //PRIVATE\n    ,\n    set: function set(value) {\n      this.mType = value;\n      this.mSprite.spriteFrame = this.mArrSpriteFrame[this.mType];\n    }\n  }]);\n\n  return Item;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"mArrSpriteFrame\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"mArrSpriteFrameHor\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"mArrSpriteFrameVer\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"mSprite\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"mSpriteUITransform\", [_dec6], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, \"mSpriteHint\", [_dec7], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, \"mSpriteHintOpacity\", [_dec8], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _dec3, _class, _class2, _descriptor, _descriptor2, _class3, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"61b3bdCTWJF+5iY93JINKlb\", \"GameMgr\", undefined);\n\nimport { _decorator, Component, Node, Prefab, instantiate, Vec2 } from 'cc';\nimport { FALL_DOWN_1_ROW_DURATION, FALL_DOWN_SCALE_DURATION, MAP_SIZE, NUMBER_OF_ITEM_TYPES } from './defines/GameDefine';\nimport { GameUtilites } from './defines/GameUtilites';\nimport { Item } from './game/Item';\nimport { Match3Algorithm } from './game/Match3Algorithm';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n;\nvar STATE;\n\n(function (STATE) {\n  STATE[STATE[\"NULL\"] = 0] = \"NULL\";\n  STATE[STATE[\"INIT\"] = 1] = \"INIT\";\n  STATE[STATE[\"CREATE_NEW_GAME\"] = 2] = \"CREATE_NEW_GAME\";\n  STATE[STATE[\"CHECK_ALL_ITEMS_READY\"] = 3] = \"CHECK_ALL_ITEMS_READY\";\n  STATE[STATE[\"READY\"] = 4] = \"READY\";\n  STATE[STATE[\"SWAP_ITEMS\"] = 5] = \"SWAP_ITEMS\";\n  STATE[STATE[\"UNDO_SWAP_ITEMS\"] = 6] = \"UNDO_SWAP_ITEMS\";\n  STATE[STATE[\"CHECK_MATCH_3_AFTER_SWAP_ITEM\"] = 7] = \"CHECK_MATCH_3_AFTER_SWAP_ITEM\";\n  STATE[STATE[\"CHECK_MATCH_3_AFTER_SPAWN_ITEM\"] = 8] = \"CHECK_MATCH_3_AFTER_SPAWN_ITEM\";\n  STATE[STATE[\"MATCH_3\"] = 9] = \"MATCH_3\";\n  STATE[STATE[\"ITEMS_FALL_DOWN\"] = 10] = \"ITEMS_FALL_DOWN\";\n  STATE[STATE[\"SPAWN_ITEM\"] = 11] = \"SPAWN_ITEM\";\n})(STATE || (STATE = {}));\n\n;\nexport var GameMgr = (_dec = ccclass('GameMgr'), _dec2 = property(Node), _dec3 = property(Prefab), _dec(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(GameMgr, _Component);\n\n  function GameMgr() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mItemsContainer\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"mPrefabItem\", _descriptor2, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"mState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mMapItem\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mArrItem\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"mSwapInfo\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mAllResult\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"mArrSpawnItemMapPos\", void 0);\n\n    return _this;\n  }\n\n  var _proto = GameMgr.prototype;\n\n  _proto.onLoad = function onLoad() {\n    GameMgr.mInstance = this;\n  };\n\n  _proto.start = function start() {\n    this.SetState(STATE.INIT);\n  };\n\n  _proto.SetState = function SetState(value) {\n    var _this2 = this;\n\n    this.mState = value;\n\n    switch (this.mState) {\n      case STATE.INIT:\n        // this.node.setScale(Vec3.ONE.clone().multiplyScalar(0.5));\n        break;\n\n      case STATE.CREATE_NEW_GAME:\n        this.CreateNewMap();\n        break;\n\n      case STATE.CHECK_ALL_ITEMS_READY:\n        break;\n\n      case STATE.READY:\n        this.Hint();\n        break;\n\n      case STATE.SWAP_ITEMS:\n        //xắp xếp thứ tự vẽ 2 item\n        this.mSwapInfo.item2.node.setSiblingIndex(0);\n        this.mSwapInfo.item1.node.setSiblingIndex(1); //\n\n        this.mSwapInfo.item1.Swap(this.mSwapInfo.mapPosTarget1, true);\n        this.mSwapInfo.item2.Swap(this.mSwapInfo.mapPosTarget2, false);\n        break;\n\n      case STATE.UNDO_SWAP_ITEMS:\n        //xắp xếp thứ tự vẽ 2 item\n        this.mSwapInfo.item1.node.setSiblingIndex(0);\n        this.mSwapInfo.item2.node.setSiblingIndex(1); //\n\n        this.mSwapInfo.item1.Swap(this.mSwapInfo.mapPosTarget2, false);\n        this.mSwapInfo.item2.Swap(this.mSwapInfo.mapPosTarget1, true);\n        break;\n\n      case STATE.CHECK_MATCH_3_AFTER_SWAP_ITEM:\n        break;\n\n      case STATE.CHECK_MATCH_3_AFTER_SPAWN_ITEM:\n        break;\n\n      case STATE.MATCH_3:\n        this.mAllResult.forEach(function (result) {\n          if (result.ver) {\n            result.ver.forEach(function (pos) {\n              try {\n                _this2.mMapItem[pos.x][pos.y].SetStateMatch();\n              } catch (error) {}\n            });\n          }\n\n          if (result.hor) {\n            result.hor.forEach(function (pos) {\n              try {\n                _this2.mMapItem[pos.x][pos.y].SetStateMatch();\n              } catch (error) {}\n            });\n          }\n        });\n        break;\n\n      case STATE.ITEMS_FALL_DOWN:\n        for (var x = 0; x < MAP_SIZE.COL; x++) {\n          var fallDownRow = 0;\n\n          for (var y = 0; y < MAP_SIZE.ROW; y++) {\n            var item = this.mMapItem[x][y];\n\n            if (item) {\n              item.SetStateFallDown(fallDownRow);\n            } else {\n              fallDownRow++;\n            }\n          }\n        }\n\n        break;\n\n      case STATE.SPAWN_ITEM:\n        // for (let x = 0; x < MAP_SIZE.COL; x++)\n        // {\n        //     let minRow = null;\n        //     for (let y = 0; y < MAP_SIZE.ROW; y++)\n        //     {\n        //         if (!this.mMapItem[x][y])\n        //         {\n        //             if (!minRow) { minRow = y; }\n        //             let item = this.GetItem();\n        //             item.SetStateInit(\n        //                 GameUtilites.RandomInt(0, NUMBER_OF_ITEM_TYPES),\n        //                 new Vec2(x, y),\n        //                 (y - minRow) * FALL_DOWN_1_ROW_DURATION,\n        //                 (MAP_SIZE.ROW - y) * FALL_DOWN_1_ROW_DURATION + FALL_DOWN_SCALE_DURATION\n        //             );\n        //         }\n        //     }\n        // }\n        var mapType = Match3Algorithm.Instance.SpawnItem(this.GetMapType(this.mMapItem), MAP_SIZE.COL, MAP_SIZE.ROW, NUMBER_OF_ITEM_TYPES);\n\n        for (var _x = 0; _x < MAP_SIZE.COL; _x++) {\n          var minRow = null;\n\n          for (var _y = 0; _y < MAP_SIZE.ROW; _y++) {\n            if (!this.mMapItem[_x][_y]) {\n              if (!minRow) {\n                minRow = _y;\n              }\n\n              var _item = this.GetItem();\n\n              _item.SetStateInit(mapType[_x][_y], new Vec2(_x, _y), (_y - minRow) * FALL_DOWN_1_ROW_DURATION, (MAP_SIZE.ROW - _y) * FALL_DOWN_1_ROW_DURATION + FALL_DOWN_SCALE_DURATION);\n            }\n          }\n        }\n\n        break;\n    }\n  };\n\n  _proto.update = function update(_dt) {\n    switch (this.mState) {\n      case STATE.INIT:\n        if (true) {\n          this.SetState(STATE.CREATE_NEW_GAME);\n        }\n\n        break;\n\n      case STATE.CREATE_NEW_GAME:\n        if (true) {\n          this.SetState(STATE.CHECK_ALL_ITEMS_READY);\n        }\n\n        break;\n\n      case STATE.CHECK_ALL_ITEMS_READY:\n        if (this.IsAllItemsReady()) {\n          this.SetState(STATE.READY);\n        }\n\n        break;\n\n      case STATE.READY:\n        break;\n\n      case STATE.SWAP_ITEMS:\n        if (this.mSwapInfo.item1.IsStateReady() && this.mSwapInfo.item2.IsStateReady()) {\n          this.SetState(STATE.CHECK_MATCH_3_AFTER_SWAP_ITEM);\n        }\n\n        break;\n\n      case STATE.UNDO_SWAP_ITEMS:\n        if (this.mSwapInfo.item1.IsStateReady() && this.mSwapInfo.item2.IsStateReady()) {\n          this.SetState(STATE.CHECK_ALL_ITEMS_READY);\n        }\n\n        break;\n\n      case STATE.CHECK_MATCH_3_AFTER_SWAP_ITEM:\n        this.mAllResult = Match3Algorithm.Instance.GetArrResultAtArrPos(this.GetMapType(this.mMapItem), [this.mSwapInfo.mapPosTarget1, this.mSwapInfo.mapPosTarget2]);\n\n        if (Match3Algorithm.Instance.IsMatch3(this.mAllResult)) {\n          this.SetState(STATE.MATCH_3);\n        } else {\n          this.SetState(STATE.UNDO_SWAP_ITEMS);\n        }\n\n        break;\n\n      case STATE.CHECK_MATCH_3_AFTER_SPAWN_ITEM:\n        this.mAllResult = Match3Algorithm.Instance.GetArrResultAtArrPos(this.GetMapType(this.mMapItem), this.mArrSpawnItemMapPos);\n\n        if (Match3Algorithm.Instance.IsMatch3(this.mAllResult)) {\n          this.SetState(STATE.MATCH_3);\n        } else {\n          this.SetState(STATE.CHECK_ALL_ITEMS_READY);\n        }\n\n        break;\n\n      case STATE.MATCH_3:\n        if (this.IsMatch3Finish()) {\n          this.SetState(STATE.ITEMS_FALL_DOWN);\n        }\n\n        break;\n\n      case STATE.ITEMS_FALL_DOWN:\n        if (this.IsMatch3Finish()) {\n          this.SetState(STATE.SPAWN_ITEM);\n        }\n\n        break;\n\n      case STATE.SPAWN_ITEM:\n        if (this.IsAllItemsReady()) {\n          this.SetState(STATE.CHECK_MATCH_3_AFTER_SPAWN_ITEM);\n        }\n\n        break;\n    }\n  } //PUBLIC FUNCTION\n  ;\n\n  _proto.SwapItems = function SwapItems(mapPos, swapTarget) {\n    switch (this.mState) {\n      case STATE.READY:\n        this.mSwapInfo = this.GetSwapInfo(mapPos, swapTarget);\n\n        if (this.mSwapInfo.item1 && this.mSwapInfo.item2) {\n          this.SetState(STATE.SWAP_ITEMS);\n        }\n\n        break;\n    }\n  } //\n  ;\n\n  _proto.UpdateMap = function UpdateMap(item, newMapPos, oldMapPos) {\n    if (GameUtilites.IsPosInMap(oldMapPos, MAP_SIZE.COL, MAP_SIZE.ROW)) {\n      try {\n        var oldItem = this.mMapItem[oldMapPos.x][oldMapPos.y];\n\n        if (oldItem.node.uuid == item.node.uuid) {\n          this.mMapItem[oldMapPos.x][oldMapPos.y] = null;\n        }\n      } catch (error) {}\n    }\n\n    if (GameUtilites.IsPosInMap(newMapPos, MAP_SIZE.COL, MAP_SIZE.ROW)) {\n      this.mMapItem[newMapPos.x][newMapPos.y] = item;\n    }\n  } //PRIVATE FUNCTION\n  ;\n\n  _proto.CreateNewMap = function CreateNewMap() {\n    console.log(\"CreateNewMap\"); //create map with all element is null\n\n    this.mMapItem = Array(MAP_SIZE.COL).fill(null).map(function () {\n      return Array(MAP_SIZE.ROW).fill(null);\n    }); //\n\n    var mapType = Match3Algorithm.Instance.GenerateNewMap(MAP_SIZE.COL, MAP_SIZE.ROW, NUMBER_OF_ITEM_TYPES);\n    this.mArrSpawnItemMapPos = [];\n    var minRow = 0;\n\n    for (var x = 0; x < MAP_SIZE.COL; x++) {\n      for (var y = 0; y < MAP_SIZE.ROW; y++) {\n        this.mArrSpawnItemMapPos.push(new Vec2(x, y));\n        var item = this.GetItem();\n        item.SetStateInit(mapType[x][y], new Vec2(x, y), (y - minRow) * FALL_DOWN_1_ROW_DURATION, (MAP_SIZE.ROW - y) * FALL_DOWN_1_ROW_DURATION + FALL_DOWN_SCALE_DURATION);\n      }\n    } //---------\n\n\n    console.log(this.mMapItem);\n    console.log(this.mArrItem);\n    console.log(this.mArrItem.map(function (e) {\n      return e.node.uuid;\n    }));\n  };\n\n  _proto.GetItem = function GetItem() {\n    //find item in mArrItem\n    for (var i = 0; i < this.mArrItem.length; i++) {\n      if (this.mArrItem[i].IsStateInactive()) {\n        return this.mArrItem[i];\n      }\n    } //if dont have item, create new item\n\n\n    var itemNode = instantiate(this.mPrefabItem);\n    itemNode.parent = this.mItemsContainer;\n    var item = itemNode.getComponent(Item);\n    this.mArrItem.push(item);\n    return item;\n  } //check mọi item trên map ready\n  //return true khi mọi item khác null và ready\n  ;\n\n  _proto.IsAllItemsReady = function IsAllItemsReady() {\n    for (var x = 0; x < MAP_SIZE.COL; x++) {\n      for (var y = 0; y < MAP_SIZE.ROW; y++) {\n        var item = this.mMapItem[x][y];\n\n        if (item == null || !item.IsStateReady()) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  } //return true khi mọi item có thể null, nhưng khác null thì phải ready\n  ;\n\n  _proto.IsMatch3Finish = function IsMatch3Finish() {\n    for (var x = 0; x < MAP_SIZE.COL; x++) {\n      for (var y = 0; y < MAP_SIZE.ROW; y++) {\n        var item = this.mMapItem[x][y];\n\n        if (item != null && !item.IsStateReady()) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  _proto.GetSwapInfo = function GetSwapInfo(mapPos, swapTarget) {\n    var item1 = null;\n    var item2 = null;\n\n    try {\n      item1 = this.mMapItem[mapPos.x][mapPos.y];\n      item2 = this.mMapItem[swapTarget.x][swapTarget.y];\n    } catch (error) {}\n\n    var result = {\n      item1: item1,\n      item2: item2,\n      mapPosTarget1: swapTarget.clone(),\n      mapPosTarget2: mapPos.clone()\n    };\n    console.log(\"GetSwapInfo\");\n    console.log(result);\n    return result;\n  };\n\n  _proto.GetMapType = function GetMapType(mapItem) {\n    var mapType;\n    mapType = mapItem.map(function (arrItem) {\n      return arrItem.map(function (item) {\n        return item == null ? null : item.Type;\n      });\n    });\n    return mapType;\n  };\n\n  _proto.Hint = function Hint() {\n    var _this3 = this;\n\n    var hint = Match3Algorithm.Instance.GetHint(this.GetMapType(this.mMapItem), MAP_SIZE.COL, MAP_SIZE.ROW);\n\n    if (hint) {\n      this.RemoveHintAllItem();\n      hint.forEach(function (pos) {\n        _this3.mMapItem[pos.x][pos.y].SetEffectHint(true);\n      });\n    }\n  };\n\n  _proto.RemoveHintAllItem = function RemoveHintAllItem() {\n    this.mMapItem.forEach(function (arrItem) {\n      if (arrItem) {\n        arrItem.forEach(function (item) {\n          if (item) {\n            item.SetEffectHint(false);\n          }\n        });\n      }\n    });\n  };\n\n  _createClass(GameMgr, null, [{\n    key: \"Instance\",\n    get: function get() {\n      return this.mInstance;\n    } //------------------\n\n  }]);\n\n  return GameMgr;\n}(Component), _defineProperty(_class3, \"mInstance\", void 0), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"mItemsContainer\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"mPrefabItem\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"d26e38+Fb5FPLXj5LexPRhl\", \"Match3Algorithm\", undefined);\n\nimport { Vec2, _decorator } from 'cc';\nimport { GameUtilites } from '../defines/GameUtilites';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\n;\nexport var Match3Algorithm = (_dec = ccclass('Match3Algorithm'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function () {\n  function Match3Algorithm() {\n    _defineProperty(this, \"ARR_PATTERN_MATCH_3_CHANCE\", [[new Vec2(0, 0), new Vec2(1, 0), new Vec2(3, 0)], //xx x\n    [new Vec2(0, 0), new Vec2(2, 0), new Vec2(3, 0)], //x xx\n    [new Vec2(0, 0), new Vec2(0, 1), new Vec2(0, 3)], //xx x theo chieu doc\n    [new Vec2(0, 0), new Vec2(0, 2), new Vec2(0, 3)], //x xx theo chieu doc\n    [new Vec2(0, 0), new Vec2(1, 0), new Vec2(2, -1)], [new Vec2(0, 0), new Vec2(0, 1), new Vec2(1, 2)], [new Vec2(0, 0), new Vec2(-1, 0), new Vec2(-2, 1)], [new Vec2(0, 0), new Vec2(0, -1), new Vec2(-1, -2)], [new Vec2(0, 0), new Vec2(1, 0), new Vec2(2, 1)], [new Vec2(0, 0), new Vec2(0, 1), new Vec2(-1, 2)], [new Vec2(0, 0), new Vec2(-1, 0), new Vec2(-2, -1)], [new Vec2(0, 0), new Vec2(0, -1), new Vec2(1, -2)], [new Vec2(0, 0), new Vec2(1, 1), new Vec2(2, 0)], [new Vec2(0, 0), new Vec2(-1, 1), new Vec2(0, 2)], [new Vec2(0, 0), new Vec2(-1, -1), new Vec2(-2, 0)], [new Vec2(0, 0), new Vec2(1, -1), new Vec2(0, -2)]]);\n  }\n\n  var _proto = Match3Algorithm.prototype;\n\n  //PUBLIC FUNCTION\n  _proto.GenerateNewMap = function GenerateNewMap(col, row, numberOfType) {\n    var _this = this;\n\n    //tạo map trống\n    var map = Array(col).fill(null).map(function () {\n      return Array(row).fill(null);\n    }); //=================================================================================================\n\n    {\n      var _loop = function _loop(a) {\n        var isPosOk = true;\n        var xRoot = GameUtilites.RandomInt(0, col);\n        var yRoot = GameUtilites.RandomInt(0, row);\n\n        var patternMatch3Chance = _this.ARR_PATTERN_MATCH_3_CHANCE[GameUtilites.RandomInt(0, _this.ARR_PATTERN_MATCH_3_CHANCE.length)];\n\n        var arrPos = patternMatch3Chance.map(function (pos) {\n          return new Vec2(xRoot + pos.x, yRoot + pos.y);\n        });\n\n        for (var i = 0; i < arrPos.length; i++) {\n          var x = arrPos[i].x;\n          var y = arrPos[i].y;\n\n          if (x < 0 || x >= col || y < 0 || y >= row || map[x][y] != null) {\n            isPosOk = false;\n            break;\n          }\n        }\n\n        if (isPosOk) {\n          var type = GameUtilites.RandomInt(0, numberOfType);\n          arrPos.forEach(function (element) {\n            map[element.x][element.y] = type;\n          });\n\n          var arrResult = _this.GetArrResultAtArrPos(map, arrPos);\n\n          var isMatch3 = _this.IsMatch3(arrResult); //nếu những vị trị mới này tạo ra match 3 \n          //=> ko hợp lệ \n          //=> set lại giá trị những vị trí đó là null\n\n\n          if (isMatch3) {\n            arrPos.forEach(function (element) {\n              map[element.x][element.y] = null;\n            });\n          }\n        }\n      };\n\n      for (var a = 0; a < 1000; a++) {\n        _loop(a);\n      }\n    } //lấp đầy những ô còn lại ===========================================================================\n\n    {\n      for (var x = 0; x < col; x++) {\n        for (var y = 0; y < row; y++) {\n          if (map[x][y] != null) {\n            continue;\n          }\n\n          var count = 1000;\n          var pos = new Vec2(x, y);\n          var isMatch3 = void 0;\n\n          do {\n            count--;\n            var type = GameUtilites.RandomInt(0, numberOfType);\n            map[x][y] = type;\n            var arrResult = this.GetArrResultAtArrPos(map, [pos]);\n            isMatch3 = this.IsMatch3(arrResult);\n          } while (isMatch3 && count >= 0);\n\n          if (count < 0) {\n            alert(\"GenerateNewMap: Fail\");\n            return this.GenerateNewMap(col, row, numberOfType);\n          }\n        }\n      }\n    } //=======================================================================================================\n\n    console.log(\"map\");\n    console.log(map);\n    return map;\n  }\n  /**\r\n   * \r\n  */\n  ;\n\n  _proto.IsMatch3 = function IsMatch3(arrResult) {\n    var result = false;\n    arrResult.forEach(function (element) {\n      if (element.ver || element.hor) {\n        result = true;\n      }\n    });\n    return result;\n  }\n  /**\r\n   * lấy match 3 result tại nhiều điểm trên map\r\n   */\n  ;\n\n  _proto.GetArrResultAtArrPos = function GetArrResultAtArrPos(map, arrPos) {\n    var _this2 = this;\n\n    var arrResult = [];\n    arrPos.forEach(function (pos) {\n      arrResult.push(_this2.GetResultAtPos(map, pos));\n    });\n    return arrResult;\n  }\n  /**\r\n   * \r\n   */\n  ;\n\n  _proto.SpawnItem = function SpawnItem(map, col, row, numberOfType) {\n    console.log(\"SpawnItem\"); //lưu những position để spawn item\n\n    var arrSpawnPos = [];\n    map.forEach(function (c, cIndex) {\n      c.forEach(function (value, rIndex) {\n        if (value == null) {\n          arrSpawnPos.push(new Vec2(cIndex, rIndex));\n        }\n      });\n    }); //==============================================================\n\n    var isMatch3;\n    var arrMatch3Chance;\n\n    do {\n      //random type những ô cần spawn item\n      arrSpawnPos.forEach(function (pos) {\n        map[pos.x][pos.y] = GameUtilites.RandomInt(0, numberOfType);\n      }); //check match3\n\n      var arrResult = this.GetArrResultAtArrPos(map, arrSpawnPos);\n      isMatch3 = this.IsMatch3(arrResult); //check match3Chance\n\n      arrMatch3Chance = this.GetArrMatch3Chance(map, col, row);\n    } //nếu có match3 hoặc match3Chance thì dừng lặp\n    while (!(isMatch3 || arrMatch3Chance.length > 0)); //====================================================================\n\n\n    console.log(map);\n    console.log(map);\n    console.log(arrSpawnPos);\n    return map;\n  } //\n  ;\n\n  _proto.GetHint = function GetHint(map, col, row) {\n    var arrMatch3Chance = this.GetArrMatch3Chance(map, col, row);\n    return arrMatch3Chance.length > 0 ? arrMatch3Chance[GameUtilites.RandomInt(0, arrMatch3Chance.length)] // arrMatch3Chance[0]\n    : null;\n  } //PRIVATE FUNCTION\n\n  /**\r\n   * lấy match 3 result tại 1 điểm trên map\r\n   * nếu không đủ 3 item liên tiếp thì trả về null\r\n   */\n  ;\n\n  _proto.GetResultAtPos = function GetResultAtPos(map, pos) {\n    var x = pos.x;\n    var y = pos.y;\n    var mainType = map[x][y];\n\n    if (mainType == null || mainType < 0) {\n      return {\n        ver: null,\n        hor: null\n      };\n    } //check chiều dọc ==============================================================\n\n\n    x = pos.x;\n    y = pos.y;\n    var arrVer = [];\n    arrVer.push(new Vec2(x, y)); //phía trên\n\n    x = pos.x;\n    y = pos.y;\n\n    try {\n      while (mainType == map[x][++y]) {\n        arrVer.push(new Vec2(x, y));\n      }\n    } catch (error) {} //phía dưới\n\n\n    x = pos.x;\n    y = pos.y;\n\n    try {\n      while (mainType == map[x][--y]) {\n        arrVer.push(new Vec2(x, y));\n      }\n    } catch (error) {} //check chiều ngang ===============================================================================\n\n\n    x = pos.x;\n    y = pos.y;\n    var arrHor = [];\n    arrHor.push(new Vec2(x, y)); //bên phải\n\n    x = pos.x;\n    y = pos.y;\n\n    try {\n      while (mainType == map[++x][y]) {\n        arrHor.push(new Vec2(x, y));\n      }\n    } catch (error) {} //bên trái\n\n\n    x = pos.x;\n    y = pos.y;\n\n    try {\n      while (mainType == map[--x][y]) {\n        arrHor.push(new Vec2(x, y));\n      }\n    } catch (error) {} //====================================================================================\n\n\n    var result = {\n      ver: arrVer.length >= 3 ? arrVer : null,\n      hor: arrHor.length >= 3 ? arrHor : null\n    };\n    return result;\n  }\n  /**\r\n   * duyệt từng vị trí mới tổ hợp match3Chance\r\n   */\n  ;\n\n  _proto.GetArrMatch3Chance = function GetArrMatch3Chance(map, col, row) {\n    var _this3 = this;\n\n    var result = [];\n\n    var _loop2 = function _loop2(x) {\n      var _loop3 = function _loop3(y) {\n        _this3.ARR_PATTERN_MATCH_3_CHANCE.forEach(function (arrOffset) {\n          var arrPos = arrOffset.map(function (offset) {\n            return new Vec2(x + offset.x, y + offset.y);\n          });\n          var arrType = arrPos.map(function (pos) {\n            try {\n              return map[pos.x][pos.y];\n            } catch (error) {\n              return null;\n            }\n          });\n          var isSameType = arrType.filter(function (a) {\n            return a == arrType[0];\n          }).length == arrType.length;\n\n          if (arrType != null && isSameType) {\n            result.push(arrPos);\n          }\n        });\n      };\n\n      for (var y = 0; y < row; y++) {\n        _loop3(y);\n      }\n    };\n\n    for (var x = 0; x < col; x++) {\n      _loop2(x);\n    }\n\n    return result;\n  };\n\n  _createClass(Match3Algorithm, null, [{\n    key: \"Instance\",\n    get: function get() {\n      if (!this.mInstance) {\n        this.mInstance = new Match3Algorithm();\n      }\n\n      return this.mInstance;\n    } //------------\n\n  }]);\n\n  return Match3Algorithm;\n}(), _defineProperty(_class2, \"mInstance\", null), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"d794dgBe7tKjI91/pHGUY21\", \"GameDefine\", undefined);\n\nexport var RESOURCES_PATH;\n\n(function (RESOURCES_PATH) {\n  RESOURCES_PATH[\"PREFAB_GAME_MGR\"] = \"prefabs/GameMgr\";\n})(RESOURCES_PATH || (RESOURCES_PATH = {}));\n\n;\nexport var MAP_SIZE;\n\n(function (MAP_SIZE) {\n  MAP_SIZE[MAP_SIZE[\"ROW\"] = 10] = \"ROW\";\n  MAP_SIZE[MAP_SIZE[\"COL\"] = 5] = \"COL\";\n  MAP_SIZE[MAP_SIZE[\"ROW_OFFSET\"] = 130] = \"ROW_OFFSET\";\n  MAP_SIZE[MAP_SIZE[\"COL_OFFSET\"] = 130] = \"COL_OFFSET\";\n})(MAP_SIZE || (MAP_SIZE = {}));\n\n//distance between two columns\n; //this number cannot be greater than the number of spriteFrame defined in Item\n\nexport var NUMBER_OF_ITEM_TYPES = 6;\nexport var SWIPE_OFFSET_MIN = 30; //vuốt hơn khoảng cách này mới tính là vuốt\n\nexport var SWAP_DURATION = 0.2; //thời gian swap item\n\nexport var MATCH_ANIMATION_DURATION = 0.2;\nexport var FALL_DOWN_1_ROW_DURATION = 0.05;\nexport var FALL_DOWN_SCALE_DURATION = 0.2;\nexport var MATCH_LENGTH_4 = 4;\n\n_cclegacy._RF.pop();","import { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"e9f7c4ortBM2bLV0biXREMr\", \"EventMgr\", undefined);\n\nimport { EventTarget, _decorator } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var GAME_EVENT = \"GAME_EVENT\";\nexport var EVENT_NAME;\n\n(function (EVENT_NAME) {})(EVENT_NAME || (EVENT_NAME = {}));\n\n;\nexport var EventMgr = (_dec = ccclass('EventMgr'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function () {\n  function EventMgr() {}\n\n  _createClass(EventMgr, null, [{\n    key: \"Instance\",\n    get: function get() {\n      return this.mInstance;\n    }\n  }]);\n\n  return EventMgr;\n}(), _defineProperty(_class2, \"mInstance\", new EventTarget()), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"ef074qNTqJL75vNMrdzU6nl\", \"GameUtilites\", undefined);\n\nexport var GameUtilites = /*#__PURE__*/function () {\n  function GameUtilites() {}\n\n  //PUBLIC FUNCTION\n  GameUtilites.RandomInt = function RandomInt(a, b) {\n    return Math.floor(a + (b - a) * Math.random());\n  };\n\n  GameUtilites.IsPosInMap = function IsPosInMap(pos, col, row) {\n    return pos.x >= 0 && pos.x < col && pos.y >= 0 && pos.y < row;\n  };\n\n  return GameUtilites;\n}();\n\n_cclegacy._RF.pop();"]}